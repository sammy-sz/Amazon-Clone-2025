function rV(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function ME(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zv={exports:{}},$h={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HA;function iV(){if(HA)return $h;HA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,o){var u=null;if(o!==void 0&&(u=""+o),i.key!==void 0&&(u=""+i.key),"key"in i){o={};for(var h in i)h!=="key"&&(o[h]=i[h])}else o=i;return i=o.ref,{$$typeof:n,type:r,key:u,ref:i!==void 0?i:null,props:o}}return $h.Fragment=e,$h.jsx=t,$h.jsxs=t,$h}var $A;function sV(){return $A||($A=1,zv.exports=iV()),zv.exports}var q=sV(),qv={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GA;function aV(){if(GA)return Le;GA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function v(z){return z===null||typeof z!="object"?null:(z=_&&z[_]||z["@@iterator"],typeof z=="function"?z:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,I={};function x(z,ae,be){this.props=z,this.context=ae,this.refs=I,this.updater=be||T}x.prototype.isReactComponent={},x.prototype.setState=function(z,ae){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ae,"setState")},x.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function L(){}L.prototype=x.prototype;function M(z,ae,be){this.props=z,this.context=ae,this.refs=I,this.updater=be||T}var U=M.prototype=new L;U.constructor=M,w(U,x.prototype),U.isPureReactComponent=!0;var $=Array.isArray,j={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function V(z,ae,be,ve,ye,Oe){return be=Oe.ref,{$$typeof:n,type:z,key:ae,ref:be!==void 0?be:null,props:Oe}}function C(z,ae){return V(z.type,ae,void 0,void 0,void 0,z.props)}function R(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function b(z){var ae={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(be){return ae[be]})}var P=/\/+/g;function O(z,ae){return typeof z=="object"&&z!==null&&z.key!=null?b(""+z.key):ae.toString(36)}function D(){}function te(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(D,D):(z.status="pending",z.then(function(ae){z.status==="pending"&&(z.status="fulfilled",z.value=ae)},function(ae){z.status==="pending"&&(z.status="rejected",z.reason=ae)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function B(z,ae,be,ve,ye){var Oe=typeof z;(Oe==="undefined"||Oe==="boolean")&&(z=null);var De=!1;if(z===null)De=!0;else switch(Oe){case"bigint":case"string":case"number":De=!0;break;case"object":switch(z.$$typeof){case n:case e:De=!0;break;case g:return De=z._init,B(De(z._payload),ae,be,ve,ye)}}if(De)return ye=ye(z),De=ve===""?"."+O(z,0):ve,$(ye)?(be="",De!=null&&(be=De.replace(P,"$&/")+"/"),B(ye,ae,be,"",function(_t){return _t})):ye!=null&&(R(ye)&&(ye=C(ye,be+(ye.key==null||z&&z.key===ye.key?"":(""+ye.key).replace(P,"$&/")+"/")+De)),ae.push(ye)),1;De=0;var Ct=ve===""?".":ve+":";if($(z))for(var ze=0;ze<z.length;ze++)ve=z[ze],Oe=Ct+O(ve,ze),De+=B(ve,ae,be,Oe,ye);else if(ze=v(z),typeof ze=="function")for(z=ze.call(z),ze=0;!(ve=z.next()).done;)ve=ve.value,Oe=Ct+O(ve,ze++),De+=B(ve,ae,be,Oe,ye);else if(Oe==="object"){if(typeof z.then=="function")return B(te(z),ae,be,ve,ye);throw ae=String(z),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return De}function ee(z,ae,be){if(z==null)return z;var ve=[],ye=0;return B(z,ve,"","",function(Oe){return ae.call(be,Oe,ye++)}),ve}function ie(z){if(z._status===-1){var ae=z._result;ae=ae(),ae.then(function(be){(z._status===0||z._status===-1)&&(z._status=1,z._result=be)},function(be){(z._status===0||z._status===-1)&&(z._status=2,z._result=be)}),z._status===-1&&(z._status=0,z._result=ae)}if(z._status===1)return z._result.default;throw z._result}var ue=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function Te(){}return Le.Children={map:ee,forEach:function(z,ae,be){ee(z,function(){ae.apply(this,arguments)},be)},count:function(z){var ae=0;return ee(z,function(){ae++}),ae},toArray:function(z){return ee(z,function(ae){return ae})||[]},only:function(z){if(!R(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Le.Component=x,Le.Fragment=t,Le.Profiler=i,Le.PureComponent=M,Le.StrictMode=r,Le.Suspense=d,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Le.act=function(){throw Error("act(...) is not supported in production builds of React.")},Le.cache=function(z){return function(){return z.apply(null,arguments)}},Le.cloneElement=function(z,ae,be){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ve=w({},z.props),ye=z.key,Oe=void 0;if(ae!=null)for(De in ae.ref!==void 0&&(Oe=void 0),ae.key!==void 0&&(ye=""+ae.key),ae)!H.call(ae,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&ae.ref===void 0||(ve[De]=ae[De]);var De=arguments.length-2;if(De===1)ve.children=be;else if(1<De){for(var Ct=Array(De),ze=0;ze<De;ze++)Ct[ze]=arguments[ze+2];ve.children=Ct}return V(z.type,ye,void 0,void 0,Oe,ve)},Le.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},Le.createElement=function(z,ae,be){var ve,ye={},Oe=null;if(ae!=null)for(ve in ae.key!==void 0&&(Oe=""+ae.key),ae)H.call(ae,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(ye[ve]=ae[ve]);var De=arguments.length-2;if(De===1)ye.children=be;else if(1<De){for(var Ct=Array(De),ze=0;ze<De;ze++)Ct[ze]=arguments[ze+2];ye.children=Ct}if(z&&z.defaultProps)for(ve in De=z.defaultProps,De)ye[ve]===void 0&&(ye[ve]=De[ve]);return V(z,Oe,void 0,void 0,null,ye)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(z){return{$$typeof:h,render:z}},Le.isValidElement=R,Le.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:ie}},Le.memo=function(z,ae){return{$$typeof:f,type:z,compare:ae===void 0?null:ae}},Le.startTransition=function(z){var ae=j.T,be={};j.T=be;try{var ve=z(),ye=j.S;ye!==null&&ye(be,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(Te,ue)}catch(Oe){ue(Oe)}finally{j.T=ae}},Le.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Le.use=function(z){return j.H.use(z)},Le.useActionState=function(z,ae,be){return j.H.useActionState(z,ae,be)},Le.useCallback=function(z,ae){return j.H.useCallback(z,ae)},Le.useContext=function(z){return j.H.useContext(z)},Le.useDebugValue=function(){},Le.useDeferredValue=function(z,ae){return j.H.useDeferredValue(z,ae)},Le.useEffect=function(z,ae){return j.H.useEffect(z,ae)},Le.useId=function(){return j.H.useId()},Le.useImperativeHandle=function(z,ae,be){return j.H.useImperativeHandle(z,ae,be)},Le.useInsertionEffect=function(z,ae){return j.H.useInsertionEffect(z,ae)},Le.useLayoutEffect=function(z,ae){return j.H.useLayoutEffect(z,ae)},Le.useMemo=function(z,ae){return j.H.useMemo(z,ae)},Le.useOptimistic=function(z,ae){return j.H.useOptimistic(z,ae)},Le.useReducer=function(z,ae,be){return j.H.useReducer(z,ae,be)},Le.useRef=function(z){return j.H.useRef(z)},Le.useState=function(z){return j.H.useState(z)},Le.useSyncExternalStore=function(z,ae,be){return j.H.useSyncExternalStore(z,ae,be)},Le.useTransition=function(){return j.H.useTransition()},Le.version="19.0.0",Le}var KA;function so(){return KA||(KA=1,qv.exports=aV()),qv.exports}var W=so();const Ke=ME(W),x0=rV({__proto__:null,default:Ke},[W]);var Hv={exports:{}},Gh={},$v={exports:{}},Gv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WA;function oV(){return WA||(WA=1,function(n){function e(ee,ie){var ue=ee.length;ee.push(ie);e:for(;0<ue;){var Te=ue-1>>>1,z=ee[Te];if(0<i(z,ie))ee[Te]=ie,ee[ue]=z,ue=Te;else break e}}function t(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var ie=ee[0],ue=ee.pop();if(ue!==ie){ee[0]=ue;e:for(var Te=0,z=ee.length,ae=z>>>1;Te<ae;){var be=2*(Te+1)-1,ve=ee[be],ye=be+1,Oe=ee[ye];if(0>i(ve,ue))ye<z&&0>i(Oe,ve)?(ee[Te]=Oe,ee[ye]=ue,Te=ye):(ee[Te]=ve,ee[be]=ue,Te=be);else if(ye<z&&0>i(Oe,ue))ee[Te]=Oe,ee[ye]=ue,Te=ye;else break e}}return ie}function i(ee,ie){var ue=ee.sortIndex-ie.sortIndex;return ue!==0?ue:ee.id-ie.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var d=[],f=[],g=1,_=null,v=3,T=!1,w=!1,I=!1,x=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function U(ee){for(var ie=t(f);ie!==null;){if(ie.callback===null)r(f);else if(ie.startTime<=ee)r(f),ie.sortIndex=ie.expirationTime,e(d,ie);else break;ie=t(f)}}function $(ee){if(I=!1,U(ee),!w)if(t(d)!==null)w=!0,te();else{var ie=t(f);ie!==null&&B($,ie.startTime-ee)}}var j=!1,H=-1,V=5,C=-1;function R(){return!(n.unstable_now()-C<V)}function b(){if(j){var ee=n.unstable_now();C=ee;var ie=!0;try{e:{w=!1,I&&(I=!1,L(H),H=-1),T=!0;var ue=v;try{t:{for(U(ee),_=t(d);_!==null&&!(_.expirationTime>ee&&R());){var Te=_.callback;if(typeof Te=="function"){_.callback=null,v=_.priorityLevel;var z=Te(_.expirationTime<=ee);if(ee=n.unstable_now(),typeof z=="function"){_.callback=z,U(ee),ie=!0;break t}_===t(d)&&r(d),U(ee)}else r(d);_=t(d)}if(_!==null)ie=!0;else{var ae=t(f);ae!==null&&B($,ae.startTime-ee),ie=!1}}break e}finally{_=null,v=ue,T=!1}ie=void 0}}finally{ie?P():j=!1}}}var P;if(typeof M=="function")P=function(){M(b)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,D=O.port2;O.port1.onmessage=b,P=function(){D.postMessage(null)}}else P=function(){x(b,0)};function te(){j||(j=!0,P())}function B(ee,ie){H=x(function(){ee(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_continueExecution=function(){w||T||(w=!0,te())},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(ee){switch(v){case 1:case 2:case 3:var ie=3;break;default:ie=v}var ue=v;v=ie;try{return ee()}finally{v=ue}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ee,ie){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ue=v;v=ee;try{return ie()}finally{v=ue}},n.unstable_scheduleCallback=function(ee,ie,ue){var Te=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Te+ue:Te):ue=Te,ee){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=ue+z,ee={id:g++,callback:ie,priorityLevel:ee,startTime:ue,expirationTime:z,sortIndex:-1},ue>Te?(ee.sortIndex=ue,e(f,ee),t(d)===null&&ee===t(f)&&(I?(L(H),H=-1):I=!0,B($,ue-Te))):(ee.sortIndex=z,e(d,ee),w||T||(w=!0,te())),ee},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(ee){var ie=v;return function(){var ue=v;v=ie;try{return ee.apply(this,arguments)}finally{v=ue}}}}(Gv)),Gv}var QA;function lV(){return QA||(QA=1,$v.exports=oV()),$v.exports}var Kv={exports:{}},Fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YA;function uV(){if(YA)return Fn;YA=1;var n=so();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(d,f,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:_==null?null:""+_,children:d,containerInfo:f,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Fn.createPortal=function(d,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(d,f,null,g)},Fn.flushSync=function(d){var f=u.T,g=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=f,r.p=g,r.d.f()}},Fn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},Fn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Fn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var g=f.as,_=h(g,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,T=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:T}):g==="script"&&r.d.X(d,{crossOrigin:_,integrity:v,fetchPriority:T,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Fn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=h(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},Fn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,_=h(g,f.crossOrigin);r.d.L(d,g,{crossOrigin:_,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Fn.preloadModule=function(d,f){if(typeof d=="string")if(f){var g=h(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},Fn.requestFormReset=function(d){r.d.r(d)},Fn.unstable_batchedUpdates=function(d,f){return d(f)},Fn.useFormState=function(d,f,g){return u.H.useFormState(d,f,g)},Fn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Fn.version="19.0.0",Fn}var XA;function cV(){if(XA)return Kv.exports;XA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Kv.exports=uV(),Kv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JA;function hV(){if(JA)return Gh;JA=1;var n=lV(),e=so(),t=cV();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}var o=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),T=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),$=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=j&&s[j]||s["@@iterator"],typeof s=="function"?s:null)}var V=Symbol.for("react.client.reference");function C(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===V?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case d:return"Fragment";case h:return"Portal";case g:return"Profiler";case f:return"StrictMode";case I:return"Suspense";case x:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case T:return(s.displayName||"Context")+".Provider";case v:return(s._context.displayName||"Context")+".Consumer";case w:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case L:return a=s.displayName||null,a!==null?a:C(s.type)||"Memo";case M:a=s._payload,s=s._init;try{return C(s(a))}catch{}}return null}var R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,b=Object.assign,P,O;function D(s){if(P===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);P=a&&a[1]||"",O=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+P+s+O}var te=!1;function B(s,a){if(!s||te)return"";te=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(le){var Z=le}Reflect.construct(s,[],fe)}else{try{fe.call()}catch(le){Z=le}s.call(fe.prototype)}}else{try{throw Error()}catch(le){Z=le}(fe=s())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(le){if(le&&Z&&typeof le.stack=="string")return[le.stack,Z.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),A=y[0],N=y[1];if(A&&N){var F=A.split(`
`),K=N.split(`
`);for(m=c=0;c<F.length&&!F[c].includes("DetermineComponentFrameRoot");)c++;for(;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;if(c===F.length||m===K.length)for(c=F.length-1,m=K.length-1;1<=c&&0<=m&&F[c]!==K[m];)m--;for(;1<=c&&0<=m;c--,m--)if(F[c]!==K[m]){if(c!==1||m!==1)do if(c--,m--,0>m||F[c]!==K[m]){var ce=`
`+F[c].replace(" at new "," at ");return s.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",s.displayName)),ce}while(1<=c&&0<=m);break}}}finally{te=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?D(l):""}function ee(s){switch(s.tag){case 26:case 27:case 5:return D(s.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return s=B(s.type,!1),s;case 11:return s=B(s.type.render,!1),s;case 1:return s=B(s.type,!0),s;default:return""}}function ie(s){try{var a="";do a+=ee(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function ue(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,a.flags&4098&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function Te(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function z(s){if(ue(s)!==s)throw Error(r(188))}function ae(s){var a=s.alternate;if(!a){if(a=ue(s),a===null)throw Error(r(188));return a!==s?null:s}for(var l=s,c=a;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return z(m),s;if(y===c)return z(m),a;y=y.sibling}throw Error(r(188))}if(l.return!==c.return)l=m,c=y;else{for(var A=!1,N=m.child;N;){if(N===l){A=!0,l=m,c=y;break}if(N===c){A=!0,c=m,l=y;break}N=N.sibling}if(!A){for(N=y.child;N;){if(N===l){A=!0,l=y,c=m;break}if(N===c){A=!0,c=y,l=m;break}N=N.sibling}if(!A)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:a}function be(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=be(s),a!==null)return a;s=s.sibling}return null}var ve=Array.isArray,ye=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oe={pending:!1,data:null,method:null,action:null},De=[],Ct=-1;function ze(s){return{current:s}}function _t(s){0>Ct||(s.current=De[Ct],De[Ct]=null,Ct--)}function $e(s,a){Ct++,De[Ct]=s.current,s.current=a}var Et=ze(null),Je=ze(null),at=ze(null),Jt=ze(null);function fr(s,a){switch($e(at,a),$e(Je,s),$e(Et,null),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?vA(a):0;break;default:if(s=s===8?a.parentNode:a,a=s.tagName,s=s.namespaceURI)s=vA(s),a=EA(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}_t(Et),$e(Et,a)}function Mn(){_t(Et),_t(Je),_t(at)}function Or(s){s.memoizedState!==null&&$e(Jt,s);var a=Et.current,l=EA(a,s.type);a!==l&&($e(Je,s),$e(Et,l))}function Ln(s){Je.current===s&&(_t(Et),_t(Je)),Jt.current===s&&(_t(Jt),Fh._currentValue=Oe)}var rr=Object.prototype.hasOwnProperty,Zr=n.unstable_scheduleCallback,Pl=n.unstable_cancelCallback,Hy=n.unstable_shouldYield,jc=n.unstable_requestPaint,ir=n.unstable_now,Hf=n.unstable_getCurrentPriorityLevel,un=n.unstable_ImmediatePriority,yn=n.unstable_UserBlockingPriority,Zi=n.unstable_NormalPriority,$f=n.unstable_LowPriority,zc=n.unstable_IdlePriority,$y=n.log,mo=n.unstable_setDisableYieldValue,Ks=null,Un=null;function qc(s){if(Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(Ks,s,void 0,(s.current.flags&128)===128)}catch{}}function di(s){if(typeof $y=="function"&&mo(s),Un&&typeof Un.setStrictMode=="function")try{Un.setStrictMode(Ks,s)}catch{}}var Kn=Math.clz32?Math.clz32:Kf,Hc=Math.log,Gf=Math.LN2;function Kf(s){return s>>>=0,s===0?32:31-(Hc(s)/Gf|0)|0}var fi=128,Ws=4194304;function ei(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Dr(s,a){var l=s.pendingLanes;if(l===0)return 0;var c=0,m=s.suspendedLanes,y=s.pingedLanes,A=s.warmLanes;s=s.finishedLanes!==0;var N=l&134217727;return N!==0?(l=N&~m,l!==0?c=ei(l):(y&=N,y!==0?c=ei(y):s||(A=N&~A,A!==0&&(c=ei(A))))):(N=l&~m,N!==0?c=ei(N):y!==0?c=ei(y):s||(A=l&~A,A!==0&&(c=ei(A)))),c===0?0:a!==0&&a!==c&&!(a&m)&&(m=c&-c,A=a&-a,m>=A||m===32&&(A&4194176)!==0)?a:c}function Qs(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Ol(s,a){switch(s){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $c(){var s=fi;return fi<<=1,!(fi&4194176)&&(fi=128),s}function Ys(){var s=Ws;return Ws<<=1,!(Ws&62914560)&&(Ws=4194304),s}function Dl(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function Gt(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Wf(s,a,l,c,m,y){var A=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var N=s.entanglements,F=s.expirationTimes,K=s.hiddenUpdates;for(l=A&~l;0<l;){var ce=31-Kn(l),fe=1<<ce;N[ce]=0,F[ce]=-1;var Z=K[ce];if(Z!==null)for(K[ce]=null,ce=0;ce<Z.length;ce++){var le=Z[ce];le!==null&&(le.lane&=-536870913)}l&=~fe}c!==0&&Xs(s,c,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(A&~a))}function Xs(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var c=31-Kn(a);s.entangledLanes|=a,s.entanglements[c]=s.entanglements[c]|1073741824|l&4194218}function Js(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var c=31-Kn(l),m=1<<c;m&a|s[c]&a&&(s[c]|=a),l&=~m}}function Qf(s){return s&=-s,2<s?8<s?s&134217727?32:268435456:8:2}function Yf(){var s=ye.p;return s!==0?s:(s=window.event,s===void 0?32:UA(s.type))}function Zs(s,a){var l=ye.p;try{return ye.p=s,a()}finally{ye.p=l}}var pi=Math.random().toString(36).slice(2),_n="__reactFiber$"+pi,cn="__reactProps$"+pi,es="__reactContainer$"+pi,go="__reactEvents$"+pi,Nl="__reactListeners$"+pi,mi="__reactHandles$"+pi,Gc="__reactResources$"+pi,ea="__reactMarker$"+pi;function yo(s){delete s[_n],delete s[cn],delete s[go],delete s[Nl],delete s[mi]}function ti(s){var a=s[_n];if(a)return a;for(var l=s.parentNode;l;){if(a=l[es]||l[_n]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=TA(s);s!==null;){if(l=s[_n])return l;s=TA(s)}return a}s=l,l=s.parentNode}return null}function ts(s){if(s=s[_n]||s[es]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function ta(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function na(s){var a=s[Gc];return a||(a=s[Gc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function xt(s){s[ea]=!0}var Kc=new Set,kl={};function pr(s,a){sr(s,a),sr(s+"Capture",a)}function sr(s,a){for(kl[s]=a,s=0;s<a.length;s++)Kc.add(a[s])}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wc={},Qc={};function Xf(s){return rr.call(Qc,s)?!0:rr.call(Wc,s)?!1:Gy.test(s)?Qc[s]=!0:(Wc[s]=!0,!1)}function ra(s,a,l){if(Xf(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function ia(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function Nr(s,a,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+c)}}function Wn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Jf(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ky(s){var a=Jf(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),c=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(A){c=""+A,y.call(this,A)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function _o(s){s._valueTracker||(s._valueTracker=Ky(s))}function Yc(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return s&&(c=Jf(s)?s.checked?"true":"false":s.value),s=c,s!==l?(a.setValue(s),!0):!1}function Vl(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ns=/[\n"\\]/g;function Lt(s){return s.replace(ns,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function sa(s,a,l,c,m,y,A,N){s.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.type=A:s.removeAttribute("type"),a!=null?A==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Wn(a)):s.value!==""+Wn(a)&&(s.value=""+Wn(a)):A!=="submit"&&A!=="reset"||s.removeAttribute("value"),a!=null?Ml(s,A,Wn(a)):l!=null?Ml(s,A,Wn(l)):c!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?s.name=""+Wn(N):s.removeAttribute("name")}function vo(s,a,l,c,m,y,A,N){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+Wn(l):"",a=a!=null?""+Wn(a):l,N||a===s.value||(s.value=a),s.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=N?s.checked:!!c,s.defaultChecked=!!c,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(s.name=A)}function Ml(s,a,l){a==="number"&&Vl(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Ze(s,a,l,c){if(s=s.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=a.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&c&&(s[l].defaultSelected=!0)}else{for(l=""+Wn(l),a=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function Eo(s,a,l){if(a!=null&&(a=""+Wn(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+Wn(l):""}function aa(s,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(ve(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Wn(a),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c)}function kr(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var Wy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xc(s,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":c?s.setProperty(a,l):typeof l!="number"||l===0||Wy.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function Zf(s,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&l[m]!==c&&Xc(s,m,c)}else for(var y in a)a.hasOwnProperty(y)&&Xc(s,y,a[y])}function Jc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gi(s){return Yy.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Vr=null;function Ll(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var rs=null,is=null;function ss(s){var a=ts(s);if(a&&(s=a.stateNode)){var l=s[cn]||null;e:switch(s=a.stateNode,a.type){case"input":if(sa(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Lt(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==s&&c.form===s.form){var m=c[cn]||null;if(!m)throw Error(r(90));sa(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===s.form&&Yc(c)}break e;case"textarea":Eo(s,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Ze(s,!!l.multiple,a,!1)}}}var Zc=!1;function ep(s,a,l){if(Zc)return s(a,l);Zc=!0;try{var c=s(a);return c}finally{if(Zc=!1,(rs!==null||is!==null)&&($p(),rs&&(a=rs,s=is,is=rs=null,ss(a),s)))for(a=0;a<s.length;a++)ss(s[a])}}function bo(s,a){var l=s.stateNode;if(l===null)return null;var c=l[cn]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Mr=!1;if(mr)try{var wo={};Object.defineProperty(wo,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",wo,wo),window.removeEventListener("test",wo,wo)}catch{Mr=!1}var yi=null,oa=null,as=null;function eh(){if(as)return as;var s,a=oa,l=a.length,c,m="value"in yi?yi.value:yi.textContent,y=m.length;for(s=0;s<l&&a[s]===m[s];s++);var A=l-s;for(c=1;c<=A&&a[l-c]===m[y-c];c++);return as=m.slice(s,1<c?1-c:void 0)}function _i(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function vi(){return!0}function th(){return!1}function vn(s){function a(l,c,m,y,A){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=A,this.currentTarget=null;for(var N in s)s.hasOwnProperty(N)&&(l=s[N],this[N]=l?l(y):y[N]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?vi:th,this.isPropagationStopped=th,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=vi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=vi)},persist:function(){},isPersistent:vi}),a}var st={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ul=vn(st),To=b({},st,{view:0,detail:0}),tp=vn(To),Bl,Fl,Ei,So=b({},To,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ro,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ei&&(Ei&&s.type==="mousemove"?(Bl=s.screenX-Ei.screenX,Fl=s.screenY-Ei.screenY):Fl=Bl=0,Ei=s),Bl)},movementY:function(s){return"movementY"in s?s.movementY:Fl}}),Lr=vn(So),np=b({},So,{dataTransfer:0}),Xy=vn(np),Ao=b({},To,{relatedTarget:0}),jl=vn(Ao),nh=b({},st,{animationName:0,elapsedTime:0,pseudoElement:0}),zl=vn(nh),rp=b({},st,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ql=vn(rp),Jy=b({},st,{data:0}),rh=vn(Jy),Io={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ip={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ih(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=sp[s])?!!a[s]:!1}function Ro(){return ih}var ap=b({},To,{key:function(s){if(s.key){var a=Io[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=_i(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ip[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ro,charCode:function(s){return s.type==="keypress"?_i(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?_i(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Hl=vn(ap),op=b({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sh=vn(op),os=b({},To,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ro}),lp=vn(os),up=b({},st,{propertyName:0,elapsedTime:0,pseudoElement:0}),cp=vn(up),hp=b({},So,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),$l=vn(hp),Qn=b({},st,{newState:0,oldState:0}),dp=vn(Qn),fp=[9,13,27,32],bi=mr&&"CompositionEvent"in window,p=null;mr&&"documentMode"in document&&(p=document.documentMode);var E=mr&&"TextEvent"in window&&!p,S=mr&&(!bi||p&&8<p&&11>=p),k=" ",Y=!1;function re(s,a){switch(s){case"keyup":return fp.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ge(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var We=!1;function hn(s,a){switch(s){case"compositionend":return ge(a);case"keypress":return a.which!==32?null:(Y=!0,k);case"textInput":return s=a.data,s===k&&Y?null:s;default:return null}}function Qe(s,a){if(We)return s==="compositionend"||!bi&&re(s,a)?(s=eh(),as=oa=yi=null,We=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return S&&a.locale!=="ko"?null:a.data;default:return null}}var En={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dn(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!En[s.type]:a==="textarea"}function ls(s,a,l,c){rs?is?is.push(c):is=[c]:rs=c,a=Yp(a,"onChange"),0<a.length&&(l=new Ul("onChange","change",null,l,c),s.push({event:l,listeners:a}))}var Cn=null,wi=null;function ah(s){pA(s,0)}function pp(s){var a=ta(s);if(Yc(a))return s}function qw(s,a){if(s==="change")return a}var Hw=!1;if(mr){var Zy;if(mr){var e_="oninput"in document;if(!e_){var $w=document.createElement("div");$w.setAttribute("oninput","return;"),e_=typeof $w.oninput=="function"}Zy=e_}else Zy=!1;Hw=Zy&&(!document.documentMode||9<document.documentMode)}function Gw(){Cn&&(Cn.detachEvent("onpropertychange",Kw),wi=Cn=null)}function Kw(s){if(s.propertyName==="value"&&pp(wi)){var a=[];ls(a,wi,s,Ll(s)),ep(ah,a)}}function Nk(s,a,l){s==="focusin"?(Gw(),Cn=a,wi=l,Cn.attachEvent("onpropertychange",Kw)):s==="focusout"&&Gw()}function kk(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return pp(wi)}function Vk(s,a){if(s==="click")return pp(a)}function Mk(s,a){if(s==="input"||s==="change")return pp(a)}function Lk(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var gr=typeof Object.is=="function"?Object.is:Lk;function oh(s,a){if(gr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!rr.call(a,m)||!gr(s[m],a[m]))return!1}return!0}function Ww(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Qw(s,a){var l=Ww(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=a&&c>=a)return{node:l,offset:a-s};s=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ww(l)}}function Yw(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Yw(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Xw(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Vl(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=Vl(s.document)}return a}function t_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function Uk(s,a){var l=Xw(a);a=s.focusedElem;var c=s.selectionRange;if(l!==a&&a&&a.ownerDocument&&Yw(a.ownerDocument.documentElement,a)){if(c!==null&&t_(a)){if(s=c.start,l=c.end,l===void 0&&(l=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(l,a.value.length);else if(l=(s=a.ownerDocument||document)&&s.defaultView||window,l.getSelection){l=l.getSelection();var m=a.textContent.length,y=Math.min(c.start,m);c=c.end===void 0?y:Math.min(c.end,m),!l.extend&&y>c&&(m=c,c=y,y=m),m=Qw(a,y);var A=Qw(a,c);m&&A&&(l.rangeCount!==1||l.anchorNode!==m.node||l.anchorOffset!==m.offset||l.focusNode!==A.node||l.focusOffset!==A.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),l.removeAllRanges(),y>c?(l.addRange(s),l.extend(A.node,A.offset)):(s.setEnd(A.node,A.offset),l.addRange(s)))}}for(s=[],l=a;l=l.parentNode;)l.nodeType===1&&s.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)l=s[a],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var Bk=mr&&"documentMode"in document&&11>=document.documentMode,Gl=null,n_=null,lh=null,r_=!1;function Jw(s,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;r_||Gl==null||Gl!==Vl(c)||(c=Gl,"selectionStart"in c&&t_(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),lh&&oh(lh,c)||(lh=c,c=Yp(n_,"onSelect"),0<c.length&&(a=new Ul("onSelect","select",null,a,l),s.push({event:a,listeners:c}),a.target=Gl)))}function Co(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var Kl={animationend:Co("Animation","AnimationEnd"),animationiteration:Co("Animation","AnimationIteration"),animationstart:Co("Animation","AnimationStart"),transitionrun:Co("Transition","TransitionRun"),transitionstart:Co("Transition","TransitionStart"),transitioncancel:Co("Transition","TransitionCancel"),transitionend:Co("Transition","TransitionEnd")},i_={},Zw={};mr&&(Zw=document.createElement("div").style,"AnimationEvent"in window||(delete Kl.animationend.animation,delete Kl.animationiteration.animation,delete Kl.animationstart.animation),"TransitionEvent"in window||delete Kl.transitionend.transition);function xo(s){if(i_[s])return i_[s];if(!Kl[s])return s;var a=Kl[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in Zw)return i_[s]=a[l];return s}var eT=xo("animationend"),tT=xo("animationiteration"),nT=xo("animationstart"),Fk=xo("transitionrun"),jk=xo("transitionstart"),zk=xo("transitioncancel"),rT=xo("transitionend"),iT=new Map,sT="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ni(s,a){iT.set(s,a),pr(a,[s])}var Ur=[],Wl=0,s_=0;function mp(){for(var s=Wl,a=s_=Wl=0;a<s;){var l=Ur[a];Ur[a++]=null;var c=Ur[a];Ur[a++]=null;var m=Ur[a];Ur[a++]=null;var y=Ur[a];if(Ur[a++]=null,c!==null&&m!==null){var A=c.pending;A===null?m.next=m:(m.next=A.next,A.next=m),c.pending=m}y!==0&&aT(l,m,y)}}function gp(s,a,l,c){Ur[Wl++]=s,Ur[Wl++]=a,Ur[Wl++]=l,Ur[Wl++]=c,s_|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function a_(s,a,l,c){return gp(s,a,l,c),yp(s)}function la(s,a){return gp(s,null,null,a),yp(s)}function aT(s,a,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var m=!1,y=s.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;m&&a!==null&&s.tag===3&&(y=s.stateNode,m=31-Kn(l),y=y.hiddenUpdates,s=y[m],s===null?y[m]=[a]:s.push(a),a.lane=l|536870912)}function yp(s){if(50<Nh)throw Nh=0,dv=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Ql={},oT=new WeakMap;function Br(s,a){if(typeof s=="object"&&s!==null){var l=oT.get(s);return l!==void 0?l:(a={value:s,source:a,stack:ie(a)},oT.set(s,a),a)}return{value:s,source:a,stack:ie(a)}}var Yl=[],Xl=0,_p=null,vp=0,Fr=[],jr=0,Po=null,us=1,cs="";function Oo(s,a){Yl[Xl++]=vp,Yl[Xl++]=_p,_p=s,vp=a}function lT(s,a,l){Fr[jr++]=us,Fr[jr++]=cs,Fr[jr++]=Po,Po=s;var c=us;s=cs;var m=32-Kn(c)-1;c&=~(1<<m),l+=1;var y=32-Kn(a)+m;if(30<y){var A=m-m%5;y=(c&(1<<A)-1).toString(32),c>>=A,m-=A,us=1<<32-Kn(a)+m|l<<m|c,cs=y+s}else us=1<<y|l<<m|c,cs=s}function o_(s){s.return!==null&&(Oo(s,1),lT(s,1,0))}function l_(s){for(;s===_p;)_p=Yl[--Xl],Yl[Xl]=null,vp=Yl[--Xl],Yl[Xl]=null;for(;s===Po;)Po=Fr[--jr],Fr[jr]=null,cs=Fr[--jr],Fr[jr]=null,us=Fr[--jr],Fr[jr]=null}var Yn=null,xn=null,et=!1,ri=null,Ti=!1,u_=Error(r(519));function Do(s){var a=Error(r(418,""));throw hh(Br(a,s)),u_}function uT(s){var a=s.stateNode,l=s.type,c=s.memoizedProps;switch(a[_n]=s,a[cn]=c,l){case"dialog":Ge("cancel",a),Ge("close",a);break;case"iframe":case"object":case"embed":Ge("load",a);break;case"video":case"audio":for(l=0;l<Vh.length;l++)Ge(Vh[l],a);break;case"source":Ge("error",a);break;case"img":case"image":case"link":Ge("error",a),Ge("load",a);break;case"details":Ge("toggle",a);break;case"input":Ge("invalid",a),vo(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),_o(a);break;case"select":Ge("invalid",a);break;case"textarea":Ge("invalid",a),aa(a,c.value,c.defaultValue,c.children),_o(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||_A(a.textContent,l)?(c.popover!=null&&(Ge("beforetoggle",a),Ge("toggle",a)),c.onScroll!=null&&Ge("scroll",a),c.onScrollEnd!=null&&Ge("scrollend",a),c.onClick!=null&&(a.onclick=Xp),a=!0):a=!1,a||Do(s)}function cT(s){for(Yn=s.return;Yn;)switch(Yn.tag){case 3:case 27:Ti=!0;return;case 5:case 13:Ti=!1;return;default:Yn=Yn.return}}function uh(s){if(s!==Yn)return!1;if(!et)return cT(s),et=!0,!1;var a=!1,l;if((l=s.tag!==3&&s.tag!==27)&&((l=s.tag===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||xv(s.type,s.memoizedProps)),l=!l),l&&(a=!0),a&&xn&&Do(s),cT(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){xn=si(s.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}xn=null}}else xn=Yn?si(s.stateNode.nextSibling):null;return!0}function ch(){xn=Yn=null,et=!1}function hh(s){ri===null?ri=[s]:ri.push(s)}var dh=Error(r(460)),hT=Error(r(474)),c_={then:function(){}};function dT(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Ep(){}function fT(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(Ep,Ep),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,s===dh?Error(r(483)):s;default:if(typeof a.status=="string")a.then(Ep,Ep);else{if(s=mt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,s===dh?Error(r(483)):s}throw fh=a,dh}}var fh=null;function pT(){if(fh===null)throw Error(r(459));var s=fh;return fh=null,s}var Jl=null,ph=0;function bp(s){var a=ph;return ph+=1,Jl===null&&(Jl=[]),fT(Jl,s,a)}function mh(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function wp(s,a){throw a.$$typeof===o?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function mT(s){var a=s._init;return a(s._payload)}function gT(s){function a(Q,G){if(s){var J=Q.deletions;J===null?(Q.deletions=[G],Q.flags|=16):J.push(G)}}function l(Q,G){if(!s)return null;for(;G!==null;)a(Q,G),G=G.sibling;return null}function c(Q){for(var G=new Map;Q!==null;)Q.key!==null?G.set(Q.key,Q):G.set(Q.index,Q),Q=Q.sibling;return G}function m(Q,G){return Q=Ea(Q,G),Q.index=0,Q.sibling=null,Q}function y(Q,G,J){return Q.index=J,s?(J=Q.alternate,J!==null?(J=J.index,J<G?(Q.flags|=33554434,G):J):(Q.flags|=33554434,G)):(Q.flags|=1048576,G)}function A(Q){return s&&Q.alternate===null&&(Q.flags|=33554434),Q}function N(Q,G,J,he){return G===null||G.tag!==6?(G=iv(J,Q.mode,he),G.return=Q,G):(G=m(G,J),G.return=Q,G)}function F(Q,G,J,he){var Se=J.type;return Se===d?ce(Q,G,J.props.children,he,J.key):G!==null&&(G.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===M&&mT(Se)===G.type)?(G=m(G,J.props),mh(G,J),G.return=Q,G):(G=Fp(J.type,J.key,J.props,null,Q.mode,he),mh(G,J),G.return=Q,G)}function K(Q,G,J,he){return G===null||G.tag!==4||G.stateNode.containerInfo!==J.containerInfo||G.stateNode.implementation!==J.implementation?(G=sv(J,Q.mode,he),G.return=Q,G):(G=m(G,J.children||[]),G.return=Q,G)}function ce(Q,G,J,he,Se){return G===null||G.tag!==7?(G=zo(J,Q.mode,he,Se),G.return=Q,G):(G=m(G,J),G.return=Q,G)}function fe(Q,G,J){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=iv(""+G,Q.mode,J),G.return=Q,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case u:return J=Fp(G.type,G.key,G.props,null,Q.mode,J),mh(J,G),J.return=Q,J;case h:return G=sv(G,Q.mode,J),G.return=Q,G;case M:var he=G._init;return G=he(G._payload),fe(Q,G,J)}if(ve(G)||H(G))return G=zo(G,Q.mode,J,null),G.return=Q,G;if(typeof G.then=="function")return fe(Q,bp(G),J);if(G.$$typeof===T)return fe(Q,Lp(Q,G),J);wp(Q,G)}return null}function Z(Q,G,J,he){var Se=G!==null?G.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Se!==null?null:N(Q,G,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case u:return J.key===Se?F(Q,G,J,he):null;case h:return J.key===Se?K(Q,G,J,he):null;case M:return Se=J._init,J=Se(J._payload),Z(Q,G,J,he)}if(ve(J)||H(J))return Se!==null?null:ce(Q,G,J,he,null);if(typeof J.then=="function")return Z(Q,G,bp(J),he);if(J.$$typeof===T)return Z(Q,G,Lp(Q,J),he);wp(Q,J)}return null}function le(Q,G,J,he,Se){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Q=Q.get(J)||null,N(G,Q,""+he,Se);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case u:return Q=Q.get(he.key===null?J:he.key)||null,F(G,Q,he,Se);case h:return Q=Q.get(he.key===null?J:he.key)||null,K(G,Q,he,Se);case M:var Be=he._init;return he=Be(he._payload),le(Q,G,J,he,Se)}if(ve(he)||H(he))return Q=Q.get(J)||null,ce(G,Q,he,Se,null);if(typeof he.then=="function")return le(Q,G,J,bp(he),Se);if(he.$$typeof===T)return le(Q,G,J,Lp(G,he),Se);wp(G,he)}return null}function Ie(Q,G,J,he){for(var Se=null,Be=null,Ce=G,Pe=G=0,Tn=null;Ce!==null&&Pe<J.length;Pe++){Ce.index>Pe?(Tn=Ce,Ce=null):Tn=Ce.sibling;var tt=Z(Q,Ce,J[Pe],he);if(tt===null){Ce===null&&(Ce=Tn);break}s&&Ce&&tt.alternate===null&&a(Q,Ce),G=y(tt,G,Pe),Be===null?Se=tt:Be.sibling=tt,Be=tt,Ce=Tn}if(Pe===J.length)return l(Q,Ce),et&&Oo(Q,Pe),Se;if(Ce===null){for(;Pe<J.length;Pe++)Ce=fe(Q,J[Pe],he),Ce!==null&&(G=y(Ce,G,Pe),Be===null?Se=Ce:Be.sibling=Ce,Be=Ce);return et&&Oo(Q,Pe),Se}for(Ce=c(Ce);Pe<J.length;Pe++)Tn=le(Ce,Q,Pe,J[Pe],he),Tn!==null&&(s&&Tn.alternate!==null&&Ce.delete(Tn.key===null?Pe:Tn.key),G=y(Tn,G,Pe),Be===null?Se=Tn:Be.sibling=Tn,Be=Tn);return s&&Ce.forEach(function(Ra){return a(Q,Ra)}),et&&Oo(Q,Pe),Se}function ke(Q,G,J,he){if(J==null)throw Error(r(151));for(var Se=null,Be=null,Ce=G,Pe=G=0,Tn=null,tt=J.next();Ce!==null&&!tt.done;Pe++,tt=J.next()){Ce.index>Pe?(Tn=Ce,Ce=null):Tn=Ce.sibling;var Ra=Z(Q,Ce,tt.value,he);if(Ra===null){Ce===null&&(Ce=Tn);break}s&&Ce&&Ra.alternate===null&&a(Q,Ce),G=y(Ra,G,Pe),Be===null?Se=Ra:Be.sibling=Ra,Be=Ra,Ce=Tn}if(tt.done)return l(Q,Ce),et&&Oo(Q,Pe),Se;if(Ce===null){for(;!tt.done;Pe++,tt=J.next())tt=fe(Q,tt.value,he),tt!==null&&(G=y(tt,G,Pe),Be===null?Se=tt:Be.sibling=tt,Be=tt);return et&&Oo(Q,Pe),Se}for(Ce=c(Ce);!tt.done;Pe++,tt=J.next())tt=le(Ce,Q,Pe,tt.value,he),tt!==null&&(s&&tt.alternate!==null&&Ce.delete(tt.key===null?Pe:tt.key),G=y(tt,G,Pe),Be===null?Se=tt:Be.sibling=tt,Be=tt);return s&&Ce.forEach(function(nV){return a(Q,nV)}),et&&Oo(Q,Pe),Se}function Ft(Q,G,J,he){if(typeof J=="object"&&J!==null&&J.type===d&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case u:e:{for(var Se=J.key;G!==null;){if(G.key===Se){if(Se=J.type,Se===d){if(G.tag===7){l(Q,G.sibling),he=m(G,J.props.children),he.return=Q,Q=he;break e}}else if(G.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===M&&mT(Se)===G.type){l(Q,G.sibling),he=m(G,J.props),mh(he,J),he.return=Q,Q=he;break e}l(Q,G);break}else a(Q,G);G=G.sibling}J.type===d?(he=zo(J.props.children,Q.mode,he,J.key),he.return=Q,Q=he):(he=Fp(J.type,J.key,J.props,null,Q.mode,he),mh(he,J),he.return=Q,Q=he)}return A(Q);case h:e:{for(Se=J.key;G!==null;){if(G.key===Se)if(G.tag===4&&G.stateNode.containerInfo===J.containerInfo&&G.stateNode.implementation===J.implementation){l(Q,G.sibling),he=m(G,J.children||[]),he.return=Q,Q=he;break e}else{l(Q,G);break}else a(Q,G);G=G.sibling}he=sv(J,Q.mode,he),he.return=Q,Q=he}return A(Q);case M:return Se=J._init,J=Se(J._payload),Ft(Q,G,J,he)}if(ve(J))return Ie(Q,G,J,he);if(H(J)){if(Se=H(J),typeof Se!="function")throw Error(r(150));return J=Se.call(J),ke(Q,G,J,he)}if(typeof J.then=="function")return Ft(Q,G,bp(J),he);if(J.$$typeof===T)return Ft(Q,G,Lp(Q,J),he);wp(Q,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,G!==null&&G.tag===6?(l(Q,G.sibling),he=m(G,J),he.return=Q,Q=he):(l(Q,G),he=iv(J,Q.mode,he),he.return=Q,Q=he),A(Q)):l(Q,G)}return function(Q,G,J,he){try{ph=0;var Se=Ft(Q,G,J,he);return Jl=null,Se}catch(Ce){if(Ce===dh)throw Ce;var Be=$r(29,Ce,null,Q.mode);return Be.lanes=he,Be.return=Q,Be}finally{}}}var No=gT(!0),yT=gT(!1),Zl=ze(null),Tp=ze(0);function _T(s,a){s=bs,$e(Tp,s),$e(Zl,a),bs=s|a.baseLanes}function h_(){$e(Tp,bs),$e(Zl,Zl.current)}function d_(){bs=Tp.current,_t(Zl),_t(Tp)}var zr=ze(null),Si=null;function ua(s){var a=s.alternate;$e(fn,fn.current&1),$e(zr,s),Si===null&&(a===null||Zl.current!==null||a.memoizedState!==null)&&(Si=s)}function vT(s){if(s.tag===22){if($e(fn,fn.current),$e(zr,s),Si===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Si=s)}}else ca()}function ca(){$e(fn,fn.current),$e(zr,zr.current)}function hs(s){_t(zr),Si===s&&(Si=null),_t(fn)}var fn=ze(0);function Sp(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var qk=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},Hk=n.unstable_scheduleCallback,$k=n.unstable_NormalPriority,pn={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function f_(){return{controller:new qk,data:new Map,refCount:0}}function gh(s){s.refCount--,s.refCount===0&&Hk($k,function(){s.controller.abort()})}var yh=null,p_=0,eu=0,tu=null;function Gk(s,a){if(yh===null){var l=yh=[];p_=0,eu=Ev(),tu={status:"pending",value:void 0,then:function(c){l.push(c)}}}return p_++,a.then(ET,ET),a}function ET(){if(--p_===0&&yh!==null){tu!==null&&(tu.status="fulfilled");var s=yh;yh=null,eu=0,tu=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function Kk(s,a){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var bT=R.S;R.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Gk(s,a),bT!==null&&bT(s,a)};var ko=ze(null);function m_(){var s=ko.current;return s!==null?s:mt.pooledCache}function Ap(s,a){a===null?$e(ko,ko.current):$e(ko,a.pool)}function wT(){var s=m_();return s===null?null:{parent:pn._currentValue,pool:s}}var ha=0,Ue=null,ut=null,Zt=null,Ip=!1,nu=!1,Vo=!1,Rp=0,_h=0,ru=null,Wk=0;function Kt(){throw Error(r(321))}function g_(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!gr(s[l],a[l]))return!1;return!0}function y_(s,a,l,c,m,y){return ha=y,Ue=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,R.H=s===null||s.memoizedState===null?Mo:da,Vo=!1,y=l(c,m),Vo=!1,nu&&(y=ST(a,l,c,m)),TT(s),y}function TT(s){R.H=Ai;var a=ut!==null&&ut.next!==null;if(ha=0,Zt=ut=Ue=null,Ip=!1,_h=0,ru=null,a)throw Error(r(300));s===null||bn||(s=s.dependencies,s!==null&&Mp(s)&&(bn=!0))}function ST(s,a,l,c){Ue=s;var m=0;do{if(nu&&(ru=null),_h=0,nu=!1,25<=m)throw Error(r(301));if(m+=1,Zt=ut=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}R.H=Lo,y=a(l,c)}while(nu);return y}function Qk(){var s=R.H,a=s.useState()[0];return a=typeof a.then=="function"?vh(a):a,s=s.useState()[0],(ut!==null?ut.memoizedState:null)!==s&&(Ue.flags|=1024),a}function __(){var s=Rp!==0;return Rp=0,s}function v_(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function E_(s){if(Ip){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Ip=!1}ha=0,Zt=ut=Ue=null,nu=!1,_h=Rp=0,ru=null}function ar(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Ue.memoizedState=Zt=s:Zt=Zt.next=s,Zt}function en(){if(ut===null){var s=Ue.alternate;s=s!==null?s.memoizedState:null}else s=ut.next;var a=Zt===null?Ue.memoizedState:Zt.next;if(a!==null)Zt=a,ut=s;else{if(s===null)throw Ue.alternate===null?Error(r(467)):Error(r(310));ut=s,s={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Zt===null?Ue.memoizedState=Zt=s:Zt=Zt.next=s}return Zt}var Cp;Cp=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function vh(s){var a=_h;return _h+=1,ru===null&&(ru=[]),s=fT(ru,s,a),a=Ue,(Zt===null?a.memoizedState:Zt.next)===null&&(a=a.alternate,R.H=a===null||a.memoizedState===null?Mo:da),s}function xp(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return vh(s);if(s.$$typeof===T)return Bn(s)}throw Error(r(438,String(s)))}function b_(s){var a=null,l=Ue.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Ue.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Cp(),Ue.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),c=0;c<s;c++)l[c]=$;return a.index++,l}function ds(s,a){return typeof a=="function"?a(s):a}function Pp(s){var a=en();return w_(a,ut,s)}function w_(s,a,l){var c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var m=s.baseQueue,y=c.pending;if(y!==null){if(m!==null){var A=m.next;m.next=y.next,y.next=A}a.baseQueue=m=y,c.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{a=m.next;var N=A=null,F=null,K=a,ce=!1;do{var fe=K.lane&-536870913;if(fe!==K.lane?(Ye&fe)===fe:(ha&fe)===fe){var Z=K.revertLane;if(Z===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),fe===eu&&(ce=!0);else if((ha&Z)===Z){K=K.next,Z===eu&&(ce=!0);continue}else fe={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},F===null?(N=F=fe,A=y):F=F.next=fe,Ue.lanes|=Z,ba|=Z;fe=K.action,Vo&&l(y,fe),y=K.hasEagerState?K.eagerState:l(y,fe)}else Z={lane:fe,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},F===null?(N=F=Z,A=y):F=F.next=Z,Ue.lanes|=fe,ba|=fe;K=K.next}while(K!==null&&K!==a);if(F===null?A=y:F.next=N,!gr(y,s.memoizedState)&&(bn=!0,ce&&(l=tu,l!==null)))throw l;s.memoizedState=y,s.baseState=A,s.baseQueue=F,c.lastRenderedState=y}return m===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function T_(s){var a=en(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=l.dispatch,m=l.pending,y=a.memoizedState;if(m!==null){l.pending=null;var A=m=m.next;do y=s(y,A.action),A=A.next;while(A!==m);gr(y,a.memoizedState)||(bn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,c]}function AT(s,a,l){var c=Ue,m=en(),y=et;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=a();var A=!gr((ut||m).memoizedState,l);if(A&&(m.memoizedState=l,bn=!0),m=m.queue,I_(CT.bind(null,c,m,s),[s]),m.getSnapshot!==a||A||Zt!==null&&Zt.memoizedState.tag&1){if(c.flags|=2048,iu(9,RT.bind(null,c,m,l,a),{destroy:void 0},null),mt===null)throw Error(r(349));y||ha&60||IT(c,a,l)}return l}function IT(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Ue.updateQueue,a===null?(a=Cp(),Ue.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function RT(s,a,l,c){a.value=l,a.getSnapshot=c,xT(a)&&PT(s)}function CT(s,a,l){return l(function(){xT(a)&&PT(s)})}function xT(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!gr(s,l)}catch{return!0}}function PT(s){var a=la(s,2);a!==null&&Xn(a,s,2)}function S_(s){var a=ar();if(typeof s=="function"){var l=s;if(s=l(),Vo){di(!0);try{l()}finally{di(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:s},a}function OT(s,a,l,c){return s.baseState=l,w_(s,ut,typeof c=="function"?c:ds)}function Yk(s,a,l,c,m){if(Np(s))throw Error(r(485));if(s=a.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){y.listeners.push(A)}};R.T!==null?l(!0):y.isTransition=!1,c(y),l=a.pending,l===null?(y.next=a.pending=y,DT(a,y)):(y.next=l.next,a.pending=l.next=y)}}function DT(s,a){var l=a.action,c=a.payload,m=s.state;if(a.isTransition){var y=R.T,A={};R.T=A;try{var N=l(m,c),F=R.S;F!==null&&F(A,N),NT(s,a,N)}catch(K){A_(s,a,K)}finally{R.T=y}}else try{y=l(m,c),NT(s,a,y)}catch(K){A_(s,a,K)}}function NT(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){kT(s,a,c)},function(c){return A_(s,a,c)}):kT(s,a,l)}function kT(s,a,l){a.status="fulfilled",a.value=l,VT(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,DT(s,l)))}function A_(s,a,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,VT(a),a=a.next;while(a!==c)}s.action=null}function VT(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function MT(s,a){return a}function LT(s,a){if(et){var l=mt.formState;if(l!==null){e:{var c=Ue;if(et){if(xn){t:{for(var m=xn,y=Ti;m.nodeType!==8;){if(!y){m=null;break t}if(m=si(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){xn=si(m.nextSibling),c=m.data==="F!";break e}}Do(c)}c=!1}c&&(a=l[0])}}return l=ar(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:MT,lastRenderedState:a},l.queue=c,l=tS.bind(null,Ue,c),c.dispatch=l,c=S_(!1),y=O_.bind(null,Ue,!1,c.queue),c=ar(),m={state:a,dispatch:null,action:s,pending:null},c.queue=m,l=Yk.bind(null,Ue,m,y,l),m.dispatch=l,c.memoizedState=s,[a,l,!1]}function UT(s){var a=en();return BT(a,ut,s)}function BT(s,a,l){a=w_(s,a,MT)[0],s=Pp(ds)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?vh(a):a;var c=en(),m=c.queue,y=m.dispatch;return l!==c.memoizedState&&(Ue.flags|=2048,iu(9,Xk.bind(null,m,l),{destroy:void 0},null)),[a,y,s]}function Xk(s,a){s.action=a}function FT(s){var a=en(),l=ut;if(l!==null)return BT(a,l,s);en(),a=a.memoizedState,l=en();var c=l.queue.dispatch;return l.memoizedState=s,[a,c,!1]}function iu(s,a,l,c){return s={tag:s,create:a,inst:l,deps:c,next:null},a=Ue.updateQueue,a===null&&(a=Cp(),Ue.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,a.lastEffect=s),s}function jT(){return en().memoizedState}function Op(s,a,l,c){var m=ar();Ue.flags|=s,m.memoizedState=iu(1|a,l,{destroy:void 0},c===void 0?null:c)}function Dp(s,a,l,c){var m=en();c=c===void 0?null:c;var y=m.memoizedState.inst;ut!==null&&c!==null&&g_(c,ut.memoizedState.deps)?m.memoizedState=iu(a,l,y,c):(Ue.flags|=s,m.memoizedState=iu(1|a,l,y,c))}function zT(s,a){Op(8390656,8,s,a)}function I_(s,a){Dp(2048,8,s,a)}function qT(s,a){return Dp(4,2,s,a)}function HT(s,a){return Dp(4,4,s,a)}function $T(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function GT(s,a,l){l=l!=null?l.concat([s]):null,Dp(4,4,$T.bind(null,a,s),l)}function R_(){}function KT(s,a){var l=en();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&g_(a,c[1])?c[0]:(l.memoizedState=[s,a],s)}function WT(s,a){var l=en();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&g_(a,c[1]))return c[0];if(c=s(),Vo){di(!0);try{s()}finally{di(!1)}}return l.memoizedState=[c,a],c}function C_(s,a,l){return l===void 0||ha&1073741824?s.memoizedState=a:(s.memoizedState=l,s=YS(),Ue.lanes|=s,ba|=s,l)}function QT(s,a,l,c){return gr(l,a)?l:Zl.current!==null?(s=C_(s,l,c),gr(s,a)||(bn=!0),s):ha&42?(s=YS(),Ue.lanes|=s,ba|=s,a):(bn=!0,s.memoizedState=l)}function YT(s,a,l,c,m){var y=ye.p;ye.p=y!==0&&8>y?y:8;var A=R.T,N={};R.T=N,O_(s,!1,a,l);try{var F=m(),K=R.S;if(K!==null&&K(N,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var ce=Kk(F,c);Eh(s,a,ce,Er(s))}else Eh(s,a,c,Er(s))}catch(fe){Eh(s,a,{then:function(){},status:"rejected",reason:fe},Er())}finally{ye.p=y,R.T=A}}function Jk(){}function x_(s,a,l,c){if(s.tag!==5)throw Error(r(476));var m=XT(s).queue;YT(s,m,a,Oe,l===null?Jk:function(){return JT(s),l(c)})}function XT(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:Oe,baseState:Oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:Oe},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function JT(s){var a=XT(s).next.queue;Eh(s,a,{},Er())}function P_(){return Bn(Fh)}function ZT(){return en().memoizedState}function eS(){return en().memoizedState}function Zk(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=Er();s=ma(l);var c=ga(a,s,l);c!==null&&(Xn(c,a,l),Th(c,a,l)),a={cache:f_()},s.payload=a;return}a=a.return}}function e2(s,a,l){var c=Er();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Np(s)?nS(a,l):(l=a_(s,a,l,c),l!==null&&(Xn(l,s,c),rS(l,a,c)))}function tS(s,a,l){var c=Er();Eh(s,a,l,c)}function Eh(s,a,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Np(s))nS(a,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var A=a.lastRenderedState,N=y(A,l);if(m.hasEagerState=!0,m.eagerState=N,gr(N,A))return gp(s,a,m,0),mt===null&&mp(),!1}catch{}finally{}if(l=a_(s,a,m,c),l!==null)return Xn(l,s,c),rS(l,a,c),!0}return!1}function O_(s,a,l,c){if(c={lane:2,revertLane:Ev(),action:c,hasEagerState:!1,eagerState:null,next:null},Np(s)){if(a)throw Error(r(479))}else a=a_(s,l,c,2),a!==null&&Xn(a,s,2)}function Np(s){var a=s.alternate;return s===Ue||a!==null&&a===Ue}function nS(s,a){nu=Ip=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function rS(s,a,l){if(l&4194176){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,Js(s,l)}}var Ai={readContext:Bn,use:xp,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useLayoutEffect:Kt,useInsertionEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useSyncExternalStore:Kt,useId:Kt};Ai.useCacheRefresh=Kt,Ai.useMemoCache=Kt,Ai.useHostTransitionStatus=Kt,Ai.useFormState=Kt,Ai.useActionState=Kt,Ai.useOptimistic=Kt;var Mo={readContext:Bn,use:xp,useCallback:function(s,a){return ar().memoizedState=[s,a===void 0?null:a],s},useContext:Bn,useEffect:zT,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,Op(4194308,4,$T.bind(null,a,s),l)},useLayoutEffect:function(s,a){return Op(4194308,4,s,a)},useInsertionEffect:function(s,a){Op(4,2,s,a)},useMemo:function(s,a){var l=ar();a=a===void 0?null:a;var c=s();if(Vo){di(!0);try{s()}finally{di(!1)}}return l.memoizedState=[c,a],c},useReducer:function(s,a,l){var c=ar();if(l!==void 0){var m=l(a);if(Vo){di(!0);try{l(a)}finally{di(!1)}}}else m=a;return c.memoizedState=c.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},c.queue=s,s=s.dispatch=e2.bind(null,Ue,s),[c.memoizedState,s]},useRef:function(s){var a=ar();return s={current:s},a.memoizedState=s},useState:function(s){s=S_(s);var a=s.queue,l=tS.bind(null,Ue,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:R_,useDeferredValue:function(s,a){var l=ar();return C_(l,s,a)},useTransition:function(){var s=S_(!1);return s=YT.bind(null,Ue,s.queue,!0,!1),ar().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var c=Ue,m=ar();if(et){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),mt===null)throw Error(r(349));Ye&60||IT(c,a,l)}m.memoizedState=l;var y={value:l,getSnapshot:a};return m.queue=y,zT(CT.bind(null,c,y,s),[s]),c.flags|=2048,iu(9,RT.bind(null,c,y,l,a),{destroy:void 0},null),l},useId:function(){var s=ar(),a=mt.identifierPrefix;if(et){var l=cs,c=us;l=(c&~(1<<32-Kn(c)-1)).toString(32)+l,a=":"+a+"R"+l,l=Rp++,0<l&&(a+="H"+l.toString(32)),a+=":"}else l=Wk++,a=":"+a+"r"+l.toString(32)+":";return s.memoizedState=a},useCacheRefresh:function(){return ar().memoizedState=Zk.bind(null,Ue)}};Mo.useMemoCache=b_,Mo.useHostTransitionStatus=P_,Mo.useFormState=LT,Mo.useActionState=LT,Mo.useOptimistic=function(s){var a=ar();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=O_.bind(null,Ue,!0,l),l.dispatch=a,[s,a]};var da={readContext:Bn,use:xp,useCallback:KT,useContext:Bn,useEffect:I_,useImperativeHandle:GT,useInsertionEffect:qT,useLayoutEffect:HT,useMemo:WT,useReducer:Pp,useRef:jT,useState:function(){return Pp(ds)},useDebugValue:R_,useDeferredValue:function(s,a){var l=en();return QT(l,ut.memoizedState,s,a)},useTransition:function(){var s=Pp(ds)[0],a=en().memoizedState;return[typeof s=="boolean"?s:vh(s),a]},useSyncExternalStore:AT,useId:ZT};da.useCacheRefresh=eS,da.useMemoCache=b_,da.useHostTransitionStatus=P_,da.useFormState=UT,da.useActionState=UT,da.useOptimistic=function(s,a){var l=en();return OT(l,ut,s,a)};var Lo={readContext:Bn,use:xp,useCallback:KT,useContext:Bn,useEffect:I_,useImperativeHandle:GT,useInsertionEffect:qT,useLayoutEffect:HT,useMemo:WT,useReducer:T_,useRef:jT,useState:function(){return T_(ds)},useDebugValue:R_,useDeferredValue:function(s,a){var l=en();return ut===null?C_(l,s,a):QT(l,ut.memoizedState,s,a)},useTransition:function(){var s=T_(ds)[0],a=en().memoizedState;return[typeof s=="boolean"?s:vh(s),a]},useSyncExternalStore:AT,useId:ZT};Lo.useCacheRefresh=eS,Lo.useMemoCache=b_,Lo.useHostTransitionStatus=P_,Lo.useFormState=FT,Lo.useActionState=FT,Lo.useOptimistic=function(s,a){var l=en();return ut!==null?OT(l,ut,s,a):(l.baseState=s,[s,l.queue.dispatch])};function D_(s,a,l,c){a=s.memoizedState,l=l(c,a),l=l==null?a:b({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var N_={isMounted:function(s){return(s=s._reactInternals)?ue(s)===s:!1},enqueueSetState:function(s,a,l){s=s._reactInternals;var c=Er(),m=ma(c);m.payload=a,l!=null&&(m.callback=l),a=ga(s,m,c),a!==null&&(Xn(a,s,c),Th(a,s,c))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var c=Er(),m=ma(c);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=ga(s,m,c),a!==null&&(Xn(a,s,c),Th(a,s,c))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=Er(),c=ma(l);c.tag=2,a!=null&&(c.callback=a),a=ga(s,c,l),a!==null&&(Xn(a,s,l),Th(a,s,l))}};function iS(s,a,l,c,m,y,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,y,A):a.prototype&&a.prototype.isPureReactComponent?!oh(l,c)||!oh(m,y):!0}function sS(s,a,l,c){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==s&&N_.enqueueReplaceState(a,a.state,null)}function Uo(s,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(s=s.defaultProps){l===a&&(l=b({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}var kp=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function aS(s){kp(s)}function oS(s){console.error(s)}function lS(s){kp(s)}function Vp(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function uS(s,a,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function k_(s,a,l){return l=ma(l),l.tag=3,l.payload={element:null},l.callback=function(){Vp(s,a)},l}function cS(s){return s=ma(s),s.tag=3,s}function hS(s,a,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;s.payload=function(){return m(y)},s.callback=function(){uS(a,l,c)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(s.callback=function(){uS(a,l,c),typeof m!="function"&&(wa===null?wa=new Set([this]):wa.add(this));var N=c.stack;this.componentDidCatch(c.value,{componentStack:N!==null?N:""})})}function t2(s,a,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&wh(a,l,m,!0),l=zr.current,l!==null){switch(l.tag){case 13:return Si===null?mv():l.alternate===null&&Bt===0&&(Bt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===c_?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),yv(s,c,m)),!1;case 22:return l.flags|=65536,c===c_?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),yv(s,c,m)),!1}throw Error(r(435,l.tag))}return yv(s,c,m),mv(),!1}if(et)return a=zr.current,a!==null?(!(a.flags&65536)&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==u_&&(s=Error(r(422),{cause:c}),hh(Br(s,l)))):(c!==u_&&(a=Error(r(423),{cause:c}),hh(Br(a,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,c=Br(c,l),m=k_(s.stateNode,c,m),Q_(s,m),Bt!==4&&(Bt=2)),!1;var y=Error(r(520),{cause:c});if(y=Br(y,l),Oh===null?Oh=[y]:Oh.push(y),Bt!==4&&(Bt=2),a===null)return!0;c=Br(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=k_(l.stateNode,c,s),Q_(l,s),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(wa===null||!wa.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=cS(m),hS(m,s,l,c),Q_(l,m),!1}l=l.return}while(l!==null);return!1}var dS=Error(r(461)),bn=!1;function Pn(s,a,l,c){a.child=s===null?yT(a,null,l,c):No(a,s.child,l,c)}function fS(s,a,l,c,m){l=l.render;var y=a.ref;if("ref"in c){var A={};for(var N in c)N!=="ref"&&(A[N]=c[N])}else A=c;return Fo(a),c=y_(s,a,l,A,y,m),N=__(),s!==null&&!bn?(v_(s,a,m),fs(s,a,m)):(et&&N&&o_(a),a.flags|=1,Pn(s,a,c,m),a.child)}function pS(s,a,l,c,m){if(s===null){var y=l.type;return typeof y=="function"&&!rv(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,mS(s,a,y,c,m)):(s=Fp(l.type,null,c,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!q_(s,m)){var A=y.memoizedProps;if(l=l.compare,l=l!==null?l:oh,l(A,c)&&s.ref===a.ref)return fs(s,a,m)}return a.flags|=1,s=Ea(y,c),s.ref=a.ref,s.return=a,a.child=s}function mS(s,a,l,c,m){if(s!==null){var y=s.memoizedProps;if(oh(y,c)&&s.ref===a.ref)if(bn=!1,a.pendingProps=c=y,q_(s,m))s.flags&131072&&(bn=!0);else return a.lanes=s.lanes,fs(s,a,m)}return V_(s,a,l,c,m)}function gS(s,a,l){var c=a.pendingProps,m=c.children,y=(a.stateNode._pendingVisibility&2)!==0,A=s!==null?s.memoizedState:null;if(bh(s,a),c.mode==="hidden"||y){if(a.flags&128){if(c=A!==null?A.baseLanes|l:l,s!==null){for(m=a.child=s.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;a.childLanes=y&~c}else a.childLanes=0,a.child=null;return yS(s,a,c,l)}if(l&536870912)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Ap(a,A!==null?A.cachePool:null),A!==null?_T(a,A):h_(),vT(a);else return a.lanes=a.childLanes=536870912,yS(s,a,A!==null?A.baseLanes|l:l,l)}else A!==null?(Ap(a,A.cachePool),_T(a,A),ca(),a.memoizedState=null):(s!==null&&Ap(a,null),h_(),ca());return Pn(s,a,m,l),a.child}function yS(s,a,l,c){var m=m_();return m=m===null?null:{parent:pn._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},s!==null&&Ap(a,null),h_(),vT(a),s!==null&&wh(s,a,c,!0),null}function bh(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(a.flags|=2097664)}}function V_(s,a,l,c,m){return Fo(a),l=y_(s,a,l,c,void 0,m),c=__(),s!==null&&!bn?(v_(s,a,m),fs(s,a,m)):(et&&c&&o_(a),a.flags|=1,Pn(s,a,l,m),a.child)}function _S(s,a,l,c,m,y){return Fo(a),a.updateQueue=null,l=ST(a,c,l,m),TT(s),c=__(),s!==null&&!bn?(v_(s,a,y),fs(s,a,y)):(et&&c&&o_(a),a.flags|=1,Pn(s,a,l,y),a.child)}function vS(s,a,l,c,m){if(Fo(a),a.stateNode===null){var y=Ql,A=l.contextType;typeof A=="object"&&A!==null&&(y=Bn(A)),y=new l(c,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=N_,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=c,y.state=a.memoizedState,y.refs={},K_(a),A=l.contextType,y.context=typeof A=="object"&&A!==null?Bn(A):Ql,y.state=a.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(D_(a,l,A,c),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(A=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),A!==y.state&&N_.enqueueReplaceState(y,y.state,null),Ah(a,c,y,m),Sh(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(s===null){y=a.stateNode;var N=a.memoizedProps,F=Uo(l,N);y.props=F;var K=y.context,ce=l.contextType;A=Ql,typeof ce=="object"&&ce!==null&&(A=Bn(ce));var fe=l.getDerivedStateFromProps;ce=typeof fe=="function"||typeof y.getSnapshotBeforeUpdate=="function",N=a.pendingProps!==N,ce||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N||K!==A)&&sS(a,y,c,A),pa=!1;var Z=a.memoizedState;y.state=Z,Ah(a,c,y,m),Sh(),K=a.memoizedState,N||Z!==K||pa?(typeof fe=="function"&&(D_(a,l,fe,c),K=a.memoizedState),(F=pa||iS(a,l,F,c,Z,K,A))?(ce||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=K),y.props=c,y.state=K,y.context=A,c=F):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{y=a.stateNode,W_(s,a),A=a.memoizedProps,ce=Uo(l,A),y.props=ce,fe=a.pendingProps,Z=y.context,K=l.contextType,F=Ql,typeof K=="object"&&K!==null&&(F=Bn(K)),N=l.getDerivedStateFromProps,(K=typeof N=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A!==fe||Z!==F)&&sS(a,y,c,F),pa=!1,Z=a.memoizedState,y.state=Z,Ah(a,c,y,m),Sh();var le=a.memoizedState;A!==fe||Z!==le||pa||s!==null&&s.dependencies!==null&&Mp(s.dependencies)?(typeof N=="function"&&(D_(a,l,N,c),le=a.memoizedState),(ce=pa||iS(a,l,ce,c,Z,le,F)||s!==null&&s.dependencies!==null&&Mp(s.dependencies))?(K||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,le,F),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,le,F)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||A===s.memoizedProps&&Z===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&Z===s.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=le),y.props=c,y.state=le,y.context=F,c=ce):(typeof y.componentDidUpdate!="function"||A===s.memoizedProps&&Z===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&Z===s.memoizedState||(a.flags|=1024),c=!1)}return y=c,bh(s,a),c=(a.flags&128)!==0,y||c?(y=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&c?(a.child=No(a,s.child,null,m),a.child=No(a,null,l,m)):Pn(s,a,l,m),a.memoizedState=y.state,s=a.child):s=fs(s,a,m),s}function ES(s,a,l,c){return ch(),a.flags|=256,Pn(s,a,l,c),a.child}var M_={dehydrated:null,treeContext:null,retryLane:0};function L_(s){return{baseLanes:s,cachePool:wT()}}function U_(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=Gr),s}function bS(s,a,l){var c=a.pendingProps,m=!1,y=(a.flags&128)!==0,A;if((A=y)||(A=s!==null&&s.memoizedState===null?!1:(fn.current&2)!==0),A&&(m=!0,a.flags&=-129),A=(a.flags&32)!==0,a.flags&=-33,s===null){if(et){if(m?ua(a):ca(),et){var N=xn,F;if(F=N){e:{for(F=N,N=Ti;F.nodeType!==8;){if(!N){N=null;break e}if(F=si(F.nextSibling),F===null){N=null;break e}}N=F}N!==null?(a.memoizedState={dehydrated:N,treeContext:Po!==null?{id:us,overflow:cs}:null,retryLane:536870912},F=$r(18,null,null,0),F.stateNode=N,F.return=a,a.child=F,Yn=a,xn=null,F=!0):F=!1}F||Do(a)}if(N=a.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return N.data==="$!"?a.lanes=16:a.lanes=536870912,null;hs(a)}return N=c.children,c=c.fallback,m?(ca(),m=a.mode,N=F_({mode:"hidden",children:N},m),c=zo(c,m,l,null),N.return=a,c.return=a,N.sibling=c,a.child=N,m=a.child,m.memoizedState=L_(l),m.childLanes=U_(s,A,l),a.memoizedState=M_,c):(ua(a),B_(a,N))}if(F=s.memoizedState,F!==null&&(N=F.dehydrated,N!==null)){if(y)a.flags&256?(ua(a),a.flags&=-257,a=j_(s,a,l)):a.memoizedState!==null?(ca(),a.child=s.child,a.flags|=128,a=null):(ca(),m=c.fallback,N=a.mode,c=F_({mode:"visible",children:c.children},N),m=zo(m,N,l,null),m.flags|=2,c.return=a,m.return=a,c.sibling=m,a.child=c,No(a,s.child,null,l),c=a.child,c.memoizedState=L_(l),c.childLanes=U_(s,A,l),a.memoizedState=M_,a=m);else if(ua(a),N.data==="$!"){if(A=N.nextSibling&&N.nextSibling.dataset,A)var K=A.dgst;A=K,c=Error(r(419)),c.stack="",c.digest=A,hh({value:c,source:null,stack:null}),a=j_(s,a,l)}else if(bn||wh(s,a,l,!1),A=(l&s.childLanes)!==0,bn||A){if(A=mt,A!==null){if(c=l&-l,c&42)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=c&(A.suspendedLanes|l)?0:c,c!==0&&c!==F.retryLane)throw F.retryLane=c,la(s,c),Xn(A,s,c),dS}N.data==="$?"||mv(),a=j_(s,a,l)}else N.data==="$?"?(a.flags|=128,a.child=s.child,a=g2.bind(null,s),N._reactRetry=a,a=null):(s=F.treeContext,xn=si(N.nextSibling),Yn=a,et=!0,ri=null,Ti=!1,s!==null&&(Fr[jr++]=us,Fr[jr++]=cs,Fr[jr++]=Po,us=s.id,cs=s.overflow,Po=a),a=B_(a,c.children),a.flags|=4096);return a}return m?(ca(),m=c.fallback,N=a.mode,F=s.child,K=F.sibling,c=Ea(F,{mode:"hidden",children:c.children}),c.subtreeFlags=F.subtreeFlags&31457280,K!==null?m=Ea(K,m):(m=zo(m,N,l,null),m.flags|=2),m.return=a,c.return=a,c.sibling=m,a.child=c,c=m,m=a.child,N=s.child.memoizedState,N===null?N=L_(l):(F=N.cachePool,F!==null?(K=pn._currentValue,F=F.parent!==K?{parent:K,pool:K}:F):F=wT(),N={baseLanes:N.baseLanes|l,cachePool:F}),m.memoizedState=N,m.childLanes=U_(s,A,l),a.memoizedState=M_,c):(ua(a),l=s.child,s=l.sibling,l=Ea(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,s!==null&&(A=a.deletions,A===null?(a.deletions=[s],a.flags|=16):A.push(s)),a.child=l,a.memoizedState=null,l)}function B_(s,a){return a=F_({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function F_(s,a){return KS(s,a,0,null)}function j_(s,a,l){return No(a,s.child,null,l),s=B_(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function wS(s,a,l){s.lanes|=a;var c=s.alternate;c!==null&&(c.lanes|=a),$_(s.return,a,l)}function z_(s,a,l,c,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=m)}function TS(s,a,l){var c=a.pendingProps,m=c.revealOrder,y=c.tail;if(Pn(s,a,c.children,l),c=fn.current,c&2)c=c&1|2,a.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&wS(s,l,a);else if(s.tag===19)wS(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch($e(fn,c),m){case"forwards":for(l=a.child,m=null;l!==null;)s=l.alternate,s!==null&&Sp(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),z_(a,!1,m,l,y);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&Sp(s)===null){a.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}z_(a,!0,l,null,y);break;case"together":z_(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function fs(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),ba|=a.lanes,!(l&a.childLanes))if(s!==null){if(wh(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,l=Ea(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=Ea(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function q_(s,a){return s.lanes&a?!0:(s=s.dependencies,!!(s!==null&&Mp(s)))}function n2(s,a,l){switch(a.tag){case 3:fr(a,a.stateNode.containerInfo),fa(a,pn,s.memoizedState.cache),ch();break;case 27:case 5:Or(a);break;case 4:fr(a,a.stateNode.containerInfo);break;case 10:fa(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(ua(a),a.flags|=128,null):l&a.child.childLanes?bS(s,a,l):(ua(a),s=fs(s,a,l),s!==null?s.sibling:null);ua(a);break;case 19:var m=(s.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(wh(s,a,l,!1),c=(l&a.childLanes)!==0),m){if(c)return TS(s,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),$e(fn,fn.current),c)break;return null;case 22:case 23:return a.lanes=0,gS(s,a,l);case 24:fa(a,pn,s.memoizedState.cache)}return fs(s,a,l)}function SS(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)bn=!0;else{if(!q_(s,l)&&!(a.flags&128))return bn=!1,n2(s,a,l);bn=!!(s.flags&131072)}else bn=!1,et&&a.flags&1048576&&lT(a,vp,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var c=a.elementType,m=c._init;if(c=m(c._payload),a.type=c,typeof c=="function")rv(c)?(s=Uo(c,s),a.tag=1,a=vS(null,a,c,s,l)):(a.tag=0,a=V_(null,a,c,s,l));else{if(c!=null){if(m=c.$$typeof,m===w){a.tag=11,a=fS(null,a,c,s,l);break e}else if(m===L){a.tag=14,a=pS(null,a,c,s,l);break e}}throw a=C(c)||c,Error(r(306,a,""))}}return a;case 0:return V_(s,a,a.type,a.pendingProps,l);case 1:return c=a.type,m=Uo(c,a.pendingProps),vS(s,a,c,m,l);case 3:e:{if(fr(a,a.stateNode.containerInfo),s===null)throw Error(r(387));var y=a.pendingProps;m=a.memoizedState,c=m.element,W_(s,a),Ah(a,y,null,l);var A=a.memoizedState;if(y=A.cache,fa(a,pn,y),y!==m.cache&&G_(a,[pn],l,!0),Sh(),y=A.element,m.isDehydrated)if(m={element:y,isDehydrated:!1,cache:A.cache},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){a=ES(s,a,y,l);break e}else if(y!==c){c=Br(Error(r(424)),a),hh(c),a=ES(s,a,y,l);break e}else for(xn=si(a.stateNode.containerInfo.firstChild),Yn=a,et=!0,ri=null,Ti=!0,l=yT(a,null,y,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ch(),y===c){a=fs(s,a,l);break e}Pn(s,a,y,l)}a=a.child}return a;case 26:return bh(s,a),s===null?(l=RA(a.type,null,a.pendingProps,null))?a.memoizedState=l:et||(l=a.type,s=a.pendingProps,c=Jp(at.current).createElement(l),c[_n]=a,c[cn]=s,On(c,l,s),xt(c),a.stateNode=c):a.memoizedState=RA(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Or(a),s===null&&et&&(c=a.stateNode=SA(a.type,a.pendingProps,at.current),Yn=a,Ti=!0,xn=si(c.firstChild)),c=a.pendingProps.children,s!==null||et?Pn(s,a,c,l):a.child=No(a,null,c,l),bh(s,a),a.child;case 5:return s===null&&et&&((m=c=xn)&&(c=D2(c,a.type,a.pendingProps,Ti),c!==null?(a.stateNode=c,Yn=a,xn=si(c.firstChild),Ti=!1,m=!0):m=!1),m||Do(a)),Or(a),m=a.type,y=a.pendingProps,A=s!==null?s.memoizedProps:null,c=y.children,xv(m,y)?c=null:A!==null&&xv(m,A)&&(a.flags|=32),a.memoizedState!==null&&(m=y_(s,a,Qk,null,null,l),Fh._currentValue=m),bh(s,a),Pn(s,a,c,l),a.child;case 6:return s===null&&et&&((s=l=xn)&&(l=N2(l,a.pendingProps,Ti),l!==null?(a.stateNode=l,Yn=a,xn=null,s=!0):s=!1),s||Do(a)),null;case 13:return bS(s,a,l);case 4:return fr(a,a.stateNode.containerInfo),c=a.pendingProps,s===null?a.child=No(a,null,c,l):Pn(s,a,c,l),a.child;case 11:return fS(s,a,a.type,a.pendingProps,l);case 7:return Pn(s,a,a.pendingProps,l),a.child;case 8:return Pn(s,a,a.pendingProps.children,l),a.child;case 12:return Pn(s,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,fa(a,a.type,c.value),Pn(s,a,c.children,l),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,Fo(a),m=Bn(m),c=c(m),a.flags|=1,Pn(s,a,c,l),a.child;case 14:return pS(s,a,a.type,a.pendingProps,l);case 15:return mS(s,a,a.type,a.pendingProps,l);case 19:return TS(s,a,l);case 22:return gS(s,a,l);case 24:return Fo(a),c=Bn(pn),s===null?(m=m_(),m===null&&(m=mt,y=f_(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),a.memoizedState={parent:c,cache:m},K_(a),fa(a,pn,m)):(s.lanes&l&&(W_(s,a),Ah(a,null,null,l),Sh()),m=s.memoizedState,y=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),fa(a,pn,c)):(c=y.cache,fa(a,pn,c),c!==m.cache&&G_(a,[pn],l,!0))),Pn(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}var H_=ze(null),Bo=null,ps=null;function fa(s,a,l){$e(H_,a._currentValue),a._currentValue=l}function ms(s){s._currentValue=H_.current,_t(H_)}function $_(s,a,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),s===l)break;s=s.return}}function G_(s,a,l,c){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var A=m.child;y=y.firstContext;e:for(;y!==null;){var N=y;y=m;for(var F=0;F<a.length;F++)if(N.context===a[F]){y.lanes|=l,N=y.alternate,N!==null&&(N.lanes|=l),$_(y.return,l,s),c||(A=null);break e}y=N.next}}else if(m.tag===18){if(A=m.return,A===null)throw Error(r(341));A.lanes|=l,y=A.alternate,y!==null&&(y.lanes|=l),$_(A,l,s),A=null}else A=m.child;if(A!==null)A.return=m;else for(A=m;A!==null;){if(A===s){A=null;break}if(m=A.sibling,m!==null){m.return=A.return,A=m;break}A=A.return}m=A}}function wh(s,a,l,c){s=null;for(var m=a,y=!1;m!==null;){if(!y){if(m.flags&524288)y=!0;else if(m.flags&262144)break}if(m.tag===10){var A=m.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var N=m.type;gr(m.pendingProps.value,A.value)||(s!==null?s.push(N):s=[N])}}else if(m===Jt.current){if(A=m.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(Fh):s=[Fh])}m=m.return}s!==null&&G_(a,s,l,c),a.flags|=262144}function Mp(s){for(s=s.firstContext;s!==null;){if(!gr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Fo(s){Bo=s,ps=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Bn(s){return AS(Bo,s)}function Lp(s,a){return Bo===null&&Fo(s),AS(s,a)}function AS(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},ps===null){if(s===null)throw Error(r(308));ps=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else ps=ps.next=a;return l}var pa=!1;function K_(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function W_(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ma(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ga(s,a,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,Ot&2){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=yp(s),aT(s,null,l),a}return gp(s,c,a,l),yp(s)}function Th(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194176)!==0)){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,Js(s,l)}}function Q_(s,a){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=A:y=y.next=A,l=l.next}while(l!==null);y===null?m=y=a:y=y.next=a}else m=y=a;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var Y_=!1;function Sh(){if(Y_){var s=tu;if(s!==null)throw s}}function Ah(s,a,l,c){Y_=!1;var m=s.updateQueue;pa=!1;var y=m.firstBaseUpdate,A=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var F=N,K=F.next;F.next=null,A===null?y=K:A.next=K,A=F;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,N=ce.lastBaseUpdate,N!==A&&(N===null?ce.firstBaseUpdate=K:N.next=K,ce.lastBaseUpdate=F))}if(y!==null){var fe=m.baseState;A=0,ce=K=F=null,N=y;do{var Z=N.lane&-536870913,le=Z!==N.lane;if(le?(Ye&Z)===Z:(c&Z)===Z){Z!==0&&Z===eu&&(Y_=!0),ce!==null&&(ce=ce.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Ie=s,ke=N;Z=a;var Ft=l;switch(ke.tag){case 1:if(Ie=ke.payload,typeof Ie=="function"){fe=Ie.call(Ft,fe,Z);break e}fe=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=ke.payload,Z=typeof Ie=="function"?Ie.call(Ft,fe,Z):Ie,Z==null)break e;fe=b({},fe,Z);break e;case 2:pa=!0}}Z=N.callback,Z!==null&&(s.flags|=64,le&&(s.flags|=8192),le=m.callbacks,le===null?m.callbacks=[Z]:le.push(Z))}else le={lane:Z,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ce===null?(K=ce=le,F=fe):ce=ce.next=le,A|=Z;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;le=N,N=le.next,le.next=null,m.lastBaseUpdate=le,m.shared.pending=null}}while(!0);ce===null&&(F=fe),m.baseState=F,m.firstBaseUpdate=K,m.lastBaseUpdate=ce,y===null&&(m.shared.lanes=0),ba|=A,s.lanes=A,s.memoizedState=fe}}function IS(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function RS(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)IS(l[s],a)}function Ih(s,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&s)===s){c=void 0;var y=l.create,A=l.inst;c=y(),A.destroy=c}l=l.next}while(l!==m)}}catch(N){dt(a,a.return,N)}}function ya(s,a,l){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&s)===s){var A=c.inst,N=A.destroy;if(N!==void 0){A.destroy=void 0,m=a;var F=l;try{N()}catch(K){dt(m,F,K)}}}c=c.next}while(c!==y)}}catch(K){dt(a,a.return,K)}}function CS(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{RS(a,l)}catch(c){dt(s,s.return,c)}}}function xS(s,a,l){l.props=Uo(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){dt(s,a,c)}}function jo(s,a){try{var l=s.ref;if(l!==null){var c=s.stateNode;switch(s.tag){case 26:case 27:case 5:var m=c;break;default:m=c}typeof l=="function"?s.refCleanup=l(m):l.current=m}}catch(y){dt(s,a,y)}}function yr(s,a){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){dt(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){dt(s,a,m)}else l.current=null}function PS(s){var a=s.type,l=s.memoizedProps,c=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){dt(s,s.return,m)}}function OS(s,a,l){try{var c=s.stateNode;R2(c,s.type,l,a),c[cn]=a}catch(m){dt(s,s.return,m)}}function DS(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27||s.tag===4}function X_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||DS(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==27&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function J_(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?l.nodeType===8?l.parentNode.insertBefore(s,a):l.insertBefore(s,a):(l.nodeType===8?(a=l.parentNode,a.insertBefore(s,l)):(a=l,a.appendChild(s)),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Xp));else if(c!==4&&c!==27&&(s=s.child,s!==null))for(J_(s,a,l),s=s.sibling;s!==null;)J_(s,a,l),s=s.sibling}function Up(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(c!==4&&c!==27&&(s=s.child,s!==null))for(Up(s,a,l),s=s.sibling;s!==null;)Up(s,a,l),s=s.sibling}var gs=!1,Ut=!1,Z_=!1,NS=typeof WeakSet=="function"?WeakSet:Set,wn=null,kS=!1;function r2(s,a){if(s=s.containerInfo,Rv=im,s=Xw(s),t_(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var A=0,N=-1,F=-1,K=0,ce=0,fe=s,Z=null;t:for(;;){for(var le;fe!==l||m!==0&&fe.nodeType!==3||(N=A+m),fe!==y||c!==0&&fe.nodeType!==3||(F=A+c),fe.nodeType===3&&(A+=fe.nodeValue.length),(le=fe.firstChild)!==null;)Z=fe,fe=le;for(;;){if(fe===s)break t;if(Z===l&&++K===m&&(N=A),Z===y&&++ce===c&&(F=A),(le=fe.nextSibling)!==null)break;fe=Z,Z=fe.parentNode}fe=le}l=N===-1||F===-1?null:{start:N,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(Cv={focusedElem:s,selectionRange:l},im=!1,wn=a;wn!==null;)if(a=wn,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,wn=s;else for(;wn!==null;){switch(a=wn,y=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if(s&1024&&y!==null){s=void 0,l=a,m=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var Ie=Uo(l.type,m,l.elementType===l.type);s=c.getSnapshotBeforeUpdate(Ie,y),c.__reactInternalSnapshotBeforeUpdate=s}catch(ke){dt(l,l.return,ke)}}break;case 3:if(s&1024){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)Dv(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Dv(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(s&1024)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,wn=s;break}wn=a.return}return Ie=kS,kS=!1,Ie}function VS(s,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:_s(s,l),c&4&&Ih(5,l);break;case 1:if(_s(s,l),c&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(N){dt(l,l.return,N)}else{var m=Uo(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(N){dt(l,l.return,N)}}c&64&&CS(l),c&512&&jo(l,l.return);break;case 3:if(_s(s,l),c&64&&(c=l.updateQueue,c!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{RS(c,s)}catch(N){dt(l,l.return,N)}}break;case 26:_s(s,l),c&512&&jo(l,l.return);break;case 27:case 5:_s(s,l),a===null&&c&4&&PS(l),c&512&&jo(l,l.return);break;case 12:_s(s,l);break;case 13:_s(s,l),c&4&&US(s,l);break;case 22:if(m=l.memoizedState!==null||gs,!m){a=a!==null&&a.memoizedState!==null||Ut;var y=gs,A=Ut;gs=m,(Ut=a)&&!A?_a(s,l,(l.subtreeFlags&8772)!==0):_s(s,l),gs=y,Ut=A}c&512&&(l.memoizedProps.mode==="manual"?jo(l,l.return):yr(l,l.return));break;default:_s(s,l)}}function MS(s){var a=s.alternate;a!==null&&(s.alternate=null,MS(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&yo(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var tn=null,_r=!1;function ys(s,a,l){for(l=l.child;l!==null;)LS(s,a,l),l=l.sibling}function LS(s,a,l){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(Ks,l)}catch{}switch(l.tag){case 26:Ut||yr(l,a),ys(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ut||yr(l,a);var c=tn,m=_r;for(tn=l.stateNode,ys(s,a,l),l=l.stateNode,a=l.attributes;a.length;)l.removeAttributeNode(a[0]);yo(l),tn=c,_r=m;break;case 5:Ut||yr(l,a);case 6:m=tn;var y=_r;if(tn=null,ys(s,a,l),tn=m,_r=y,tn!==null)if(_r)try{s=tn,c=l.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)}catch(A){dt(l,a,A)}else try{tn.removeChild(l.stateNode)}catch(A){dt(l,a,A)}break;case 18:tn!==null&&(_r?(a=tn,l=l.stateNode,a.nodeType===8?Ov(a.parentNode,l):a.nodeType===1&&Ov(a,l),Hh(a)):Ov(tn,l.stateNode));break;case 4:c=tn,m=_r,tn=l.stateNode.containerInfo,_r=!0,ys(s,a,l),tn=c,_r=m;break;case 0:case 11:case 14:case 15:Ut||ya(2,l,a),Ut||ya(4,l,a),ys(s,a,l);break;case 1:Ut||(yr(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&xS(l,a,c)),ys(s,a,l);break;case 21:ys(s,a,l);break;case 22:Ut||yr(l,a),Ut=(c=Ut)||l.memoizedState!==null,ys(s,a,l),Ut=c;break;default:ys(s,a,l)}}function US(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Hh(s)}catch(l){dt(a,a.return,l)}}function i2(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new NS),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new NS),a;default:throw Error(r(435,s.tag))}}function ev(s,a){var l=i2(s);a.forEach(function(c){var m=y2.bind(null,s,c);l.has(c)||(l.add(c),c.then(m,m))})}function qr(s,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],y=s,A=a,N=A;e:for(;N!==null;){switch(N.tag){case 27:case 5:tn=N.stateNode,_r=!1;break e;case 3:tn=N.stateNode.containerInfo,_r=!0;break e;case 4:tn=N.stateNode.containerInfo,_r=!0;break e}N=N.return}if(tn===null)throw Error(r(160));LS(y,A,m),tn=null,_r=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)BS(a,s),a=a.sibling}var ii=null;function BS(s,a){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:qr(a,s),Hr(s),c&4&&(ya(3,s,s.return),Ih(3,s),ya(5,s,s.return));break;case 1:qr(a,s),Hr(s),c&512&&(Ut||l===null||yr(l,l.return)),c&64&&gs&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=ii;if(qr(a,s),Hr(s),c&512&&(Ut||l===null||yr(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){e:{c=s.type,l=s.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[ea]||y[_n]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),On(y,c,l),y[_n]=s,xt(y),c=y;break e;case"link":var A=PA("link","href",m).get(c+(l.href||""));if(A){for(var N=0;N<A.length;N++)if(y=A[N],y.getAttribute("href")===(l.href==null?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(N,1);break t}}y=m.createElement(c),On(y,c,l),m.head.appendChild(y);break;case"meta":if(A=PA("meta","content",m).get(c+(l.content||""))){for(N=0;N<A.length;N++)if(y=A[N],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(N,1);break t}}y=m.createElement(c),On(y,c,l),m.head.appendChild(y);break;default:throw Error(r(468,c))}y[_n]=s,xt(y),c=y}s.stateNode=c}else OA(m,s.type,s.stateNode);else s.stateNode=xA(m,c,s.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?OA(m,s.type,s.stateNode):xA(m,c,s.memoizedProps)):c===null&&s.stateNode!==null&&OS(s,s.memoizedProps,l.memoizedProps)}break;case 27:if(c&4&&s.alternate===null){m=s.stateNode,y=s.memoizedProps;try{for(var F=m.firstChild;F;){var K=F.nextSibling,ce=F.nodeName;F[ea]||ce==="HEAD"||ce==="BODY"||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&F.rel.toLowerCase()==="stylesheet"||m.removeChild(F),F=K}for(var fe=s.type,Z=m.attributes;Z.length;)m.removeAttributeNode(Z[0]);On(m,fe,y),m[_n]=s,m[cn]=y}catch(Ie){dt(s,s.return,Ie)}}case 5:if(qr(a,s),Hr(s),c&512&&(Ut||l===null||yr(l,l.return)),s.flags&32){m=s.stateNode;try{kr(m,"")}catch(Ie){dt(s,s.return,Ie)}}c&4&&s.stateNode!=null&&(m=s.memoizedProps,OS(s,m,l!==null?l.memoizedProps:m)),c&1024&&(Z_=!0);break;case 6:if(qr(a,s),Hr(s),c&4){if(s.stateNode===null)throw Error(r(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(Ie){dt(s,s.return,Ie)}}break;case 3:if(tm=null,m=ii,ii=Zp(a.containerInfo),qr(a,s),ii=m,Hr(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Hh(a.containerInfo)}catch(Ie){dt(s,s.return,Ie)}Z_&&(Z_=!1,FS(s));break;case 4:c=ii,ii=Zp(s.stateNode.containerInfo),qr(a,s),Hr(s),ii=c;break;case 12:qr(a,s),Hr(s);break;case 13:qr(a,s),Hr(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(uv=ir()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,ev(s,c)));break;case 22:if(c&512&&(Ut||l===null||yr(l,l.return)),F=s.memoizedState!==null,K=l!==null&&l.memoizedState!==null,ce=gs,fe=Ut,gs=ce||F,Ut=fe||K,qr(a,s),Ut=fe,gs=ce,Hr(s),a=s.stateNode,a._current=s,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,c&8192&&(a._visibility=F?a._visibility&-2:a._visibility|1,F&&(a=gs||Ut,l===null||K||a||su(s)),s.memoizedProps===null||s.memoizedProps.mode!=="manual"))e:for(l=null,a=s;;){if(a.tag===5||a.tag===26||a.tag===27){if(l===null){K=l=a;try{if(m=K.stateNode,F)y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{A=K.stateNode,N=K.memoizedProps.style;var le=N!=null&&N.hasOwnProperty("display")?N.display:null;A.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(Ie){dt(K,K.return,Ie)}}}else if(a.tag===6){if(l===null){K=a;try{K.stateNode.nodeValue=F?"":K.memoizedProps}catch(Ie){dt(K,K.return,Ie)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,ev(s,l))));break;case 19:qr(a,s),Hr(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,ev(s,c)));break;case 21:break;default:qr(a,s),Hr(s)}}function Hr(s){var a=s.flags;if(a&2){try{if(s.tag!==27){e:{for(var l=s.return;l!==null;){if(DS(l)){var c=l;break e}l=l.return}throw Error(r(160))}switch(c.tag){case 27:var m=c.stateNode,y=X_(s);Up(s,y,m);break;case 5:var A=c.stateNode;c.flags&32&&(kr(A,""),c.flags&=-33);var N=X_(s);Up(s,N,A);break;case 3:case 4:var F=c.stateNode.containerInfo,K=X_(s);J_(s,K,F);break;default:throw Error(r(161))}}}catch(ce){dt(s,s.return,ce)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function FS(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;FS(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function _s(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)VS(s,a.alternate,a),a=a.sibling}function su(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:ya(4,a,a.return),su(a);break;case 1:yr(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&xS(a,a.return,l),su(a);break;case 26:case 27:case 5:yr(a,a.return),su(a);break;case 22:yr(a,a.return),a.memoizedState===null&&su(a);break;default:su(a)}s=s.sibling}}function _a(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=s,y=a,A=y.flags;switch(y.tag){case 0:case 11:case 15:_a(m,y,l),Ih(4,y);break;case 1:if(_a(m,y,l),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(K){dt(c,c.return,K)}if(c=y,m=c.updateQueue,m!==null){var N=c.stateNode;try{var F=m.shared.hiddenCallbacks;if(F!==null)for(m.shared.hiddenCallbacks=null,m=0;m<F.length;m++)IS(F[m],N)}catch(K){dt(c,c.return,K)}}l&&A&64&&CS(y),jo(y,y.return);break;case 26:case 27:case 5:_a(m,y,l),l&&c===null&&A&4&&PS(y),jo(y,y.return);break;case 12:_a(m,y,l);break;case 13:_a(m,y,l),l&&A&4&&US(m,y);break;case 22:y.memoizedState===null&&_a(m,y,l),jo(y,y.return);break;default:_a(m,y,l)}a=a.sibling}}function tv(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&gh(l))}function nv(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&gh(s))}function va(s,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)jS(s,a,l,c),a=a.sibling}function jS(s,a,l,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:va(s,a,l,c),m&2048&&Ih(9,a);break;case 3:va(s,a,l,c),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&gh(s)));break;case 12:if(m&2048){va(s,a,l,c),s=a.stateNode;try{var y=a.memoizedProps,A=y.id,N=y.onPostCommit;typeof N=="function"&&N(A,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(F){dt(a,a.return,F)}}else va(s,a,l,c);break;case 23:break;case 22:y=a.stateNode,a.memoizedState!==null?y._visibility&4?va(s,a,l,c):Rh(s,a):y._visibility&4?va(s,a,l,c):(y._visibility|=4,au(s,a,l,c,(a.subtreeFlags&10256)!==0)),m&2048&&tv(a.alternate,a);break;case 24:va(s,a,l,c),m&2048&&nv(a.alternate,a);break;default:va(s,a,l,c)}}function au(s,a,l,c,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=s,A=a,N=l,F=c,K=A.flags;switch(A.tag){case 0:case 11:case 15:au(y,A,N,F,m),Ih(8,A);break;case 23:break;case 22:var ce=A.stateNode;A.memoizedState!==null?ce._visibility&4?au(y,A,N,F,m):Rh(y,A):(ce._visibility|=4,au(y,A,N,F,m)),m&&K&2048&&tv(A.alternate,A);break;case 24:au(y,A,N,F,m),m&&K&2048&&nv(A.alternate,A);break;default:au(y,A,N,F,m)}a=a.sibling}}function Rh(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,c=a,m=c.flags;switch(c.tag){case 22:Rh(l,c),m&2048&&tv(c.alternate,c);break;case 24:Rh(l,c),m&2048&&nv(c.alternate,c);break;default:Rh(l,c)}a=a.sibling}}var Ch=8192;function ou(s){if(s.subtreeFlags&Ch)for(s=s.child;s!==null;)zS(s),s=s.sibling}function zS(s){switch(s.tag){case 26:ou(s),s.flags&Ch&&s.memoizedState!==null&&G2(ii,s.memoizedState,s.memoizedProps);break;case 5:ou(s);break;case 3:case 4:var a=ii;ii=Zp(s.stateNode.containerInfo),ou(s),ii=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Ch,Ch=16777216,ou(s),Ch=a):ou(s));break;default:ou(s)}}function qS(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function xh(s){var a=s.deletions;if(s.flags&16){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];wn=c,$S(c,s)}qS(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)HS(s),s=s.sibling}function HS(s){switch(s.tag){case 0:case 11:case 15:xh(s),s.flags&2048&&ya(9,s,s.return);break;case 3:xh(s);break;case 12:xh(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&4&&(s.return===null||s.return.tag!==13)?(a._visibility&=-5,Bp(s)):xh(s);break;default:xh(s)}}function Bp(s){var a=s.deletions;if(s.flags&16){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];wn=c,$S(c,s)}qS(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:ya(8,a,a.return),Bp(a);break;case 22:l=a.stateNode,l._visibility&4&&(l._visibility&=-5,Bp(a));break;default:Bp(a)}s=s.sibling}}function $S(s,a){for(;wn!==null;){var l=wn;switch(l.tag){case 0:case 11:case 15:ya(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:gh(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,wn=c;else e:for(l=s;wn!==null;){c=wn;var m=c.sibling,y=c.return;if(MS(c),c===l){wn=null;break e}if(m!==null){m.return=y,wn=m;break e}wn=y}}}function s2(s,a,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(s,a,l,c){return new s2(s,a,l,c)}function rv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ea(s,a){var l=s.alternate;return l===null?(l=$r(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&31457280,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function GS(s,a){s.flags&=31457282;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Fp(s,a,l,c,m,y){var A=0;if(c=s,typeof s=="function")rv(s)&&(A=1);else if(typeof s=="string")A=H2(s,l,Et.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case d:return zo(l.children,m,y,a);case f:A=8,m|=24;break;case g:return s=$r(12,l,a,m|2),s.elementType=g,s.lanes=y,s;case I:return s=$r(13,l,a,m),s.elementType=I,s.lanes=y,s;case x:return s=$r(19,l,a,m),s.elementType=x,s.lanes=y,s;case U:return KS(l,m,y,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case _:case T:A=10;break e;case v:A=9;break e;case w:A=11;break e;case L:A=14;break e;case M:A=16,c=null;break e}A=29,l=Error(r(130,s===null?"null":typeof s,"")),c=null}return a=$r(A,l,a,m),a.elementType=s,a.type=c,a.lanes=y,a}function zo(s,a,l,c){return s=$r(7,s,c,a),s.lanes=l,s}function KS(s,a,l,c){s=$r(22,s,c,a),s.elementType=U,s.lanes=l;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=m._current;if(y===null)throw Error(r(456));if(!(m._pendingVisibility&2)){var A=la(y,2);A!==null&&(m._pendingVisibility|=2,Xn(A,y,2))}},attach:function(){var y=m._current;if(y===null)throw Error(r(456));if(m._pendingVisibility&2){var A=la(y,2);A!==null&&(m._pendingVisibility&=-3,Xn(A,y,2))}}};return s.stateNode=m,s}function iv(s,a,l){return s=$r(6,s,null,a),s.lanes=l,s}function sv(s,a,l){return a=$r(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function vs(s){s.flags|=4}function WS(s,a){if(a.type!=="stylesheet"||a.state.loading&4)s.flags&=-16777217;else if(s.flags|=16777216,!DA(a)){if(a=zr.current,a!==null&&((Ye&4194176)===Ye?Si!==null:(Ye&62914560)!==Ye&&!(Ye&536870912)||a!==Si))throw fh=c_,hT;s.flags|=8192}}function jp(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Ys():536870912,s.lanes|=a,uu|=a)}function Ph(s,a){if(!et)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function Pt(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(a)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&31457280,c|=m.flags&31457280,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=l,a}function a2(s,a,l){var c=a.pendingProps;switch(l_(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(a),null;case 1:return Pt(a),null;case 3:return l=a.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),ms(pn),Mn(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(uh(a)?vs(a):s===null||s.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,ri!==null&&(fv(ri),ri=null))),Pt(a),null;case 26:return l=a.memoizedState,s===null?(vs(a),l!==null?(Pt(a),WS(a,l)):(Pt(a),a.flags&=-16777217)):l?l!==s.memoizedState?(vs(a),Pt(a),WS(a,l)):(Pt(a),a.flags&=-16777217):(s.memoizedProps!==c&&vs(a),Pt(a),a.flags&=-16777217),null;case 27:Ln(a),l=at.current;var m=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==c&&vs(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Pt(a),null}s=Et.current,uh(a)?uT(a):(s=SA(m,c,l),a.stateNode=s,vs(a))}return Pt(a),null;case 5:if(Ln(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==c&&vs(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Pt(a),null}if(s=Et.current,uh(a))uT(a);else{switch(m=Jp(at.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}s[_n]=a,s[cn]=c;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=s;e:switch(On(s,l,c),l){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&vs(a)}}return Pt(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==c&&vs(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(s=at.current,uh(a)){if(s=a.stateNode,l=a.memoizedProps,c=null,m=Yn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}s[_n]=a,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||_A(s.nodeValue,l)),s||Do(a)}else s=Jp(s).createTextNode(c),s[_n]=a,a.stateNode=s}return Pt(a),null;case 13:if(c=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=uh(a),c!==null&&c.dehydrated!==null){if(s===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[_n]=a}else ch(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Pt(a),m=!1}else ri!==null&&(fv(ri),ri=null),m=!0;if(!m)return a.flags&256?(hs(a),a):(hs(a),null)}if(hs(a),a.flags&128)return a.lanes=l,a;if(l=c!==null,s=s!==null&&s.memoizedState!==null,l){c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),jp(a,a.updateQueue),Pt(a),null;case 4:return Mn(),s===null&&Sv(a.stateNode.containerInfo),Pt(a),null;case 10:return ms(a.type),Pt(a),null;case 19:if(_t(fn),m=a.memoizedState,m===null)return Pt(a),null;if(c=(a.flags&128)!==0,y=m.rendering,y===null)if(c)Ph(m,!1);else{if(Bt!==0||s!==null&&s.flags&128)for(s=a.child;s!==null;){if(y=Sp(s),y!==null){for(a.flags|=128,Ph(m,!1),s=y.updateQueue,a.updateQueue=s,jp(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)GS(l,s),l=l.sibling;return $e(fn,fn.current&1|2),a.child}s=s.sibling}m.tail!==null&&ir()>zp&&(a.flags|=128,c=!0,Ph(m,!1),a.lanes=4194304)}else{if(!c)if(s=Sp(y),s!==null){if(a.flags|=128,c=!0,s=s.updateQueue,a.updateQueue=s,jp(a,s),Ph(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!et)return Pt(a),null}else 2*ir()-m.renderingStartTime>zp&&l!==536870912&&(a.flags|=128,c=!0,Ph(m,!1),a.lanes=4194304);m.isBackwards?(y.sibling=a.child,a.child=y):(s=m.last,s!==null?s.sibling=y:a.child=y,m.last=y)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=ir(),a.sibling=null,s=fn.current,$e(fn,c?s&1|2:s&1),a):(Pt(a),null);case 22:case 23:return hs(a),d_(),c=a.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?l&536870912&&!(a.flags&128)&&(Pt(a),a.subtreeFlags&6&&(a.flags|=8192)):Pt(a),l=a.updateQueue,l!==null&&jp(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),s!==null&&_t(ko),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),ms(pn),Pt(a),null;case 25:return null}throw Error(r(156,a.tag))}function o2(s,a){switch(l_(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return ms(pn),Mn(),s=a.flags,s&65536&&!(s&128)?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Ln(a),null;case 13:if(hs(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));ch()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return _t(fn),null;case 4:return Mn(),null;case 10:return ms(a.type),null;case 22:case 23:return hs(a),d_(),s!==null&&_t(ko),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return ms(pn),null;case 25:return null;default:return null}}function QS(s,a){switch(l_(a),a.tag){case 3:ms(pn),Mn();break;case 26:case 27:case 5:Ln(a);break;case 4:Mn();break;case 13:hs(a);break;case 19:_t(fn);break;case 10:ms(a.type);break;case 22:case 23:hs(a),d_(),s!==null&&_t(ko);break;case 24:ms(pn)}}var l2={getCacheForType:function(s){var a=Bn(pn),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},u2=typeof WeakMap=="function"?WeakMap:Map,Ot=0,mt=null,Fe=null,Ye=0,gt=0,vr=null,Es=!1,lu=!1,av=!1,bs=0,Bt=0,ba=0,qo=0,ov=0,Gr=0,uu=0,Oh=null,Ii=null,lv=!1,uv=0,zp=1/0,qp=null,wa=null,Hp=!1,Ho=null,Dh=0,cv=0,hv=null,Nh=0,dv=null;function Er(){if(Ot&2&&Ye!==0)return Ye&-Ye;if(R.T!==null){var s=eu;return s!==0?s:Ev()}return Yf()}function YS(){Gr===0&&(Gr=!(Ye&536870912)||et?$c():536870912);var s=zr.current;return s!==null&&(s.flags|=32),Gr}function Xn(s,a,l){(s===mt&&gt===2||s.cancelPendingCommit!==null)&&(cu(s,0),ws(s,Ye,Gr,!1)),Gt(s,l),(!(Ot&2)||s!==mt)&&(s===mt&&(!(Ot&2)&&(qo|=l),Bt===4&&ws(s,Ye,Gr,!1)),Ri(s))}function XS(s,a,l){if(Ot&6)throw Error(r(327));var c=!l&&(a&60)===0&&(a&s.expiredLanes)===0||Qs(s,a),m=c?d2(s,a):gv(s,a,!0),y=c;do{if(m===0){lu&&!c&&ws(s,a,0,!1);break}else if(m===6)ws(s,a,0,!Es);else{if(l=s.current.alternate,y&&!c2(l)){m=gv(s,a,!1),y=!1;continue}if(m===2){if(y=a,s.errorRecoveryDisabledLanes&y)var A=0;else A=s.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){a=A;e:{var N=s;m=Oh;var F=N.current.memoizedState.isDehydrated;if(F&&(cu(N,A).flags|=256),A=gv(N,A,!1),A!==2){if(av&&!F){N.errorRecoveryDisabledLanes|=y,qo|=y,m=4;break e}y=Ii,Ii=m,y!==null&&fv(y)}m=A}if(y=!1,m!==2)continue}}if(m===1){cu(s,0),ws(s,a,0,!0);break}e:{switch(c=s,m){case 0:case 1:throw Error(r(345));case 4:if((a&4194176)===a){ws(c,a,Gr,!Es);break e}break;case 2:Ii=null;break;case 3:case 5:break;default:throw Error(r(329))}if(c.finishedWork=l,c.finishedLanes=a,(a&62914560)===a&&(y=uv+300-ir(),10<y)){if(ws(c,a,Gr,!Es),Dr(c,0)!==0)break e;c.timeoutHandle=bA(JS.bind(null,c,l,Ii,qp,lv,a,Gr,qo,uu,Es,2,-0,0),y);break e}JS(c,l,Ii,qp,lv,a,Gr,qo,uu,Es,0,-0,0)}}break}while(!0);Ri(s)}function fv(s){Ii===null?Ii=s:Ii.push.apply(Ii,s)}function JS(s,a,l,c,m,y,A,N,F,K,ce,fe,Z){var le=a.subtreeFlags;if((le&8192||(le&16785408)===16785408)&&(Bh={stylesheets:null,count:0,unsuspend:$2},zS(a),a=K2(),a!==null)){s.cancelPendingCommit=a(sA.bind(null,s,l,c,m,A,N,F,1,fe,Z)),ws(s,y,A,!K);return}sA(s,l,c,m,A,N,F,ce,fe,Z)}function c2(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],y=m.getSnapshot;m=m.value;try{if(!gr(y(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ws(s,a,l,c){a&=~ov,a&=~qo,s.suspendedLanes|=a,s.pingedLanes&=~a,c&&(s.warmLanes|=a),c=s.expirationTimes;for(var m=a;0<m;){var y=31-Kn(m),A=1<<y;c[y]=-1,m&=~A}l!==0&&Xs(s,l,a)}function $p(){return Ot&6?!0:(kh(0),!1)}function pv(){if(Fe!==null){if(gt===0)var s=Fe.return;else s=Fe,ps=Bo=null,E_(s),Jl=null,ph=0,s=Fe;for(;s!==null;)QS(s.alternate,s),s=s.return;Fe=null}}function cu(s,a){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,x2(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),pv(),mt=s,Fe=l=Ea(s.current,null),Ye=a,gt=0,vr=null,Es=!1,lu=Qs(s,a),av=!1,uu=Gr=ov=qo=ba=Bt=0,Ii=Oh=null,lv=!1,a&8&&(a|=a&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=a;0<c;){var m=31-Kn(c),y=1<<m;a|=s[m],c&=~y}return bs=a,mp(),l}function ZS(s,a){Ue=null,R.H=Ai,a===dh?(a=pT(),gt=3):a===hT?(a=pT(),gt=4):gt=a===dS?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,vr=a,Fe===null&&(Bt=1,Vp(s,Br(a,s.current)))}function eA(){var s=R.H;return R.H=Ai,s===null?Ai:s}function tA(){var s=R.A;return R.A=l2,s}function mv(){Bt=4,Es||(Ye&4194176)!==Ye&&zr.current!==null||(lu=!0),!(ba&134217727)&&!(qo&134217727)||mt===null||ws(mt,Ye,Gr,!1)}function gv(s,a,l){var c=Ot;Ot|=2;var m=eA(),y=tA();(mt!==s||Ye!==a)&&(qp=null,cu(s,a)),a=!1;var A=Bt;e:do try{if(gt!==0&&Fe!==null){var N=Fe,F=vr;switch(gt){case 8:pv(),A=6;break e;case 3:case 2:case 6:zr.current===null&&(a=!0);var K=gt;if(gt=0,vr=null,hu(s,N,F,K),l&&lu){A=0;break e}break;default:K=gt,gt=0,vr=null,hu(s,N,F,K)}}h2(),A=Bt;break}catch(ce){ZS(s,ce)}while(!0);return a&&s.shellSuspendCounter++,ps=Bo=null,Ot=c,R.H=m,R.A=y,Fe===null&&(mt=null,Ye=0,mp()),A}function h2(){for(;Fe!==null;)nA(Fe)}function d2(s,a){var l=Ot;Ot|=2;var c=eA(),m=tA();mt!==s||Ye!==a?(qp=null,zp=ir()+500,cu(s,a)):lu=Qs(s,a);e:do try{if(gt!==0&&Fe!==null){a=Fe;var y=vr;t:switch(gt){case 1:gt=0,vr=null,hu(s,a,y,1);break;case 2:if(dT(y)){gt=0,vr=null,rA(a);break}a=function(){gt===2&&mt===s&&(gt=7),Ri(s)},y.then(a,a);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:dT(y)?(gt=0,vr=null,rA(a)):(gt=0,vr=null,hu(s,a,y,7));break;case 5:var A=null;switch(Fe.tag){case 26:A=Fe.memoizedState;case 5:case 27:var N=Fe;if(!A||DA(A)){gt=0,vr=null;var F=N.sibling;if(F!==null)Fe=F;else{var K=N.return;K!==null?(Fe=K,Gp(K)):Fe=null}break t}}gt=0,vr=null,hu(s,a,y,5);break;case 6:gt=0,vr=null,hu(s,a,y,6);break;case 8:pv(),Bt=6;break e;default:throw Error(r(462))}}f2();break}catch(ce){ZS(s,ce)}while(!0);return ps=Bo=null,R.H=c,R.A=m,Ot=l,Fe!==null?0:(mt=null,Ye=0,mp(),Bt)}function f2(){for(;Fe!==null&&!Hy();)nA(Fe)}function nA(s){var a=SS(s.alternate,s,bs);s.memoizedProps=s.pendingProps,a===null?Gp(s):Fe=a}function rA(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=_S(l,a,a.pendingProps,a.type,void 0,Ye);break;case 11:a=_S(l,a,a.pendingProps,a.type.render,a.ref,Ye);break;case 5:E_(a);default:QS(l,a),a=Fe=GS(a,bs),a=SS(l,a,bs)}s.memoizedProps=s.pendingProps,a===null?Gp(s):Fe=a}function hu(s,a,l,c){ps=Bo=null,E_(a),Jl=null,ph=0;var m=a.return;try{if(t2(s,m,a,l,Ye)){Bt=1,Vp(s,Br(l,s.current)),Fe=null;return}}catch(y){if(m!==null)throw Fe=m,y;Bt=1,Vp(s,Br(l,s.current)),Fe=null;return}a.flags&32768?(et||c===1?s=!0:lu||Ye&536870912?s=!1:(Es=s=!0,(c===2||c===3||c===6)&&(c=zr.current,c!==null&&c.tag===13&&(c.flags|=16384))),iA(a,s)):Gp(a)}function Gp(s){var a=s;do{if(a.flags&32768){iA(a,Es);return}s=a.return;var l=a2(a.alternate,a,bs);if(l!==null){Fe=l;return}if(a=a.sibling,a!==null){Fe=a;return}Fe=a=s}while(a!==null);Bt===0&&(Bt=5)}function iA(s,a){do{var l=o2(s.alternate,s);if(l!==null){l.flags&=32767,Fe=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Fe=s;return}Fe=s=l}while(s!==null);Bt=6,Fe=null}function sA(s,a,l,c,m,y,A,N,F,K){var ce=R.T,fe=ye.p;try{ye.p=2,R.T=null,p2(s,a,l,c,fe,m,y,A,N,F,K)}finally{R.T=ce,ye.p=fe}}function p2(s,a,l,c,m,y,A,N){do du();while(Ho!==null);if(Ot&6)throw Error(r(327));var F=s.finishedWork;if(c=s.finishedLanes,F===null)return null;if(s.finishedWork=null,s.finishedLanes=0,F===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0,s.cancelPendingCommit=null;var K=F.lanes|F.childLanes;if(K|=s_,Wf(s,c,K,y,A,N),s===mt&&(Fe=mt=null,Ye=0),!(F.subtreeFlags&10256)&&!(F.flags&10256)||Hp||(Hp=!0,cv=K,hv=l,_2(Zi,function(){return du(),null})),l=(F.flags&15990)!==0,F.subtreeFlags&15990||l?(l=R.T,R.T=null,y=ye.p,ye.p=2,A=Ot,Ot|=4,r2(s,F),BS(F,s),Uk(Cv,s.containerInfo),im=!!Rv,Cv=Rv=null,s.current=F,VS(s,F.alternate,F),jc(),Ot=A,ye.p=y,R.T=l):s.current=F,Hp?(Hp=!1,Ho=s,Dh=c):aA(s,K),K=s.pendingLanes,K===0&&(wa=null),qc(F.stateNode),Ri(s),a!==null)for(m=s.onRecoverableError,F=0;F<a.length;F++)K=a[F],m(K.value,{componentStack:K.stack});return Dh&3&&du(),K=s.pendingLanes,c&4194218&&K&42?s===dv?Nh++:(Nh=0,dv=s):Nh=0,kh(0),null}function aA(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,gh(a)))}function du(){if(Ho!==null){var s=Ho,a=cv;cv=0;var l=Qf(Dh),c=R.T,m=ye.p;try{if(ye.p=32>l?32:l,R.T=null,Ho===null)var y=!1;else{l=hv,hv=null;var A=Ho,N=Dh;if(Ho=null,Dh=0,Ot&6)throw Error(r(331));var F=Ot;if(Ot|=4,HS(A.current),jS(A,A.current,N,l),Ot=F,kh(0,!1),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(Ks,A)}catch{}y=!0}return y}finally{ye.p=m,R.T=c,aA(s,a)}}return!1}function oA(s,a,l){a=Br(l,a),a=k_(s.stateNode,a,2),s=ga(s,a,2),s!==null&&(Gt(s,2),Ri(s))}function dt(s,a,l){if(s.tag===3)oA(s,s,l);else for(;a!==null;){if(a.tag===3){oA(a,s,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(wa===null||!wa.has(c))){s=Br(l,s),l=cS(2),c=ga(a,l,2),c!==null&&(hS(l,c,a,s),Gt(c,2),Ri(c));break}}a=a.return}}function yv(s,a,l){var c=s.pingCache;if(c===null){c=s.pingCache=new u2;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(l)||(av=!0,m.add(l),s=m2.bind(null,s,a,l),a.then(s,s))}function m2(s,a,l){var c=s.pingCache;c!==null&&c.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,mt===s&&(Ye&l)===l&&(Bt===4||Bt===3&&(Ye&62914560)===Ye&&300>ir()-uv?!(Ot&2)&&cu(s,0):ov|=l,uu===Ye&&(uu=0)),Ri(s)}function lA(s,a){a===0&&(a=Ys()),s=la(s,a),s!==null&&(Gt(s,a),Ri(s))}function g2(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),lA(s,l)}function y2(s,a){var l=0;switch(s.tag){case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),lA(s,l)}function _2(s,a){return Zr(s,a)}var Kp=null,fu=null,_v=!1,Wp=!1,vv=!1,$o=0;function Ri(s){s!==fu&&s.next===null&&(fu===null?Kp=fu=s:fu=fu.next=s),Wp=!0,_v||(_v=!0,E2(v2))}function kh(s,a){if(!vv&&Wp){vv=!0;do for(var l=!1,c=Kp;c!==null;){if(s!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var A=c.suspendedLanes,N=c.pingedLanes;y=(1<<31-Kn(42|s)+1)-1,y&=m&~(A&~N),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(l=!0,hA(c,y))}else y=Ye,y=Dr(c,c===mt?y:0),!(y&3)||Qs(c,y)||(l=!0,hA(c,y));c=c.next}while(l);vv=!1}}function v2(){Wp=_v=!1;var s=0;$o!==0&&(C2()&&(s=$o),$o=0);for(var a=ir(),l=null,c=Kp;c!==null;){var m=c.next,y=uA(c,a);y===0?(c.next=null,l===null?Kp=m:l.next=m,m===null&&(fu=l)):(l=c,(s!==0||y&3)&&(Wp=!0)),c=m}kh(s)}function uA(s,a){for(var l=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var A=31-Kn(y),N=1<<A,F=m[A];F===-1?(!(N&l)||N&c)&&(m[A]=Ol(N,a)):F<=a&&(s.expiredLanes|=N),y&=~N}if(a=mt,l=Ye,l=Dr(s,s===a?l:0),c=s.callbackNode,l===0||s===a&&gt===2||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Pl(c),s.callbackNode=null,s.callbackPriority=0;if(!(l&3)||Qs(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(c!==null&&Pl(c),Qf(l)){case 2:case 8:l=yn;break;case 32:l=Zi;break;case 268435456:l=zc;break;default:l=Zi}return c=cA.bind(null,s),l=Zr(l,c),s.callbackPriority=a,s.callbackNode=l,a}return c!==null&&c!==null&&Pl(c),s.callbackPriority=2,s.callbackNode=null,2}function cA(s,a){var l=s.callbackNode;if(du()&&s.callbackNode!==l)return null;var c=Ye;return c=Dr(s,s===mt?c:0),c===0?null:(XS(s,c,a),uA(s,ir()),s.callbackNode!=null&&s.callbackNode===l?cA.bind(null,s):null)}function hA(s,a){if(du())return null;XS(s,a,!0)}function E2(s){P2(function(){Ot&6?Zr(un,s):s()})}function Ev(){return $o===0&&($o=$c()),$o}function dA(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:gi(""+s)}function fA(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function b2(s,a,l,c,m){if(a==="submit"&&l&&l.stateNode===m){var y=dA((m[cn]||null).action),A=c.submitter;A&&(a=(a=A[cn]||null)?dA(a.formAction):A.getAttribute("formAction"),a!==null&&(y=a,A=null));var N=new Ul("action","action",null,c,m);s.push({event:N,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if($o!==0){var F=A?fA(m,A):new FormData(m);x_(l,{pending:!0,data:F,method:m.method,action:y},null,F)}}else typeof y=="function"&&(N.preventDefault(),F=A?fA(m,A):new FormData(m),x_(l,{pending:!0,data:F,method:m.method,action:y},y,F))},currentTarget:m}]})}}for(var bv=0;bv<sT.length;bv++){var wv=sT[bv],w2=wv.toLowerCase(),T2=wv[0].toUpperCase()+wv.slice(1);ni(w2,"on"+T2)}ni(eT,"onAnimationEnd"),ni(tT,"onAnimationIteration"),ni(nT,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(Fk,"onTransitionRun"),ni(jk,"onTransitionStart"),ni(zk,"onTransitionCancel"),ni(rT,"onTransitionEnd"),sr("onMouseEnter",["mouseout","mouseover"]),sr("onMouseLeave",["mouseout","mouseover"]),sr("onPointerEnter",["pointerout","pointerover"]),sr("onPointerLeave",["pointerout","pointerover"]),pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pr("onBeforeInput",["compositionend","keypress","textInput","paste"]),pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vh));function pA(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],m=c.event;c=c.listeners;e:{var y=void 0;if(a)for(var A=c.length-1;0<=A;A--){var N=c[A],F=N.instance,K=N.currentTarget;if(N=N.listener,F!==y&&m.isPropagationStopped())break e;y=N,m.currentTarget=K;try{y(m)}catch(ce){kp(ce)}m.currentTarget=null,y=F}else for(A=0;A<c.length;A++){if(N=c[A],F=N.instance,K=N.currentTarget,N=N.listener,F!==y&&m.isPropagationStopped())break e;y=N,m.currentTarget=K;try{y(m)}catch(ce){kp(ce)}m.currentTarget=null,y=F}}}}function Ge(s,a){var l=a[go];l===void 0&&(l=a[go]=new Set);var c=s+"__bubble";l.has(c)||(mA(a,s,2,!1),l.add(c))}function Tv(s,a,l){var c=0;a&&(c|=4),mA(l,s,c,a)}var Qp="_reactListening"+Math.random().toString(36).slice(2);function Sv(s){if(!s[Qp]){s[Qp]=!0,Kc.forEach(function(l){l!=="selectionchange"&&(S2.has(l)||Tv(l,!1,s),Tv(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Qp]||(a[Qp]=!0,Tv("selectionchange",!1,a))}}function mA(s,a,l,c){switch(UA(a)){case 2:var m=Y2;break;case 8:m=X2;break;default:m=Lv}l=m.bind(null,a,l,s),m=void 0,!Mr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(a,l,{capture:!0,passive:m}):s.addEventListener(a,l,!0):m!==void 0?s.addEventListener(a,l,{passive:m}):s.addEventListener(a,l,!1)}function Av(s,a,l,c,m){var y=c;if(!(a&1)&&!(a&2)&&c!==null)e:for(;;){if(c===null)return;var A=c.tag;if(A===3||A===4){var N=c.stateNode.containerInfo;if(N===m||N.nodeType===8&&N.parentNode===m)break;if(A===4)for(A=c.return;A!==null;){var F=A.tag;if((F===3||F===4)&&(F=A.stateNode.containerInfo,F===m||F.nodeType===8&&F.parentNode===m))return;A=A.return}for(;N!==null;){if(A=ti(N),A===null)return;if(F=A.tag,F===5||F===6||F===26||F===27){c=y=A;continue e}N=N.parentNode}}c=c.return}ep(function(){var K=y,ce=Ll(l),fe=[];e:{var Z=iT.get(s);if(Z!==void 0){var le=Ul,Ie=s;switch(s){case"keypress":if(_i(l)===0)break e;case"keydown":case"keyup":le=Hl;break;case"focusin":Ie="focus",le=jl;break;case"focusout":Ie="blur",le=jl;break;case"beforeblur":case"afterblur":le=jl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Lr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Xy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=lp;break;case eT:case tT:case nT:le=zl;break;case rT:le=cp;break;case"scroll":case"scrollend":le=tp;break;case"wheel":le=$l;break;case"copy":case"cut":case"paste":le=ql;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=sh;break;case"toggle":case"beforetoggle":le=dp}var ke=(a&4)!==0,Ft=!ke&&(s==="scroll"||s==="scrollend"),Q=ke?Z!==null?Z+"Capture":null:Z;ke=[];for(var G=K,J;G!==null;){var he=G;if(J=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||J===null||Q===null||(he=bo(G,Q),he!=null&&ke.push(Mh(G,he,J))),Ft)break;G=G.return}0<ke.length&&(Z=new le(Z,Ie,null,l,ce),fe.push({event:Z,listeners:ke}))}}if(!(a&7)){e:{if(Z=s==="mouseover"||s==="pointerover",le=s==="mouseout"||s==="pointerout",Z&&l!==Vr&&(Ie=l.relatedTarget||l.fromElement)&&(ti(Ie)||Ie[es]))break e;if((le||Z)&&(Z=ce.window===ce?ce:(Z=ce.ownerDocument)?Z.defaultView||Z.parentWindow:window,le?(Ie=l.relatedTarget||l.toElement,le=K,Ie=Ie?ti(Ie):null,Ie!==null&&(Ft=ue(Ie),ke=Ie.tag,Ie!==Ft||ke!==5&&ke!==27&&ke!==6)&&(Ie=null)):(le=null,Ie=K),le!==Ie)){if(ke=Lr,he="onMouseLeave",Q="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(ke=sh,he="onPointerLeave",Q="onPointerEnter",G="pointer"),Ft=le==null?Z:ta(le),J=Ie==null?Z:ta(Ie),Z=new ke(he,G+"leave",le,l,ce),Z.target=Ft,Z.relatedTarget=J,he=null,ti(ce)===K&&(ke=new ke(Q,G+"enter",Ie,l,ce),ke.target=J,ke.relatedTarget=Ft,he=ke),Ft=he,le&&Ie)t:{for(ke=le,Q=Ie,G=0,J=ke;J;J=pu(J))G++;for(J=0,he=Q;he;he=pu(he))J++;for(;0<G-J;)ke=pu(ke),G--;for(;0<J-G;)Q=pu(Q),J--;for(;G--;){if(ke===Q||Q!==null&&ke===Q.alternate)break t;ke=pu(ke),Q=pu(Q)}ke=null}else ke=null;le!==null&&gA(fe,Z,le,ke,!1),Ie!==null&&Ft!==null&&gA(fe,Ft,Ie,ke,!0)}}e:{if(Z=K?ta(K):window,le=Z.nodeName&&Z.nodeName.toLowerCase(),le==="select"||le==="input"&&Z.type==="file")var Se=qw;else if(dn(Z))if(Hw)Se=Mk;else{Se=kk;var Be=Nk}else le=Z.nodeName,!le||le.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?K&&Jc(K.elementType)&&(Se=qw):Se=Vk;if(Se&&(Se=Se(s,K))){ls(fe,Se,l,ce);break e}Be&&Be(s,Z,K),s==="focusout"&&K&&Z.type==="number"&&K.memoizedProps.value!=null&&Ml(Z,"number",Z.value)}switch(Be=K?ta(K):window,s){case"focusin":(dn(Be)||Be.contentEditable==="true")&&(Gl=Be,n_=K,lh=null);break;case"focusout":lh=n_=Gl=null;break;case"mousedown":r_=!0;break;case"contextmenu":case"mouseup":case"dragend":r_=!1,Jw(fe,l,ce);break;case"selectionchange":if(Bk)break;case"keydown":case"keyup":Jw(fe,l,ce)}var Ce;if(bi)e:{switch(s){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else We?re(s,l)&&(Pe="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Pe="onCompositionStart");Pe&&(S&&l.locale!=="ko"&&(We||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&We&&(Ce=eh()):(yi=ce,oa="value"in yi?yi.value:yi.textContent,We=!0)),Be=Yp(K,Pe),0<Be.length&&(Pe=new rh(Pe,s,null,l,ce),fe.push({event:Pe,listeners:Be}),Ce?Pe.data=Ce:(Ce=ge(l),Ce!==null&&(Pe.data=Ce)))),(Ce=E?hn(s,l):Qe(s,l))&&(Pe=Yp(K,"onBeforeInput"),0<Pe.length&&(Be=new rh("onBeforeInput","beforeinput",null,l,ce),fe.push({event:Be,listeners:Pe}),Be.data=Ce)),b2(fe,s,K,l,ce)}pA(fe,a)})}function Mh(s,a,l){return{instance:s,listener:a,currentTarget:l}}function Yp(s,a){for(var l=a+"Capture",c=[];s!==null;){var m=s,y=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=bo(s,l),m!=null&&c.unshift(Mh(s,m,y)),m=bo(s,a),m!=null&&c.push(Mh(s,m,y))),s=s.return}return c}function pu(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function gA(s,a,l,c,m){for(var y=a._reactName,A=[];l!==null&&l!==c;){var N=l,F=N.alternate,K=N.stateNode;if(N=N.tag,F!==null&&F===c)break;N!==5&&N!==26&&N!==27||K===null||(F=K,m?(K=bo(l,y),K!=null&&A.unshift(Mh(l,K,F))):m||(K=bo(l,y),K!=null&&A.push(Mh(l,K,F)))),l=l.return}A.length!==0&&s.push({event:a,listeners:A})}var A2=/\r\n?/g,I2=/\u0000|\uFFFD/g;function yA(s){return(typeof s=="string"?s:""+s).replace(A2,`
`).replace(I2,"")}function _A(s,a){return a=yA(a),yA(s)===a}function Xp(){}function ct(s,a,l,c,m,y){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||kr(s,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&kr(s,""+c);break;case"className":ia(s,"class",c);break;case"tabIndex":ia(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ia(s,l,c);break;case"style":Zf(s,c,y);break;case"data":if(a!=="object"){ia(s,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=gi(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&ct(s,a,"name",m.name,m,null),ct(s,a,"formEncType",m.formEncType,m,null),ct(s,a,"formMethod",m.formMethod,m,null),ct(s,a,"formTarget",m.formTarget,m,null)):(ct(s,a,"encType",m.encType,m,null),ct(s,a,"method",m.method,m,null),ct(s,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=gi(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=Xp);break;case"onScroll":c!=null&&Ge("scroll",s);break;case"onScrollEnd":c!=null&&Ge("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=gi(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":Ge("beforetoggle",s),Ge("toggle",s),ra(s,"popover",c);break;case"xlinkActuate":Nr(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Nr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Nr(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Nr(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Nr(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Nr(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Nr(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Nr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Nr(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ra(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Qy.get(l)||l,ra(s,l,c))}}function Iv(s,a,l,c,m,y){switch(l){case"style":Zf(s,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof c=="string"?kr(s,c):(typeof c=="number"||typeof c=="bigint")&&kr(s,""+c);break;case"onScroll":c!=null&&Ge("scroll",s);break;case"onScrollEnd":c!=null&&Ge("scrollend",s);break;case"onClick":c!=null&&(s.onclick=Xp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kl.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),y=s[cn]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(a,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,c,m);break e}l in s?s[l]=c:c===!0?s.setAttribute(l,""):ra(s,l,c)}}}function On(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",s),Ge("load",s);var c=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var A=l[y];if(A!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ct(s,a,y,A,l,null)}}m&&ct(s,a,"srcSet",l.srcSet,l,null),c&&ct(s,a,"src",l.src,l,null);return;case"input":Ge("invalid",s);var N=y=A=m=null,F=null,K=null;for(c in l)if(l.hasOwnProperty(c)){var ce=l[c];if(ce!=null)switch(c){case"name":m=ce;break;case"type":A=ce;break;case"checked":F=ce;break;case"defaultChecked":K=ce;break;case"value":y=ce;break;case"defaultValue":N=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,a));break;default:ct(s,a,c,ce,l,null)}}vo(s,y,N,F,K,A,m,!1),_o(s);return;case"select":Ge("invalid",s),c=A=y=null;for(m in l)if(l.hasOwnProperty(m)&&(N=l[m],N!=null))switch(m){case"value":y=N;break;case"defaultValue":A=N;break;case"multiple":c=N;default:ct(s,a,m,N,l,null)}a=y,l=A,s.multiple=!!c,a!=null?Ze(s,!!c,a,!1):l!=null&&Ze(s,!!c,l,!0);return;case"textarea":Ge("invalid",s),y=m=c=null;for(A in l)if(l.hasOwnProperty(A)&&(N=l[A],N!=null))switch(A){case"value":c=N;break;case"defaultValue":m=N;break;case"children":y=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:ct(s,a,A,N,l,null)}aa(s,c,m,y),_o(s);return;case"option":for(F in l)if(l.hasOwnProperty(F)&&(c=l[F],c!=null))switch(F){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ct(s,a,F,c,l,null)}return;case"dialog":Ge("cancel",s),Ge("close",s);break;case"iframe":case"object":Ge("load",s);break;case"video":case"audio":for(c=0;c<Vh.length;c++)Ge(Vh[c],s);break;case"image":Ge("error",s),Ge("load",s);break;case"details":Ge("toggle",s);break;case"embed":case"source":case"link":Ge("error",s),Ge("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in l)if(l.hasOwnProperty(K)&&(c=l[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ct(s,a,K,c,l,null)}return;default:if(Jc(a)){for(ce in l)l.hasOwnProperty(ce)&&(c=l[ce],c!==void 0&&Iv(s,a,ce,c,l,void 0));return}}for(N in l)l.hasOwnProperty(N)&&(c=l[N],c!=null&&ct(s,a,N,c,l,null))}function R2(s,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,A=null,N=null,F=null,K=null,ce=null;for(le in l){var fe=l[le];if(l.hasOwnProperty(le)&&fe!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":F=fe;default:c.hasOwnProperty(le)||ct(s,a,le,null,c,fe)}}for(var Z in c){var le=c[Z];if(fe=l[Z],c.hasOwnProperty(Z)&&(le!=null||fe!=null))switch(Z){case"type":y=le;break;case"name":m=le;break;case"checked":K=le;break;case"defaultChecked":ce=le;break;case"value":A=le;break;case"defaultValue":N=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,a));break;default:le!==fe&&ct(s,a,Z,le,c,fe)}}sa(s,A,N,F,K,ce,y,m);return;case"select":le=A=N=Z=null;for(y in l)if(F=l[y],l.hasOwnProperty(y)&&F!=null)switch(y){case"value":break;case"multiple":le=F;default:c.hasOwnProperty(y)||ct(s,a,y,null,c,F)}for(m in c)if(y=c[m],F=l[m],c.hasOwnProperty(m)&&(y!=null||F!=null))switch(m){case"value":Z=y;break;case"defaultValue":N=y;break;case"multiple":A=y;default:y!==F&&ct(s,a,m,y,c,F)}a=N,l=A,c=le,Z!=null?Ze(s,!!l,Z,!1):!!c!=!!l&&(a!=null?Ze(s,!!l,a,!0):Ze(s,!!l,l?[]:"",!1));return;case"textarea":le=Z=null;for(N in l)if(m=l[N],l.hasOwnProperty(N)&&m!=null&&!c.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:ct(s,a,N,null,c,m)}for(A in c)if(m=c[A],y=l[A],c.hasOwnProperty(A)&&(m!=null||y!=null))switch(A){case"value":Z=m;break;case"defaultValue":le=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&ct(s,a,A,m,c,y)}Eo(s,Z,le);return;case"option":for(var Ie in l)if(Z=l[Ie],l.hasOwnProperty(Ie)&&Z!=null&&!c.hasOwnProperty(Ie))switch(Ie){case"selected":s.selected=!1;break;default:ct(s,a,Ie,null,c,Z)}for(F in c)if(Z=c[F],le=l[F],c.hasOwnProperty(F)&&Z!==le&&(Z!=null||le!=null))switch(F){case"selected":s.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:ct(s,a,F,Z,c,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in l)Z=l[ke],l.hasOwnProperty(ke)&&Z!=null&&!c.hasOwnProperty(ke)&&ct(s,a,ke,null,c,Z);for(K in c)if(Z=c[K],le=l[K],c.hasOwnProperty(K)&&Z!==le&&(Z!=null||le!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,a));break;default:ct(s,a,K,Z,c,le)}return;default:if(Jc(a)){for(var Ft in l)Z=l[Ft],l.hasOwnProperty(Ft)&&Z!==void 0&&!c.hasOwnProperty(Ft)&&Iv(s,a,Ft,void 0,c,Z);for(ce in c)Z=c[ce],le=l[ce],!c.hasOwnProperty(ce)||Z===le||Z===void 0&&le===void 0||Iv(s,a,ce,Z,c,le);return}}for(var Q in l)Z=l[Q],l.hasOwnProperty(Q)&&Z!=null&&!c.hasOwnProperty(Q)&&ct(s,a,Q,null,c,Z);for(fe in c)Z=c[fe],le=l[fe],!c.hasOwnProperty(fe)||Z===le||Z==null&&le==null||ct(s,a,fe,Z,c,le)}var Rv=null,Cv=null;function Jp(s){return s.nodeType===9?s:s.ownerDocument}function vA(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function EA(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function xv(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Pv=null;function C2(){var s=window.event;return s&&s.type==="popstate"?s===Pv?!1:(Pv=s,!0):(Pv=null,!1)}var bA=typeof setTimeout=="function"?setTimeout:void 0,x2=typeof clearTimeout=="function"?clearTimeout:void 0,wA=typeof Promise=="function"?Promise:void 0,P2=typeof queueMicrotask=="function"?queueMicrotask:typeof wA<"u"?function(s){return wA.resolve(null).then(s).catch(O2)}:bA;function O2(s){setTimeout(function(){throw s})}function Ov(s,a){var l=a,c=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(c===0){s.removeChild(m),Hh(a);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=m}while(l);Hh(a)}function Dv(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Dv(l),yo(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function D2(s,a,l,c){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[ea])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=si(s.nextSibling),s===null)break}return null}function N2(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=si(s.nextSibling),s===null))return null;return s}function si(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}function TA(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function SA(s,a,l){switch(a=Jp(l),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}var Kr=new Map,AA=new Set;function Zp(s){return typeof s.getRootNode=="function"?s.getRootNode():s.ownerDocument}var Ts=ye.d;ye.d={f:k2,r:V2,D:M2,C:L2,L:U2,m:B2,X:j2,S:F2,M:z2};function k2(){var s=Ts.f(),a=$p();return s||a}function V2(s){var a=ts(s);a!==null&&a.tag===5&&a.type==="form"?JT(a):Ts.r(s)}var mu=typeof document>"u"?null:document;function IA(s,a,l){var c=mu;if(c&&typeof a=="string"&&a){var m=Lt(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),AA.has(m)||(AA.add(m),s={rel:s,crossOrigin:l,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),On(a,"link",s),xt(a),c.head.appendChild(a)))}}function M2(s){Ts.D(s),IA("dns-prefetch",s,null)}function L2(s,a){Ts.C(s,a),IA("preconnect",s,a)}function U2(s,a,l){Ts.L(s,a,l);var c=mu;if(c&&s&&a){var m='link[rel="preload"][as="'+Lt(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Lt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Lt(l.imageSizes)+'"]')):m+='[href="'+Lt(s)+'"]';var y=m;switch(a){case"style":y=gu(s);break;case"script":y=yu(s)}Kr.has(y)||(s=b({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),Kr.set(y,s),c.querySelector(m)!==null||a==="style"&&c.querySelector(Lh(y))||a==="script"&&c.querySelector(Uh(y))||(a=c.createElement("link"),On(a,"link",s),xt(a),c.head.appendChild(a)))}}function B2(s,a){Ts.m(s,a);var l=mu;if(l&&s){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+Lt(c)+'"][href="'+Lt(s)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=yu(s)}if(!Kr.has(y)&&(s=b({rel:"modulepreload",href:s},a),Kr.set(y,s),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Uh(y)))return}c=l.createElement("link"),On(c,"link",s),xt(c),l.head.appendChild(c)}}}function F2(s,a,l){Ts.S(s,a,l);var c=mu;if(c&&s){var m=na(c).hoistableStyles,y=gu(s);a=a||"default";var A=m.get(y);if(!A){var N={loading:0,preload:null};if(A=c.querySelector(Lh(y)))N.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":a},l),(l=Kr.get(y))&&Nv(s,l);var F=A=c.createElement("link");xt(F),On(F,"link",s),F._p=new Promise(function(K,ce){F.onload=K,F.onerror=ce}),F.addEventListener("load",function(){N.loading|=1}),F.addEventListener("error",function(){N.loading|=2}),N.loading|=4,em(A,a,c)}A={type:"stylesheet",instance:A,count:1,state:N},m.set(y,A)}}}function j2(s,a){Ts.X(s,a);var l=mu;if(l&&s){var c=na(l).hoistableScripts,m=yu(s),y=c.get(m);y||(y=l.querySelector(Uh(m)),y||(s=b({src:s,async:!0},a),(a=Kr.get(m))&&kv(s,a),y=l.createElement("script"),xt(y),On(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function z2(s,a){Ts.M(s,a);var l=mu;if(l&&s){var c=na(l).hoistableScripts,m=yu(s),y=c.get(m);y||(y=l.querySelector(Uh(m)),y||(s=b({src:s,async:!0,type:"module"},a),(a=Kr.get(m))&&kv(s,a),y=l.createElement("script"),xt(y),On(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function RA(s,a,l,c){var m=(m=at.current)?Zp(m):null;if(!m)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=gu(l.href),l=na(m).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=gu(l.href);var y=na(m).hoistableStyles,A=y.get(s);if(A||(m=m.ownerDocument||m,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,A),(y=m.querySelector(Lh(s)))&&!y._p&&(A.instance=y,A.state.loading=5),Kr.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Kr.set(s,l),y||q2(m,s,l,A.state))),a&&c===null)throw Error(r(528,""));return A}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=yu(l),l=na(m).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function gu(s){return'href="'+Lt(s)+'"'}function Lh(s){return'link[rel="stylesheet"]['+s+"]"}function CA(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function q2(s,a,l,c){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=s.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),On(a,"link",l),xt(a),s.head.appendChild(a))}function yu(s){return'[src="'+Lt(s)+'"]'}function Uh(s){return"script[async]"+s}function xA(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=s.querySelector('style[data-href~="'+Lt(l.href)+'"]');if(c)return a.instance=c,xt(c),c;var m=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),xt(c),On(c,"style",m),em(c,l.precedence,s),a.instance=c;case"stylesheet":m=gu(l.href);var y=s.querySelector(Lh(m));if(y)return a.state.loading|=4,a.instance=y,xt(y),y;c=CA(l),(m=Kr.get(m))&&Nv(c,m),y=(s.ownerDocument||s).createElement("link"),xt(y);var A=y;return A._p=new Promise(function(N,F){A.onload=N,A.onerror=F}),On(y,"link",c),a.state.loading|=4,em(y,l.precedence,s),a.instance=y;case"script":return y=yu(l.src),(m=s.querySelector(Uh(y)))?(a.instance=m,xt(m),m):(c=l,(m=Kr.get(y))&&(c=b({},l),kv(c,m)),s=s.ownerDocument||s,m=s.createElement("script"),xt(m),On(m,"link",c),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&!(a.state.loading&4)&&(c=a.instance,a.state.loading|=4,em(c,l.precedence,s));return a.instance}function em(s,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,A=0;A<c.length;A++){var N=c[A];if(N.dataset.precedence===a)y=N;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function Nv(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function kv(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var tm=null;function PA(s,a,l){if(tm===null){var c=new Map,m=tm=new Map;m.set(l,c)}else m=tm,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var y=l[m];if(!(y[ea]||y[_n]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var A=y.getAttribute(a)||"";A=s+A;var N=c.get(A);N?N.push(y):c.set(A,[y])}}return c}function OA(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function H2(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function DA(s){return!(s.type==="stylesheet"&&!(s.state.loading&3))}var Bh=null;function $2(){}function G2(s,a,l){if(Bh===null)throw Error(r(475));var c=Bh;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var m=gu(l.href),y=s.querySelector(Lh(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=nm.bind(c),s.then(c,c)),a.state.loading|=4,a.instance=y,xt(y);return}y=s.ownerDocument||s,l=CA(l),(m=Kr.get(m))&&Nv(l,m),y=y.createElement("link"),xt(y);var A=y;A._p=new Promise(function(N,F){A.onload=N,A.onerror=F}),On(y,"link",l),a.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,s),(s=a.state.preload)&&!(a.state.loading&3)&&(c.count++,a=nm.bind(c),s.addEventListener("load",a),s.addEventListener("error",a))}}function K2(){if(Bh===null)throw Error(r(475));var s=Bh;return s.stylesheets&&s.count===0&&Vv(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&Vv(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function nm(){if(this.count--,this.count===0){if(this.stylesheets)Vv(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var rm=null;function Vv(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,rm=new Map,a.forEach(W2,s),rm=null,nm.call(s))}function W2(s,a){if(!(a.state.loading&4)){var l=rm.get(s);if(l)var c=l.get(null);else{l=new Map,rm.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var A=m[y];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),c=A)}c&&l.set(null,c)}m=a.instance,A=m.getAttribute("data-precedence"),y=l.get(A)||c,y===c&&l.set(null,m),l.set(A,m),this.count++,c=nm.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var Fh={$$typeof:T,Provider:null,Consumer:null,_currentValue:Oe,_currentValue2:Oe,_threadCount:0};function Q2(s,a,l,c,m,y,A,N){this.tag=1,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dl(0),this.hiddenUpdates=Dl(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function NA(s,a,l,c,m,y,A,N,F,K,ce,fe){return s=new Q2(s,a,l,A,N,F,K,fe),a=1,y===!0&&(a|=24),y=$r(3,null,null,a),s.current=y,y.stateNode=s,a=f_(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:a},K_(y),s}function kA(s){return s?(s=Ql,s):Ql}function VA(s,a,l,c,m,y){m=kA(m),c.context===null?c.context=m:c.pendingContext=m,c=ma(a),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=ga(s,c,a),l!==null&&(Xn(l,s,a),Th(l,s,a))}function MA(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function Mv(s,a){MA(s,a),(s=s.alternate)&&MA(s,a)}function LA(s){if(s.tag===13){var a=la(s,67108864);a!==null&&Xn(a,s,67108864),Mv(s,67108864)}}var im=!0;function Y2(s,a,l,c){var m=R.T;R.T=null;var y=ye.p;try{ye.p=2,Lv(s,a,l,c)}finally{ye.p=y,R.T=m}}function X2(s,a,l,c){var m=R.T;R.T=null;var y=ye.p;try{ye.p=8,Lv(s,a,l,c)}finally{ye.p=y,R.T=m}}function Lv(s,a,l,c){if(im){var m=Uv(c);if(m===null)Av(s,a,c,sm,l),BA(s,c);else if(Z2(m,s,a,l,c))c.stopPropagation();else if(BA(s,c),a&4&&-1<J2.indexOf(s)){for(;m!==null;){var y=ts(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var A=ei(y.pendingLanes);if(A!==0){var N=y;for(N.pendingLanes|=2,N.entangledLanes|=2;A;){var F=1<<31-Kn(A);N.entanglements[1]|=F,A&=~F}Ri(y),!(Ot&6)&&(zp=ir()+500,kh(0))}}break;case 13:N=la(y,2),N!==null&&Xn(N,y,2),$p(),Mv(y,2)}if(y=Uv(c),y===null&&Av(s,a,c,sm,l),y===m)break;m=y}m!==null&&c.stopPropagation()}else Av(s,a,c,null,l)}}function Uv(s){return s=Ll(s),Bv(s)}var sm=null;function Bv(s){if(sm=null,s=ti(s),s!==null){var a=ue(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=Te(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return sm=s,null}function UA(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hf()){case un:return 2;case yn:return 8;case Zi:case $f:return 32;case zc:return 268435456;default:return 32}default:return 32}}var Fv=!1,Ta=null,Sa=null,Aa=null,jh=new Map,zh=new Map,Ia=[],J2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function BA(s,a){switch(s){case"focusin":case"focusout":Ta=null;break;case"dragenter":case"dragleave":Sa=null;break;case"mouseover":case"mouseout":Aa=null;break;case"pointerover":case"pointerout":jh.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":zh.delete(a.pointerId)}}function qh(s,a,l,c,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},a!==null&&(a=ts(a),a!==null&&LA(a)),s):(s.eventSystemFlags|=c,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function Z2(s,a,l,c,m){switch(a){case"focusin":return Ta=qh(Ta,s,a,l,c,m),!0;case"dragenter":return Sa=qh(Sa,s,a,l,c,m),!0;case"mouseover":return Aa=qh(Aa,s,a,l,c,m),!0;case"pointerover":var y=m.pointerId;return jh.set(y,qh(jh.get(y)||null,s,a,l,c,m)),!0;case"gotpointercapture":return y=m.pointerId,zh.set(y,qh(zh.get(y)||null,s,a,l,c,m)),!0}return!1}function FA(s){var a=ti(s.target);if(a!==null){var l=ue(a);if(l!==null){if(a=l.tag,a===13){if(a=Te(l),a!==null){s.blockedOn=a,Zs(s.priority,function(){if(l.tag===13){var c=Er(),m=la(l,c);m!==null&&Xn(m,l,c),Mv(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function am(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=Uv(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);Vr=c,l.target.dispatchEvent(c),Vr=null}else return a=ts(l),a!==null&&LA(a),s.blockedOn=l,!1;a.shift()}return!0}function jA(s,a,l){am(s)&&l.delete(a)}function eV(){Fv=!1,Ta!==null&&am(Ta)&&(Ta=null),Sa!==null&&am(Sa)&&(Sa=null),Aa!==null&&am(Aa)&&(Aa=null),jh.forEach(jA),zh.forEach(jA)}function om(s,a){s.blockedOn===a&&(s.blockedOn=null,Fv||(Fv=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,eV)))}var lm=null;function zA(s){lm!==s&&(lm=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){lm===s&&(lm=null);for(var a=0;a<s.length;a+=3){var l=s[a],c=s[a+1],m=s[a+2];if(typeof c!="function"){if(Bv(c||l)===null)continue;break}var y=ts(l);y!==null&&(s.splice(a,3),a-=3,x_(y,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function Hh(s){function a(F){return om(F,s)}Ta!==null&&om(Ta,s),Sa!==null&&om(Sa,s),Aa!==null&&om(Aa,s),jh.forEach(a),zh.forEach(a);for(var l=0;l<Ia.length;l++){var c=Ia[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<Ia.length&&(l=Ia[0],l.blockedOn===null);)FA(l),l.blockedOn===null&&Ia.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],y=l[c+1],A=m[cn]||null;if(typeof y=="function")A||zA(l);else if(A){var N=null;if(y&&y.hasAttribute("formAction")){if(m=y,A=y[cn]||null)N=A.formAction;else if(Bv(m)!==null)continue}else N=A.action;typeof N=="function"?l[c+1]=N:(l.splice(c,3),c-=3),zA(l)}}}function jv(s){this._internalRoot=s}um.prototype.render=jv.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=Er();VA(l,c,s,a,null,null)},um.prototype.unmount=jv.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;s.tag===0&&du(),VA(s.current,2,null,s,null,null),$p(),a[es]=null}};function um(s){this._internalRoot=s}um.prototype.unstable_scheduleHydration=function(s){if(s){var a=Yf();s={blockedOn:null,target:s,priority:a};for(var l=0;l<Ia.length&&a!==0&&a<Ia[l].priority;l++);Ia.splice(l,0,s),l===0&&FA(s)}};var qA=e.version;if(qA!=="19.0.0")throw Error(r(527,qA,"19.0.0"));ye.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=ae(a),s=s!==null?be(s):null,s=s===null?null:s.stateNode,s};var tV={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:ti,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cm.isDisabled&&cm.supportsFiber)try{Ks=cm.inject(tV),Un=cm}catch{}}return Gh.createRoot=function(s,a){if(!i(s))throw Error(r(299));var l=!1,c="",m=aS,y=oS,A=lS,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks)),a=NA(s,1,!1,null,null,l,c,m,y,A,N,null),s[es]=a.current,Sv(s.nodeType===8?s.parentNode:s),new jv(a)},Gh.hydrateRoot=function(s,a,l){if(!i(s))throw Error(r(299));var c=!1,m="",y=aS,A=oS,N=lS,F=null,K=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(N=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(F=l.unstable_transitionCallbacks),l.formState!==void 0&&(K=l.formState)),a=NA(s,1,!0,a,l??null,c,m,y,A,N,F,K),a.context=kA(null),l=a.current,c=Er(),m=ma(c),m.callback=null,ga(l,m,c),a.current.lanes=c,Gt(a,c),Ri(a),s[es]=a.current,Sv(s),new um(a)},Gh.version="19.0.0",Gh}var ZA;function dV(){if(ZA)return Hv.exports;ZA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Hv.exports=hV(),Hv.exports}var fV=dV(),Kh={},eI;function pV(){if(eI)return Kh;eI=1,Object.defineProperty(Kh,"__esModule",{value:!0}),Kh.parse=u,Kh.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function u(v,T){const w=new o,I=v.length;if(I<2)return w;const x=(T==null?void 0:T.decode)||g;let L=0;do{const M=v.indexOf("=",L);if(M===-1)break;const U=v.indexOf(";",L),$=U===-1?I:U;if(M>$){L=v.lastIndexOf(";",M-1)+1;continue}const j=h(v,L,M),H=d(v,M,j),V=v.slice(j,H);if(w[V]===void 0){let C=h(v,M+1,$),R=d(v,$,C);const b=x(v.slice(C,R));w[V]=b}L=$+1}while(L<I);return w}function h(v,T,w){do{const I=v.charCodeAt(T);if(I!==32&&I!==9)return T}while(++T<w);return w}function d(v,T,w){for(;T>w;){const I=v.charCodeAt(--T);if(I!==32&&I!==9)return T+1}return w}function f(v,T,w){const I=(w==null?void 0:w.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const x=I(T);if(!e.test(x))throw new TypeError(`argument val is invalid: ${T}`);let L=v+"="+x;if(!w)return L;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);L+="; Max-Age="+w.maxAge}if(w.domain){if(!t.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);L+="; Domain="+w.domain}if(w.path){if(!r.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);L+="; Path="+w.path}if(w.expires){if(!_(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);L+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(L+="; HttpOnly"),w.secure&&(L+="; Secure"),w.partitioned&&(L+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return L}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function _(v){return i.call(v)==="[object Date]"}return Kh}pV();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var tI="popstate";function mV(n={}){function e(r,i){let{pathname:o,search:u,hash:h}=r.location;return P0("",{pathname:o,search:u,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Bd(i)}return yV(e,t,null,n)}function Nt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function $i(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gV(){return Math.random().toString(36).substring(2,10)}function nI(n,e){return{usr:n.state,key:n.key,idx:e}}function P0(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ec(e):e,state:t,key:e&&e.key||r||gV()}}function Bd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ec(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function yV(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,u=i.history,h="POP",d=null,f=g();f==null&&(f=0,u.replaceState({...u.state,idx:f},""));function g(){return(u.state||{idx:null}).idx}function _(){h="POP";let x=g(),L=x==null?null:x-f;f=x,d&&d({action:h,location:I.location,delta:L})}function v(x,L){h="PUSH";let M=P0(I.location,x,L);f=g()+1;let U=nI(M,f),$=I.createHref(M);try{u.pushState(U,"",$)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign($)}o&&d&&d({action:h,location:I.location,delta:1})}function T(x,L){h="REPLACE";let M=P0(I.location,x,L);f=g();let U=nI(M,f),$=I.createHref(M);u.replaceState(U,"",$),o&&d&&d({action:h,location:I.location,delta:0})}function w(x){let L=i.location.origin!=="null"?i.location.origin:i.location.href,M=typeof x=="string"?x:Bd(x);return M=M.replace(/ $/,"%20"),Nt(L,`No window.location.(origin|href) available to create URL for href: ${M}`),new URL(M,L)}let I={get action(){return h},get location(){return n(i,u)},listen(x){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(tI,_),d=x,()=>{i.removeEventListener(tI,_),d=null}},createHref(x){return e(i,x)},createURL:w,encodeLocation(x){let L=w(x);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:v,replace:T,go(x){return u.go(x)}};return I}function PC(n,e,t="/"){return _V(n,e,t,!1)}function _V(n,e,t,r){let i=typeof e=="string"?Ec(e):e,o=qa(i.pathname||"/",t);if(o==null)return null;let u=OC(n);vV(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let f=PV(o);h=CV(u[d],f,r)}return h}function OC(n,e=[],t=[],r=""){let i=(o,u,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};d.relativePath.startsWith("/")&&(Nt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let f=Ds([r,d.relativePath]),g=t.concat(d);o.children&&o.children.length>0&&(Nt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),OC(o.children,e,g,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:IV(f,o.index),routesMeta:g})};return n.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))i(o,u);else for(let d of DC(o.path))i(o,u,d)}),e}function DC(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let u=DC(r.join("/")),h=[];return h.push(...u.map(d=>d===""?o:[o,d].join("/"))),i&&h.push(...u),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function vV(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:RV(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var EV=/^:[\w-]+$/,bV=3,wV=2,TV=1,SV=10,AV=-2,rI=n=>n==="*";function IV(n,e){let t=n.split("/"),r=t.length;return t.some(rI)&&(r+=AV),e&&(r+=wV),t.filter(i=>!rI(i)).reduce((i,o)=>i+(EV.test(o)?bV:o===""?TV:SV),r)}function RV(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function CV(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],f=h===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",_=Zm({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},g),v=d.route;if(!_&&f&&t&&!r[r.length-1].route.index&&(_=Zm({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),u.push({params:i,pathname:Ds([o,_.pathname]),pathnameBase:kV(Ds([o,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(o=Ds([o,_.pathnameBase]))}return u}function Zm(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=xV(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],u=o.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((f,{paramName:g,isOptional:_},v)=>{if(g==="*"){let w=h[v]||"";u=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const T=h[v];return _&&!T?f[g]=void 0:f[g]=(T||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:u,pattern:n}}function xV(n,e=!1,t=!0){$i(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function PV(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $i(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function qa(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function OV(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Ec(n):n;return{pathname:t?t.startsWith("/")?t:DV(t,e):e,search:VV(r),hash:MV(i)}}function DV(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Wv(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NV(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function NC(n){let e=NV(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function kC(n,e,t,r=!1){let i;typeof n=="string"?i=Ec(n):(i={...n},Nt(!i.pathname||!i.pathname.includes("?"),Wv("?","pathname","search",i)),Nt(!i.pathname||!i.pathname.includes("#"),Wv("#","pathname","hash",i)),Nt(!i.search||!i.search.includes("#"),Wv("#","search","hash",i)));let o=n===""||i.pathname==="",u=o?"/":i.pathname,h;if(u==null)h=t;else{let _=e.length-1;if(!r&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),_-=1;i.pathname=v.join("/")}h=_>=0?e[_]:"/"}let d=OV(i,h),f=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||g)&&(d.pathname+="/"),d}var Ds=n=>n.join("/").replace(/\/\/+/g,"/"),kV=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),VV=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,MV=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function LV(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var VC=["POST","PUT","PATCH","DELETE"];new Set(VC);var UV=["GET",...VC];new Set(UV);var bc=W.createContext(null);bc.displayName="DataRouter";var Vg=W.createContext(null);Vg.displayName="DataRouterState";var MC=W.createContext({isTransitioning:!1});MC.displayName="ViewTransition";var BV=W.createContext(new Map);BV.displayName="Fetchers";var FV=W.createContext(null);FV.displayName="Await";var Xi=W.createContext(null);Xi.displayName="Navigation";var pf=W.createContext(null);pf.displayName="Location";var Ji=W.createContext({outlet:null,matches:[],isDataRoute:!1});Ji.displayName="Route";var LE=W.createContext(null);LE.displayName="RouteError";function jV(n,{relative:e}={}){Nt(mf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=W.useContext(Xi),{hash:i,pathname:o,search:u}=gf(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Ds([t,o])),r.createHref({pathname:h,search:u,hash:i})}function mf(){return W.useContext(pf)!=null}function ao(){return Nt(mf(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(pf).location}var LC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function UC(n){W.useContext(Xi).static||W.useLayoutEffect(n)}function Mg(){let{isDataRoute:n}=W.useContext(Ji);return n?eM():zV()}function zV(){Nt(mf(),"useNavigate() may be used only in the context of a <Router> component.");let n=W.useContext(bc),{basename:e,navigator:t}=W.useContext(Xi),{matches:r}=W.useContext(Ji),{pathname:i}=ao(),o=JSON.stringify(NC(r)),u=W.useRef(!1);return UC(()=>{u.current=!0}),W.useCallback((d,f={})=>{if($i(u.current,LC),!u.current)return;if(typeof d=="number"){t.go(d);return}let g=kC(d,JSON.parse(o),i,f.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ds([e,g.pathname])),(f.replace?t.replace:t.push)(g,f.state,f)},[e,t,o,i,n])}W.createContext(null);function BC(){let{matches:n}=W.useContext(Ji),e=n[n.length-1];return e?e.params:{}}function gf(n,{relative:e}={}){let{matches:t}=W.useContext(Ji),{pathname:r}=ao(),i=JSON.stringify(NC(t));return W.useMemo(()=>kC(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function qV(n,e){return FC(n,e)}function FC(n,e,t,r){var M;Nt(mf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=W.useContext(Xi),{matches:u}=W.useContext(Ji),h=u[u.length-1],d=h?h.params:{},f=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let U=_&&_.path||"";jC(f,!_||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let v=ao(),T;if(e){let U=typeof e=="string"?Ec(e):e;Nt(g==="/"||((M=U.pathname)==null?void 0:M.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${U.pathname}" was given in the \`location\` prop.`),T=U}else T=v;let w=T.pathname||"/",I=w;if(g!=="/"){let U=g.replace(/^\//,"").split("/");I="/"+w.replace(/^\//,"").split("/").slice(U.length).join("/")}let x=!o&&t&&t.matches&&t.matches.length>0?t.matches:PC(n,{pathname:I});$i(_||x!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),$i(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=WV(x&&x.map(U=>Object.assign({},U,{params:Object.assign({},d,U.params),pathname:Ds([g,i.encodeLocation?i.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?g:Ds([g,i.encodeLocation?i.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),u,t,r);return e&&L?W.createElement(pf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},L):L}function HV(){let n=ZV(),e=LV(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:o},"ErrorBoundary")," or"," ",W.createElement("code",{style:o},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:i},t):null,u)}var $V=W.createElement(HV,null),GV=class extends W.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?W.createElement(Ji.Provider,{value:this.props.routeContext},W.createElement(LE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function KV({routeContext:n,match:e,children:t}){let r=W.useContext(bc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(Ji.Provider,{value:n},t)}function WV(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let d=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Nt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let u=!1,h=-1;if(t)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(h=d),f.route.id){let{loaderData:g,errors:_}=t,v=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!_||_[f.route.id]===void 0);if(f.route.lazy||v){u=!0,h>=0?i=i.slice(0,h+1):i=[i[0]];break}}}return i.reduceRight((d,f,g)=>{let _,v=!1,T=null,w=null;t&&(_=o&&f.route.id?o[f.route.id]:void 0,T=f.route.errorElement||$V,u&&(h<0&&g===0?(jC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):h===g&&(v=!0,w=f.route.hydrateFallbackElement||null)));let I=e.concat(i.slice(0,g+1)),x=()=>{let L;return _?L=T:v?L=w:f.route.Component?L=W.createElement(f.route.Component,null):f.route.element?L=f.route.element:L=d,W.createElement(KV,{match:f,routeContext:{outlet:d,matches:I,isDataRoute:t!=null},children:L})};return t&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?W.createElement(GV,{location:t.location,revalidation:t.revalidation,component:T,error:_,children:x(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):x()},null)}function UE(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QV(n){let e=W.useContext(bc);return Nt(e,UE(n)),e}function YV(n){let e=W.useContext(Vg);return Nt(e,UE(n)),e}function XV(n){let e=W.useContext(Ji);return Nt(e,UE(n)),e}function BE(n){let e=XV(n),t=e.matches[e.matches.length-1];return Nt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function JV(){return BE("useRouteId")}function ZV(){var r;let n=W.useContext(LE),e=YV("useRouteError"),t=BE("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function eM(){let{router:n}=QV("useNavigate"),e=BE("useNavigate"),t=W.useRef(!1);return UC(()=>{t.current=!0}),W.useCallback(async(i,o={})=>{$i(t.current,LC),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var iI={};function jC(n,e,t){!e&&!iI[n]&&(iI[n]=!0,$i(!1,t))}W.memo(tM);function tM({routes:n,future:e,state:t}){return FC(n,void 0,t,e)}function Na(n){Nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nM({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){Nt(!mf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=W.useMemo(()=>({basename:u,navigator:i,static:o,future:{}}),[u,i,o]);typeof t=="string"&&(t=Ec(t));let{pathname:d="/",search:f="",hash:g="",state:_=null,key:v="default"}=t,T=W.useMemo(()=>{let w=qa(d,u);return w==null?null:{location:{pathname:w,search:f,hash:g,state:_,key:v},navigationType:r}},[u,d,f,g,_,v,r]);return $i(T!=null,`<Router basename="${u}"> is not able to match the URL "${d}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:W.createElement(Xi.Provider,{value:h},W.createElement(pf.Provider,{children:e,value:T}))}function rM({children:n,location:e}){return qV(O0(n),e)}function O0(n,e=[]){let t=[];return W.Children.forEach(n,(r,i)=>{if(!W.isValidElement(r))return;let o=[...e,i];if(r.type===W.Fragment){t.push.apply(t,O0(r.props.children,o));return}Nt(r.type===Na,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=O0(r.props.children,o)),t.push(u)}),t}var Cm="get",xm="application/x-www-form-urlencoded";function Lg(n){return n!=null&&typeof n.tagName=="string"}function iM(n){return Lg(n)&&n.tagName.toLowerCase()==="button"}function sM(n){return Lg(n)&&n.tagName.toLowerCase()==="form"}function aM(n){return Lg(n)&&n.tagName.toLowerCase()==="input"}function oM(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function lM(n,e){return n.button===0&&(!e||e==="_self")&&!oM(n)}var hm=null;function uM(){if(hm===null)try{new FormData(document.createElement("form"),0),hm=!1}catch{hm=!0}return hm}var cM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qv(n){return n!=null&&!cM.has(n)?($i(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xm}"`),null):n}function hM(n,e){let t,r,i,o,u;if(sM(n)){let h=n.getAttribute("action");r=h?qa(h,e):null,t=n.getAttribute("method")||Cm,i=Qv(n.getAttribute("enctype"))||xm,o=new FormData(n)}else if(iM(n)||aM(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(r=d?qa(d,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Cm,i=Qv(n.getAttribute("formenctype"))||Qv(h.getAttribute("enctype"))||xm,o=new FormData(h,n),!uM()){let{name:f,type:g,value:_}=n;if(g==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,_)}}else{if(Lg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Cm,r=null,i=xm,u=n}return o&&i==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:u}}function FE(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function dM(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fM(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function pM(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let u=await dM(o,t);return u.links?u.links():[]}return[]}));return _M(r.flat(1).filter(fM).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function sI(n,e,t,r,i,o){let u=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,h=(d,f)=>{var g;return t[f].pathname!==d.pathname||((g=t[f].route.path)==null?void 0:g.endsWith("*"))&&t[f].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,f)=>u(d,f)||h(d,f)):o==="data"?e.filter((d,f)=>{var _;let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(u(d,f)||h(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function mM(n,e,{includeHydrateFallback:t}={}){return gM(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function gM(n){return[...new Set(n)]}function yM(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function _M(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(yM(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function vM(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function EM(){let n=W.useContext(bc);return FE(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function bM(){let n=W.useContext(Vg);return FE(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var jE=W.createContext(void 0);jE.displayName="FrameworkContext";function zC(){let n=W.useContext(jE);return FE(n,"You must render this element inside a <HydratedRouter> element"),n}function wM(n,e){let t=W.useContext(jE),[r,i]=W.useState(!1),[o,u]=W.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:f,onMouseLeave:g,onTouchStart:_}=e,v=W.useRef(null);W.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let I=L=>{L.forEach(M=>{u(M.isIntersecting)})},x=new IntersectionObserver(I,{threshold:.5});return v.current&&x.observe(v.current),()=>{x.disconnect()}}},[n]),W.useEffect(()=>{if(r){let I=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(I)}}},[r]);let T=()=>{i(!0)},w=()=>{i(!1),u(!1)};return t?n!=="intent"?[o,v,{}]:[o,v,{onFocus:Wh(h,T),onBlur:Wh(d,w),onMouseEnter:Wh(f,T),onMouseLeave:Wh(g,w),onTouchStart:Wh(_,T)}]:[!1,v,{}]}function Wh(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function TM({page:n,...e}){let{router:t}=EM(),r=W.useMemo(()=>PC(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?W.createElement(AM,{page:n,matches:r,...e}):null}function SM(n){let{manifest:e,routeModules:t}=zC(),[r,i]=W.useState([]);return W.useEffect(()=>{let o=!1;return pM(n,e,t).then(u=>{o||i(u)}),()=>{o=!0}},[n,e,t]),r}function AM({page:n,matches:e,...t}){let r=ao(),{manifest:i,routeModules:o}=zC(),{loaderData:u,matches:h}=bM(),d=W.useMemo(()=>sI(n,e,h,i,r,"data"),[n,e,h,i,r]),f=W.useMemo(()=>sI(n,e,h,i,r,"assets"),[n,e,h,i,r]),g=W.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let T=new Set,w=!1;if(e.forEach(x=>{var M;let L=i.routes[x.route.id];!L||!L.hasLoader||(!d.some(U=>U.route.id===x.route.id)&&x.route.id in u&&((M=o[x.route.id])!=null&&M.shouldRevalidate)||L.hasClientLoader?w=!0:T.add(x.route.id))}),T.size===0)return[];let I=vM(n);return w&&T.size>0&&I.searchParams.set("_routes",e.filter(x=>T.has(x.route.id)).map(x=>x.route.id).join(",")),[I.pathname+I.search]},[u,r,i,d,e,n,o]),_=W.useMemo(()=>mM(f,i),[f,i]),v=SM(f);return W.createElement(W.Fragment,null,g.map(T=>W.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),_.map(T=>W.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),v.map(({key:T,link:w})=>W.createElement("link",{key:T,...w})))}function IM(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var qC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qC&&(window.__reactRouterVersion="7.2.0")}catch{}function RM({basename:n,children:e,window:t}){let r=W.useRef();r.current==null&&(r.current=mV({window:t,v5Compat:!0}));let i=r.current,[o,u]=W.useState({action:i.action,location:i.location}),h=W.useCallback(d=>{W.startTransition(()=>u(d))},[u]);return W.useLayoutEffect(()=>i.listen(h),[i,h]),W.createElement(nM,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var HC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,li=W.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:u,state:h,target:d,to:f,preventScrollReset:g,viewTransition:_,...v},T){let{basename:w}=W.useContext(Xi),I=typeof f=="string"&&HC.test(f),x,L=!1;if(typeof f=="string"&&I&&(x=f,qC))try{let R=new URL(window.location.href),b=f.startsWith("//")?new URL(R.protocol+f):new URL(f),P=qa(b.pathname,w);b.origin===R.origin&&P!=null?f=P+b.search+b.hash:L=!0}catch{$i(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=jV(f,{relative:i}),[U,$,j]=wM(r,v),H=OM(f,{replace:u,state:h,target:d,preventScrollReset:g,relative:i,viewTransition:_});function V(R){e&&e(R),R.defaultPrevented||H(R)}let C=W.createElement("a",{...v,...j,href:x||M,onClick:L||o?e:V,ref:IM(T,$),target:d,"data-discover":!I&&t==="render"?"true":void 0});return U&&!I?W.createElement(W.Fragment,null,C,W.createElement(TM,{page:M})):C});li.displayName="Link";var CM=W.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:u,viewTransition:h,children:d,...f},g){let _=gf(u,{relative:f.relative}),v=ao(),T=W.useContext(Vg),{navigator:w,basename:I}=W.useContext(Xi),x=T!=null&&MM(_)&&h===!0,L=w.encodeLocation?w.encodeLocation(_).pathname:_.pathname,M=v.pathname,U=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(M=M.toLowerCase(),U=U?U.toLowerCase():null,L=L.toLowerCase()),U&&I&&(U=qa(U,I)||U);const $=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let j=M===L||!i&&M.startsWith(L)&&M.charAt($)==="/",H=U!=null&&(U===L||!i&&U.startsWith(L)&&U.charAt(L.length)==="/"),V={isActive:j,isPending:H,isTransitioning:x},C=j?e:void 0,R;typeof r=="function"?R=r(V):R=[r,j?"active":null,H?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let b=typeof o=="function"?o(V):o;return W.createElement(li,{...f,"aria-current":C,className:R,ref:g,style:b,to:u,viewTransition:h},typeof d=="function"?d(V):d)});CM.displayName="NavLink";var xM=W.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:u=Cm,action:h,onSubmit:d,relative:f,preventScrollReset:g,viewTransition:_,...v},T)=>{let w=kM(),I=VM(h,{relative:f}),x=u.toLowerCase()==="get"?"get":"post",L=typeof h=="string"&&HC.test(h),M=U=>{if(d&&d(U),U.defaultPrevented)return;U.preventDefault();let $=U.nativeEvent.submitter,j=($==null?void 0:$.getAttribute("formmethod"))||u;w($||U.currentTarget,{fetcherKey:e,method:j,navigate:t,replace:i,state:o,relative:f,preventScrollReset:g,viewTransition:_})};return W.createElement("form",{ref:T,method:x,action:I,onSubmit:r?d:M,...v,"data-discover":!L&&n==="render"?"true":void 0})});xM.displayName="Form";function PM(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $C(n){let e=W.useContext(bc);return Nt(e,PM(n)),e}function OM(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:u}={}){let h=Mg(),d=ao(),f=gf(n,{relative:o});return W.useCallback(g=>{if(lM(g,e)){g.preventDefault();let _=t!==void 0?t:Bd(d)===Bd(f);h(n,{replace:_,state:r,preventScrollReset:i,relative:o,viewTransition:u})}},[d,h,f,t,r,e,n,i,o,u])}var DM=0,NM=()=>`__${String(++DM)}__`;function kM(){let{router:n}=$C("useSubmit"),{basename:e}=W.useContext(Xi),t=JV();return W.useCallback(async(r,i={})=>{let{action:o,method:u,encType:h,formData:d,body:f}=hM(r,e);if(i.navigate===!1){let g=i.fetcherKey||NM();await n.fetch(g,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||u,formEncType:i.encType||h,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||u,formEncType:i.encType||h,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function VM(n,{relative:e}={}){let{basename:t}=W.useContext(Xi),r=W.useContext(Ji);Nt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...gf(n||".",{relative:e})},u=ao();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(_=>_).forEach(_=>h.append("index",_));let g=h.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Ds([t,o.pathname])),Bd(o)}function MM(n,e={}){let t=W.useContext(MC);Nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=$C("useViewTransitionState"),i=gf(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=qa(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=qa(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Zm(i.pathname,u)!=null||Zm(i.pathname,o)!=null}new TextEncoder;const LM="_fixed_1ff7j_1",UM="_header_container_1ff7j_11",BM="_logo_container_1ff7j_27",FM="_delivery_1ff7j_51",jM="_search_1ff7j_73",zM="_order_container_1ff7j_145",qM="_language_1ff7j_173",HM="_cart_1ff7j_199",$M="_lower_container_1ff7j_229",Is={fixed:LM,header_container:UM,logo_container:BM,delivery:FM,search:jM,order_container:zM,language:qM,cart:HM,lower_container:$M};var GC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},aI=Ke.createContext&&Ke.createContext(GC),GM=["attr","size","title"];function KM(n,e){if(n==null)return{};var t=WM(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function WM(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function eg(){return eg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},eg.apply(this,arguments)}function oI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function tg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oI(Object(t),!0).forEach(function(r){QM(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):oI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function QM(n,e,t){return e=YM(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function YM(n){var e=XM(n,"string");return typeof e=="symbol"?e:e+""}function XM(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function KC(n){return n&&n.map((e,t)=>Ke.createElement(e.tag,tg({key:t},e.attr),KC(e.child)))}function wc(n){return e=>Ke.createElement(JM,eg({attr:tg({},n.attr)},e),KC(n.child))}function JM(n){var e=t=>{var{attr:r,size:i,title:o}=n,u=KM(n,GM),h=i||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),Ke.createElement("svg",eg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:d,style:tg(tg({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Ke.createElement("title",null,o),n.children)};return aI!==void 0?Ke.createElement(aI.Consumer,null,t=>e(t)):e(GC)}function ZM(n){return wc({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"},child:[]}]})(n)}function eL(n){return wc({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M515.664-.368C305.76-.368 128 178.4 128 390.176c0 221.76 206.032 448.544 344.624 607.936.528.64 22.929 25.52 50.528 25.52h2.449c27.6 0 49.84-24.88 50.399-25.52 130.064-149.52 320-396.048 320-607.936C896 178.4 757.344-.368 515.664-.368zm12.832 955.552c-1.12 1.12-2.753 2.369-4.193 3.409-1.472-1.008-3.072-2.288-4.255-3.408l-16.737-19.248C371.92 785.2 192 578.785 192 390.176c0-177.008 148.224-326.56 323.664-326.56 218.528 0 316.336 164 316.336 326.56 0 143.184-102.128 333.296-303.504 565.008zm-15.377-761.776c-106.032 0-192 85.968-192 192s85.968 192 192 192 192-85.968 192-192-85.968-192-192-192zm0 320c-70.576 0-129.473-58.816-129.473-129.408 0-70.576 57.424-128 128-128 70.624 0 128 57.424 128 128 .032 70.592-55.903 129.408-126.527 129.408z"},child:[]}]})(n)}function tL(n){return wc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(n)}function nL(n){return wc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(n)}function rL(n){return wc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M64 384h384v-42.666H64V384zm0-106.666h384v-42.667H64v42.667zM64 128v42.665h384V128H64z"},child:[]}]})(n)}const iL=()=>q.jsx("div",{className:Is.lower_container,children:q.jsxs("ul",{children:[q.jsxs("li",{children:[q.jsx(rL,{}),q.jsx("p",{children:"All"})]}),q.jsx("li",{children:"Today's Deals"}),q.jsx("li",{children:"Customer Service"}),q.jsx("li",{children:"Registry"}),q.jsx("li",{children:"Gift Cards"}),q.jsx("li",{children:"Sell"})]})});function sL(n){return wc({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(n)}const Ui={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",SET_USER:"SET_USER",EMPTY_BASKET:"EMPTY_BASKET"},aL={basket:[],user:null},oL=(n,e)=>{switch(e.type){case Ui.ADD_TO_BASKET:if(n.basket.find(o=>o.id===e.item.id)){const o=n.basket.map(u=>u.id===e.item.id?{...u,amount:u.amount+1}:u);return{...n,basket:o}}else return{...n,basket:[...n.basket,{...e.item,amount:1}]};case Ui.REMOVE_FROM_BASKET:const r=n.basket.findIndex(o=>o.id===e.id);let i=[...n.basket];return r>=0&&(i[r].amount>1?i[r]={...i[r],amount:i[r].amount-1}:i.splice(r,1)),{...n,basket:i};case Ui.EMPTY_BASKET:return{...n,basket:[]};case Ui.SET_USER:return{...n,user:e.user};default:return n}},Fs=W.createContext(),lI={SET_USER:"SET_USER"},lL=({children:n,reducer:e,initialState:t})=>q.jsx(Fs.Provider,{value:W.useReducer(e,t),children:n});var uI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},uL=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],u=n[t++],h=n[t++],d=((i&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|u&63)}}return e.join("")},QC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],u=i+1<n.length,h=u?n[i+1]:0,d=i+2<n.length,f=d?n[i+2]:0,g=o>>2,_=(o&3)<<4|h>>4;let v=(h&15)<<2|f>>6,T=f&63;d||(T=64,u||(v=64)),r.push(t[g],t[_],t[v],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(WC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):uL(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],h=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||h==null||f==null||_==null)throw new cL;const v=o<<2|h>>4;if(r.push(v),f!==64){const T=h<<4&240|f>>2;if(r.push(T),_!==64){const w=f<<6&192|_;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class cL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hL=function(n){const e=WC(n);return QC.encodeByteArray(e,!0)},ng=function(n){return hL(n).replace(/\./g,"")},zE=function(n){try{return QC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function rg(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!dL(t)||(n[t]=rg(n[t],e[t]));return n}function dL(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=()=>YC().__FIREBASE_DEFAULTS__,pL=()=>{if(typeof process>"u"||typeof uI>"u")return;const n=uI.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},mL=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&zE(n[1]);return e&&JSON.parse(e)},Ug=()=>{try{return fL()||pL()||mL()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},gL=n=>{var e,t;return(t=(e=Ug())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},XC=()=>{var n;return(n=Ug())===null||n===void 0?void 0:n.config},JC=n=>{var e;return(e=Ug())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ng(JSON.stringify(t)),ng(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function qE(){var n;const e=(n=Ug())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EL(){return typeof window<"u"||ZC()}function ZC(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function bL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ex(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function HE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tx(){const n=Vt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function nx(){return!qE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fd(){try{return typeof indexedDB=="object"}catch{return!1}}function wL(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL="FirebaseError";class er extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=TL,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sl.prototype.create)}}class Sl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],u=o?SL(o,r):"Error",h=`${this.serviceName}: ${u} (${i}).`;return new er(i,h,r)}}function SL(n,e){return n.replace(AL,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const AL=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function IL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Gu(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],u=e[i];if(hI(o)&&hI(u)){if(!Gu(o,u))return!1}else if(o!==u)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function hI(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Mu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function yd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function rx(n,e){const t=new RL(n,e);return t.subscribe.bind(t)}class RL{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");CL(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Yv),i.error===void 0&&(i.error=Yv),i.complete===void 0&&(i.complete=Yv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CL(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Yv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(n){return n&&n._delegate?n._delegate:n}class Gi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new yL;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OL(e))try{this.getOrInitializeService({instanceIdentifier:Wo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wo){return this.instances.has(e)}getOptions(e=Wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PL(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wo){return this.component?this.component.multipleInstances?e:Wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PL(n){return n===Wo?void 0:n}function OL(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new xL(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=[];var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const sx={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},DL=je.INFO,NL={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},kL=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=NL[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bg{constructor(e){this.name=e,this._logLevel=DL,this._logHandler=kL,this._userLogHandler=null,$E.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}function VL(n){$E.forEach(e=>{e.setLogLevel(n)})}function ML(n,e){for(const t of $E){let r=null;e&&e.level&&(r=sx[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,o,...u)=>{const h=u.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");o>=(r??i.logLevel)&&n({level:je[o].toLowerCase(),message:h,args:u,type:i.name})}}}const LL=(n,e)=>e.some(t=>n instanceof t);let dI,fI;function UL(){return dI||(dI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BL(){return fI||(fI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ax=new WeakMap,D0=new WeakMap,ox=new WeakMap,Xv=new WeakMap,GE=new WeakMap;function FL(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Ua(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&ax.set(t,n)}).catch(()=>{}),GE.set(e,n),e}function jL(n){if(D0.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});D0.set(n,e)}let N0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return D0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||ox.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ua(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function zL(n){N0=n(N0)}function qL(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Jv(this),e,...t);return ox.set(r,e.sort?e.sort():[e]),Ua(r)}:BL().includes(n)?function(...e){return n.apply(Jv(this),e),Ua(ax.get(this))}:function(...e){return Ua(n.apply(Jv(this),e))}}function HL(n){return typeof n=="function"?qL(n):(n instanceof IDBTransaction&&jL(n),LL(n,UL())?new Proxy(n,N0):n)}function Ua(n){if(n instanceof IDBRequest)return FL(n);if(Xv.has(n))return Xv.get(n);const e=HL(n);return e!==n&&(Xv.set(n,e),GE.set(e,n)),e}const Jv=n=>GE.get(n);function $L(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const u=indexedDB.open(n,e),h=Ua(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Ua(u.result),d.oldVersion,d.newVersion,Ua(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),h}const GL=["get","getKey","getAll","getAllKeys","count"],KL=["put","add","delete","clear"],Zv=new Map;function pI(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Zv.get(e))return Zv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=KL.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||GL.includes(t)))return;const o=async function(u,...h){const d=this.transaction(u,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(h.shift())),(await Promise.all([f[t](...h),i&&d.done]))[0]};return Zv.set(e,o),o}zL(n=>({...n,get:(e,t,r)=>pI(e,t)||n.get(e,t,r),has:(e,t)=>!!pI(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(QL(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function QL(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ig="@firebase/app",k0="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new Bg("@firebase/app"),YL="@firebase/app-compat",XL="@firebase/analytics-compat",JL="@firebase/analytics",ZL="@firebase/app-check-compat",eU="@firebase/app-check",tU="@firebase/auth",nU="@firebase/auth-compat",rU="@firebase/database",iU="@firebase/data-connect",sU="@firebase/database-compat",aU="@firebase/functions",oU="@firebase/functions-compat",lU="@firebase/installations",uU="@firebase/installations-compat",cU="@firebase/messaging",hU="@firebase/messaging-compat",dU="@firebase/performance",fU="@firebase/performance-compat",pU="@firebase/remote-config",mU="@firebase/remote-config-compat",gU="@firebase/storage",yU="@firebase/storage-compat",_U="@firebase/firestore",vU="@firebase/vertexai",EU="@firebase/firestore-compat",bU="firebase",wU="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="[DEFAULT]",TU={[ig]:"fire-core",[YL]:"fire-core-compat",[JL]:"fire-analytics",[XL]:"fire-analytics-compat",[eU]:"fire-app-check",[ZL]:"fire-app-check-compat",[tU]:"fire-auth",[nU]:"fire-auth-compat",[rU]:"fire-rtdb",[iU]:"fire-data-connect",[sU]:"fire-rtdb-compat",[aU]:"fire-fn",[oU]:"fire-fn-compat",[lU]:"fire-iid",[uU]:"fire-iid-compat",[cU]:"fire-fcm",[hU]:"fire-fcm-compat",[dU]:"fire-perf",[fU]:"fire-perf-compat",[pU]:"fire-rc",[mU]:"fire-rc-compat",[gU]:"fire-gcs",[yU]:"fire-gcs-compat",[_U]:"fire-fst",[EU]:"fire-fst-compat",[vU]:"fire-vertex","fire-js":"fire-js",[bU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new Map,Ku=new Map,Wu=new Map;function jd(n,e){try{n.container.addComponent(e)}catch(t){ks.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function lx(n,e){n.container.addOrOverwriteComponent(e)}function Ga(n){const e=n.name;if(Wu.has(e))return ks.debug(`There were multiple attempts to register component ${e}.`),!1;Wu.set(e,n);for(const t of $a.values())jd(t,n);for(const t of Ku.values())jd(t,n);return!0}function Fg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function SU(n,e,t=Ha){Fg(n,e).clearInstance(t)}function ux(n){return n.options!==void 0}function Tt(n){return n==null?!1:n.settings!==void 0}function AU(){Wu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yr=new Sl("app","Firebase",IU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cx=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(n,e){const t=zE(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(t).exp*1e3,o=new Date().getTime();i-o<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class RU extends cx{constructor(e,t,r,i){const o=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!1,u={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,u,i);else{const h=e;super(h.options,u,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},t),this._serverConfig.authIdToken&&mI(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&mI(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,ui(ig,k0,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){WE(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Yr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=wU;function KE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ha,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Yr.create("bad-app-name",{appName:String(i)});if(t||(t=XC()),!t)throw Yr.create("no-options");const o=$a.get(i);if(o){if(Gu(t,o.options)&&Gu(r,o.config))return o;throw Yr.create("duplicate-app",{appName:i})}const u=new ix(i);for(const d of Wu.values())u.addComponent(d);const h=new cx(t,r,u);return $a.set(i,h),h}function CU(n,e){if(EL()&&!ZC())throw Yr.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let t;ux(n)?t=n.options:t=n;const r=Object.assign(Object.assign({},e),t);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=f=>[...f].reduce((g,_)=>Math.imul(31,g)+_.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Yr.create("finalization-registry-not-supported",{});const o=""+i(JSON.stringify(r)),u=Ku.get(o);if(u)return u.incRefCount(e.releaseOnDeref),u;const h=new ix(o);for(const f of Wu.values())h.addComponent(f);const d=new RU(t,e,o,h);return Ku.set(o,d),d}function hx(n=Ha){const e=$a.get(n);if(!e&&n===Ha&&XC())return KE();if(!e)throw Yr.create("no-app",{appName:n});return e}function xU(){return Array.from($a.values())}async function WE(n){let e=!1;const t=n.name;$a.has(t)?(e=!0,$a.delete(t)):Ku.has(t)&&n.decRefCount()<=0&&(Ku.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function ui(n,e,t){var r;let i=(r=TU[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ks.warn(h.join(" "));return}Ga(new Gi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function dx(n,e){if(n!==null&&typeof n!="function")throw Yr.create("invalid-log-argument");ML(n,e)}function fx(n){VL(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU="firebase-heartbeat-database",OU=1,zd="firebase-heartbeat-store";let e0=null;function px(){return e0||(e0=$L(PU,OU,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(zd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Yr.create("idb-open",{originalErrorMessage:n.message})})),e0}async function DU(n){try{const t=(await px()).transaction(zd),r=await t.objectStore(zd).get(mx(n));return await t.done,r}catch(e){if(e instanceof er)ks.warn(e.message);else{const t=Yr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ks.warn(t.message)}}}async function gI(n,e){try{const r=(await px()).transaction(zd,"readwrite");await r.objectStore(zd).put(e,mx(n)),await r.done}catch(t){if(t instanceof er)ks.warn(t.message);else{const r=Yr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ks.warn(r.message)}}}function mx(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU=1024,kU=30;class VU{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new LU(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=yI();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>kU){const u=UU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ks.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=yI(),{heartbeatsToSend:r,unsentEntries:i}=MU(this._heartbeatsCache.heartbeats),o=ng(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ks.warn(t),""}}}function yI(){return new Date().toISOString().substring(0,10)}function MU(n,e=NU){const t=[];let r=n.slice();for(const i of n){const o=t.find(u=>u.agent===i.agent);if(o){if(o.dates.push(i.date),_I(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),_I(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class LU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Fd()?wL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await DU(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return gI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return gI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function _I(n){return ng(JSON.stringify({version:2,heartbeats:n})).length}function UU(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BU(n){Ga(new Gi("platform-logger",e=>new WL(e),"PRIVATE")),Ga(new Gi("heartbeat",e=>new VU(e),"PRIVATE")),ui(ig,k0,n),ui(ig,k0,"esm2017"),ui("fire-js","")}BU("");const FU=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:er,SDK_VERSION:oo,_DEFAULT_ENTRY_NAME:Ha,_addComponent:jd,_addOrOverwriteComponent:lx,_apps:$a,_clearComponents:AU,_components:Wu,_getProvider:Fg,_isFirebaseApp:ux,_isFirebaseServerApp:Tt,_registerComponent:Ga,_removeServiceInstance:SU,_serverApps:Ku,deleteApp:WE,getApp:hx,getApps:xU,initializeApp:KE,initializeServerApp:CU,onLog:dx,registerVersion:ui,setLogLevel:fx},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e,t){this._delegate=e,this.firebase=t,jd(e,new Gi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),WE(this._delegate)))}_getService(e,t=Ha){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=Ha){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){jd(this._delegate,e)}_addOrOverwriteComponent(e){lx(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},vI=new Sl("app-compat","Firebase",zU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qU(n){const e={},t={__esModule:!0,initializeApp:o,app:i,registerVersion:ui,setLogLevel:fx,onLog:dx,apps:null,SDK_VERSION:oo,INTERNAL:{registerComponent:h,removeApp:r,useAsService:d,modularAPIs:FU}};t.default=t,Object.defineProperty(t,"apps",{get:u});function r(f){delete e[f]}function i(f){if(f=f||Ha,!cI(e,f))throw vI.create("no-app",{appName:f});return e[f]}i.App=n;function o(f,g={}){const _=KE(f,g);if(cI(e,_.name))return e[_.name];const v=new n(_,t);return e[_.name]=v,v}function u(){return Object.keys(e).map(f=>e[f])}function h(f){const g=f.name,_=g.replace("-compat","");if(Ga(f)&&f.type==="PUBLIC"){const v=(T=i())=>{if(typeof T[_]!="function")throw vI.create("invalid-app-argument",{appName:g});return T[_]()};f.serviceProps!==void 0&&rg(v,f.serviceProps),t[_]=v,n.prototype[_]=function(...T){return this._getService.bind(this,g).apply(this,f.multipleInstances?T:[])}}return f.type==="PUBLIC"?t[_]:null}function d(f,g){return g==="serverAuth"?null:g}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(){const n=qU(jU);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:gx,extendNamespace:e,createSubscribe:rx,ErrorFactory:Sl,deepExtend:rg});function e(t){rg(n,t)}return n}const HU=gx();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=new Bg("@firebase/app-compat"),$U="@firebase/app-compat",GU="0.2.50";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KU(n){ui($U,GU,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=YC();if(n.firebase!==void 0){EI.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&EI.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Sc=HU;KU();var WU="firebase",QU="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sc.registerVersion(WU,QU,"app-compat");function QE(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}const Qh={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},_u={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function yx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XU=YU,JU=yx,_x=new Sl("auth","Firebase",yx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg=new Bg("@firebase/auth");function ZU(n,...e){sg.logLevel<=je.WARN&&sg.warn(`Auth (${oo}): ${n}`,...e)}function Pm(n,...e){sg.logLevel<=je.ERROR&&sg.error(`Auth (${oo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(n,...e){throw XE(n,...e)}function mn(n,...e){return XE(n,...e)}function YE(n,e,t){const r=Object.assign(Object.assign({},JU()),{[e]:t});return new Sl("auth","Firebase",r).create(e,{appName:n.name})}function In(n){return YE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ac(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Rn(n,"argument-error"),YE(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function XE(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return _x.create(n,...e)}function me(n,e,...t){if(!n)throw XE(e,...t)}function Bi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Pm(e),new Error(e)}function ci(n,e){n||Bi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function JE(){return bI()==="http:"||bI()==="https:"}function bI(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JE()||ex()||"connection"in navigator)?navigator.onLine:!0}function t4(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,t){this.shortDelay=e,this.longDelay=t,ci(t>e,"Short delay should be less than long delay!"),this.isMobile=vL()||HE()}get(){return e4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(n,e){ci(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=new yf(3e4,6e4);function Ht(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function $t(n,e,t,r,i={}){return Ex(n,i,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=Tc(Object.assign({key:n.config.apiKey},u)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:d},o);return bL()||(f.referrerPolicy="no-referrer"),vx.fetch()(bx(n,n.config.apiHost,t,h),f)})}async function Ex(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},n4),e);try{const i=new s4(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw _d(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[d,f]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw _d(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw _d(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw _d(n,"user-disabled",u);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw YE(n,g,f);Rn(n,g)}}catch(i){if(i instanceof er)throw i;Rn(n,"network-request-failed",{message:String(i)})}}async function js(n,e,t,r,i={}){const o=await $t(n,e,t,r,i);return"mfaPendingCredential"in o&&Rn(n,"multi-factor-auth-required",{_serverResponse:o}),o}function bx(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?ZE(n.config,i):`${n.config.apiScheme}://${i}`}function i4(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class s4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(mn(this.auth,"network-request-failed")),r4.get())})}}function _d(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=mn(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(n){return n!==void 0&&n.getResponse!==void 0}function TI(n){return n!==void 0&&n.enterprise!==void 0}class wx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return i4(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a4(n){return(await $t(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function Tx(n,e){return $t(n,"GET","/v2/recaptchaConfig",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(n,e){return $t(n,"POST","/v1/accounts:delete",e)}async function l4(n,e){return $t(n,"POST","/v1/accounts:update",e)}async function Sx(n,e){return $t(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function u4(n,e=!1){const t=xe(n),r=await t.getIdToken(e),i=jg(r);me(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ad(t0(i.auth_time)),issuedAtTime:Ad(t0(i.iat)),expirationTime:Ad(t0(i.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function t0(n){return Number(n)*1e3}function jg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Pm("JWT malformed, contained fewer than 3 sections"),null;try{const i=zE(t);return i?JSON.parse(i):(Pm("Failed to decode base64 JWT payload"),null)}catch(i){return Pm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function SI(n){const e=jg(n);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vs(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof er&&c4(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function c4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ad(this.lastLoginAt),this.creationTime=Ad(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hd(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Vs(n,Sx(t,{idToken:r}));me(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Ax(o.providerUserInfo):[],h=f4(n.providerData,u),d=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),g=d?f:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new V0(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function d4(n){const e=xe(n);await Hd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function f4(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ax(n){return n.map(e=>{var{providerId:t}=e,r=QE(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p4(n,e){const t=await Ex(n,{},async()=>{const r=Tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,u=bx(n,i,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",vx.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function m4(n,e){return $t(n,"POST","/v2/accounts:revokeToken",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){me(e.length!==0,"internal-error");const t=SI(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await p4(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,u=new Uu;return r&&(me(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),o&&(me(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uu,this.toJSON())}_performRefresh(){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(n,e){me(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Cs{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=QE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new h4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new V0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Vs(this,this.stsTokenManager.getToken(this.auth,e));return me(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return u4(this,e)}reload(){return d4(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Cs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Hd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tt(this.auth.app))return Promise.reject(In(this.auth));const e=await this.getIdToken();return await Vs(this,o4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,u,h,d,f,g;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,T=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,w=(u=t.photoURL)!==null&&u!==void 0?u:void 0,I=(h=t.tenantId)!==null&&h!==void 0?h:void 0,x=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,L=(f=t.createdAt)!==null&&f!==void 0?f:void 0,M=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:U,emailVerified:$,isAnonymous:j,providerData:H,stsTokenManager:V}=t;me(U&&V,e,"internal-error");const C=Uu.fromJSON(this.name,V);me(typeof U=="string",e,"internal-error"),Ca(_,e.name),Ca(v,e.name),me(typeof $=="boolean",e,"internal-error"),me(typeof j=="boolean",e,"internal-error"),Ca(T,e.name),Ca(w,e.name),Ca(I,e.name),Ca(x,e.name),Ca(L,e.name),Ca(M,e.name);const R=new Cs({uid:U,auth:e,email:v,emailVerified:$,displayName:_,isAnonymous:j,photoURL:w,phoneNumber:T,tenantId:I,stsTokenManager:C,createdAt:L,lastLoginAt:M});return H&&Array.isArray(H)&&(R.providerData=H.map(b=>Object.assign({},b))),x&&(R._redirectEventId=x),R}static async _fromIdTokenResponse(e,t,r=!1){const i=new Uu;i.updateFromServerResponse(t);const o=new Cs({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Hd(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];me(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Ax(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),h=new Uu;h.updateFromIdToken(r);const d=new Cs({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:u}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new V0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=new Map;function Ir(n){ci(n instanceof Function,"Expected a class definition");let e=AI.get(n);return e?(ci(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,AI.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ix.type="NONE";const Qu=Ix;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(n,e,t){return`firebase:${n}:${e}:${t}`}class Bu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=ol(this.userKey,i.apiKey,o),this.fullPersistenceKey=ol("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Cs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Bu(Ir(Qu),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||Ir(Qu);const u=ol(r,e.config.apiKey,e.name);let h=null;for(const f of t)try{const g=await f._get(u);if(g){const _=Cs._fromJSON(e,g);f!==o&&(h=_),o=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Bu(o,e,r):(o=d[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(u)}catch{}})),new Bu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Px(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Rx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ox(e))return"Blackberry";if(Dx(e))return"Webos";if(Cx(e))return"Safari";if((e.includes("chrome/")||xx(e))&&!e.includes("edge/"))return"Chrome";if(_f(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Rx(n=Vt()){return/firefox\//i.test(n)}function Cx(n=Vt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xx(n=Vt()){return/crios\//i.test(n)}function Px(n=Vt()){return/iemobile/i.test(n)}function _f(n=Vt()){return/android/i.test(n)}function Ox(n=Vt()){return/blackberry/i.test(n)}function Dx(n=Vt()){return/webos/i.test(n)}function vf(n=Vt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function g4(n=Vt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function y4(n=Vt()){var e;return vf(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _4(){return tx()&&document.documentMode===10}function Nx(n=Vt()){return vf(n)||_f(n)||Dx(n)||Ox(n)||/windows phone/i.test(n)||Px(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(n,e=[]){let t;switch(n){case"Browser":t=II(Vt());break;case"Worker":t=`${II(Vt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${oo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,h)=>{try{const d=e(o);u(d)}catch(d){h(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E4(n,e={}){return $t(n,"GET","/v2/passwordPolicy",Ht(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=6;class w4{constructor(e){var t,r,i,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:b4,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,u,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RI(this),this.idTokenSubscription=new RI(this),this.beforeStateQueue=new v4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_x,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ir(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Bu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Sx(this,{idToken:e}),r=await Cs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Tt(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&(d!=null&&d.user)&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Hd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=t4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tt(this.app))return Promise.reject(In(this));const t=e?xe(e):null;return t&&me(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tt(this.app)?Promise.reject(In(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tt(this.app)?Promise.reject(In(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await E4(this),t=new w4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Sl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await m4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ir(e)||this._popupRedirectResolver;me(t,this,"argument-error"),this.redirectPersistenceManager=await Bu.create(this,[Ir(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{u=!0,d()}}else{const d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Tt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&ZU(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Mt(n){return xe(n)}class RI{constructor(e){this.auth=e,this.observer=null,this.addObserver=rx(t=>this.observer=t)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ef={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function S4(n){Ef=n}function eb(n){return Ef.loadJS(n)}function A4(){return Ef.recaptchaV2Script}function I4(){return Ef.recaptchaEnterpriseScript}function R4(){return Ef.gapiScript}function Vx(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=500,x4=6e4,dm=1e12;class P4{constructor(e){this.auth=e,this.counter=dm,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new N4(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||dm;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||dm;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const r=e||dm;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""}}class O4{constructor(){this.enterprise=new D4}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class D4{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class N4{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;me(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=k4(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},x4)},C4))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function k4(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const V4="recaptcha-enterprise",Id="NO_RECAPTCHA";class Mx{constructor(e){this.type=V4,this.auth=Mt(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{Tx(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const f=new wx(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,u(f.siteKey)}}).catch(d=>{h(d)})})}function i(o,u,h){const d=window.grecaptcha;TI(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{u(f)}).catch(()=>{u(Id)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new O4().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!t&&TI(window.grecaptcha))i(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=I4();d.length!==0&&(d+=h),eb(d).then(()=>{i(h,o,u)}).catch(f=>{u(f)})}}).catch(h=>{u(h)})})}}async function Yh(n,e,t,r=!1,i=!1){const o=new Mx(n);let u;if(i)u=Id;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,f=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Ba(n,e,t,r,i){var o,u;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await Yh(n,e,t,t==="getOobCode");return r(n,h)}else return r(n,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Yh(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(h)});else if(i==="PHONE_PROVIDER")if(!((u=n._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("PHONE_PROVIDER")){const h=await Yh(n,e,t);return r(n,h).catch(async d=>{var f;if(((f=n._getRecaptchaConfig())===null||f===void 0?void 0:f.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(d.code==="auth/missing-recaptcha-token"||d.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const g=await Yh(n,e,t,!1,!0);return r(n,g)}return Promise.reject(d)})}else{const h=await Yh(n,e,t,!1,!0);return r(n,h)}else return Promise.reject(i+" provider is not supported.")}async function M4(n){const e=Mt(n),t=await Tx(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new wx(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new Mx(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(n,e){const t=Fg(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(Gu(o,e??{}))return i;Rn(i,"already-initialized")}return t.initialize({options:e})}function U4(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ir);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Lx(n,e,t){const r=Mt(n);me(r._canInitEmulator,r,"emulator-config-failed"),me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),o=Ux(e),{host:u,port:h}=B4(e),d=h===null?"":`:${h}`;r.config.emulator={url:`${o}//${u}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||F4()}function Ux(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function B4(n){const e=Ux(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:CI(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:CI(u)}}}function CI(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function F4(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Bi("not implemented")}_getIdTokenResponse(e){return Bi("not implemented")}_linkToIdToken(e,t){return Bi("not implemented")}_getReauthenticationResolver(e){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bx(n,e){return $t(n,"POST","/v1/accounts:resetPassword",Ht(n,e))}async function j4(n,e){return $t(n,"POST","/v1/accounts:update",e)}async function z4(n,e){return $t(n,"POST","/v1/accounts:signUp",e)}async function q4(n,e){return $t(n,"POST","/v1/accounts:update",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H4(n,e){return js(n,"POST","/v1/accounts:signInWithPassword",Ht(n,e))}async function zg(n,e){return $t(n,"POST","/v1/accounts:sendOobCode",Ht(n,e))}async function $4(n,e){return zg(n,e)}async function G4(n,e){return zg(n,e)}async function K4(n,e){return zg(n,e)}async function W4(n,e){return zg(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q4(n,e){return js(n,"POST","/v1/accounts:signInWithEmailLink",Ht(n,e))}async function Y4(n,e){return js(n,"POST","/v1/accounts:signInWithEmailLink",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d extends Ic{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new $d(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new $d(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ba(e,t,"signInWithPassword",H4,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Q4(e,{email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ba(e,r,"signUpPassword",z4,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Y4(e,{idToken:t,email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ns(n,e){return js(n,"POST","/v1/accounts:signInWithIdp",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4="http://localhost";class Ki extends Ic{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ki(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Rn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=QE(t,["providerId","signInMethod"]);if(!r||!i)return null;const u=new Ki(r,i);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ns(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ns(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ns(e,t)}buildRequest(){const e={requestUri:X4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Tc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI(n,e){return $t(n,"POST","/v1/accounts:sendVerificationCode",Ht(n,e))}async function J4(n,e){return js(n,"POST","/v1/accounts:signInWithPhoneNumber",Ht(n,e))}async function Z4(n,e){const t=await js(n,"POST","/v1/accounts:signInWithPhoneNumber",Ht(n,e));if(t.temporaryProof)throw _d(n,"account-exists-with-different-credential",t);return t}const e5={USER_NOT_FOUND:"user-not-found"};async function t5(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return js(n,"POST","/v1/accounts:signInWithPhoneNumber",Ht(n,t),e5)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends Ic{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ll({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ll({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return J4(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return Z4(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return t5(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!t&&!i&&!o?null:new ll({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n5(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function r5(n){const e=Mu(yd(n)).link,t=e?Mu(yd(e)).deep_link_id:null,r=Mu(yd(n)).deep_link_id;return(r?Mu(yd(r)).link:null)||r||t||e||n}class qg{constructor(e){var t,r,i,o,u,h;const d=Mu(yd(e)),f=(t=d.apiKey)!==null&&t!==void 0?t:null,g=(r=d.oobCode)!==null&&r!==void 0?r:null,_=n5((i=d.mode)!==null&&i!==void 0?i:null);me(f&&g&&_,"argument-error"),this.apiKey=f,this.operation=_,this.code=g,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=d.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=r5(e);try{return new qg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.providerId=lo.PROVIDER_ID}static credential(e,t){return $d._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=qg.parseLink(t);return me(r,"argument-error"),$d._fromEmailAndCode(e,r.code,r.tenantId)}}lo.PROVIDER_ID="password";lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends zs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Fu extends Rc{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return me("providerId"in t&&"signInMethod"in t,"argument-error"),Ki._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return me(e.idToken||e.accessToken,"argument-error"),Ki._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Fu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Fu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:u,providerId:h}=e;if(!r&&!i&&!t&&!o||!h)return null;try{return new Fu(h)._credential({idToken:t,accessToken:r,nonce:u,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends Rc{constructor(){super("facebook.com")}static credential(e){return Ki._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ki.credential(e.oauthAccessToken)}catch{return null}}}ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";ki.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends Rc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ki._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Vi.credential(t,r)}catch{return null}}}Vi.GOOGLE_SIGN_IN_METHOD="google.com";Vi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Rc{constructor(){super("github.com")}static credential(e){return Ki._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.GITHUB_SIGN_IN_METHOD="github.com";Mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5="http://localhost";class Yu extends Ic{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return Ns(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ns(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ns(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:o}=t;return!r||!i||!o||r!==i?null:new Yu(r,o)}static _create(e,t){return new Yu(e,t)}buildRequest(){return{requestUri:i5,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5="saml.";class ag extends zs{constructor(e){me(e.startsWith(s5),"argument-error"),super(e)}static credentialFromResult(e){return ag.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return ag.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Yu.fromJSON(e);return me(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return Yu._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Rc{constructor(){super("twitter.com")}static credential(e,t){return Ki._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Li.credential(t,r)}catch{return null}}}Li.TWITTER_SIGN_IN_METHOD="twitter.com";Li.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fx(n,e){return js(n,"POST","/v1/accounts:signUp",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await Cs._fromIdTokenResponse(e,r,i),u=PI(r);return new Xr({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=PI(r);return new Xr({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function PI(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a5(n){var e;if(Tt(n.app))return Promise.reject(In(n));const t=Mt(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Xr({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await Fx(t,{returnSecureToken:!0}),i=await Xr._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og extends er{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,og.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new og(e,t,r,i)}}function jx(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?og._fromErrorAndOperation(n,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o5(n,e){const t=xe(n);await Hg(!0,t,e);const{providerUserInfo:r}=await l4(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=zx(r||[]);return t.providerData=t.providerData.filter(o=>i.has(o.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function tb(n,e,t=!1){const r=await Vs(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Xr._forOperation(n,"link",r)}async function Hg(n,e,t){await Hd(e);const r=zx(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";me(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qx(n,e,t=!1){const{auth:r}=n;if(Tt(r.app))return Promise.reject(In(r));const i="reauthenticate";try{const o=await Vs(n,jx(r,i,e,n),t);me(o.idToken,r,"internal-error");const u=jg(o.idToken);me(u,r,"internal-error");const{sub:h}=u;return me(n.uid===h,r,"user-mismatch"),Xr._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Rn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hx(n,e,t=!1){if(Tt(n.app))return Promise.reject(In(n));const r="signIn",i=await jx(n,r,e),o=await Xr._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function $g(n,e){return Hx(Mt(n),e)}async function $x(n,e){const t=xe(n);return await Hg(!1,t,e.providerId),tb(t,e)}async function Gx(n,e){return qx(xe(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l5(n,e){return js(n,"POST","/v1/accounts:signInWithCustomToken",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u5(n,e){if(Tt(n.app))return Promise.reject(In(n));const t=Mt(n),r=await l5(t,{token:e,returnSecureToken:!0}),i=await Xr._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?nb._fromServerResponse(e,t):"totpInfo"in t?rb._fromServerResponse(e,t):Rn(e,"internal-error")}}class nb extends bf{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new nb(t)}}class rb extends bf{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new rb(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(n,e,t){var r;me(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),me(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),me(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(me(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(me(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ib(n){const e=Mt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function c5(n,e,t){const r=Mt(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Gg(r,i,t),await Ba(r,i,"getOobCode",G4,"EMAIL_PASSWORD_PROVIDER")}async function h5(n,e,t){await Bx(xe(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ib(n),r})}async function d5(n,e){await q4(xe(n),{oobCode:e})}async function Kx(n,e){const t=xe(n),r=await Bx(t,{oobCode:e}),i=r.requestType;switch(me(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":me(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":me(r.mfaInfo,t,"internal-error");default:me(r.email,t,"internal-error")}let o=null;return r.mfaInfo&&(o=bf._fromServerResponse(Mt(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function f5(n,e){const{data:t}=await Kx(xe(n),e);return t.email}async function Wx(n,e,t){if(Tt(n.app))return Promise.reject(In(n));const r=Mt(n),u=await Ba(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fx,"EMAIL_PASSWORD_PROVIDER").catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&ib(n),d}),h=await Xr._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function Qx(n,e,t){return Tt(n.app)?Promise.reject(In(n)):$g(xe(n),lo.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ib(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p5(n,e,t){const r=Mt(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(u,h){me(h.handleCodeInApp,r,"argument-error"),h&&Gg(r,u,h)}o(i,t),await Ba(r,i,"getOobCode",K4,"EMAIL_PASSWORD_PROVIDER")}function m5(n,e){const t=qg.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function g5(n,e,t){if(Tt(n.app))return Promise.reject(In(n));const r=xe(n),i=lo.credentialWithLink(e,t||qd());return me(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),$g(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y5(n,e){return $t(n,"POST","/v1/accounts:createAuthUri",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _5(n,e){const t=JE()?qd():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await y5(xe(n),r);return i||[]}async function v5(n,e){const t=xe(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&Gg(t.auth,i,e);const{email:o}=await $4(t.auth,i);o!==n.email&&await n.reload()}async function E5(n,e,t){const r=xe(n),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&Gg(r.auth,o,t);const{email:u}=await W4(r.auth,o);u!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b5(n,e){return $t(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w5(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=xe(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Vs(r,b5(r.auth,o));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:d})=>d==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function T5(n,e){const t=xe(n);return Tt(t.auth.app)?Promise.reject(In(t.auth)):Yx(t,e,null)}function S5(n,e){return Yx(xe(n),null,e)}async function Yx(n,e,t){const{auth:r}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);const u=await Vs(n,j4(r,o));await n._updateTokensIfNecessary(u,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},o=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const u=(t=(e=jg(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(u){const h=u!=="anonymous"&&u!=="custom"?u:null;return new ju(o,h)}}if(!r)return null;switch(r){case"facebook.com":return new I5(o,i);case"github.com":return new R5(o,i);case"google.com":return new C5(o,i);case"twitter.com":return new x5(o,i,n.screenName||null);case"custom":case"anonymous":return new ju(o,null);default:return new ju(o,r,i)}}class ju{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class Xx extends ju{constructor(e,t,r,i){super(e,t,r),this.username=i}}class I5 extends ju{constructor(e,t){super(e,"facebook.com",t)}}class R5 extends Xx{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class C5 extends ju{constructor(e,t){super(e,"google.com",t)}}class x5 extends Xx{constructor(e,t,r){super(e,"twitter.com",t,r)}}function P5(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:A5(t)}function O5(n,e,t,r){return xe(n).onIdTokenChanged(e,t,r)}function D5(n,e,t){return xe(n).beforeAuthStateChanged(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new nl("enroll",e,t)}static _fromMfaPendingCredential(e){return new nl("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return nl._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return nl._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Mt(e),i=t.customData._serverResponse,o=(i.mfaInfo||[]).map(h=>bf._fromServerResponse(r,h));me(i.mfaPendingCredential,r,"internal-error");const u=nl._fromMfaPendingCredential(i.mfaPendingCredential);return new sb(u,o,async h=>{const d=await h._process(r,u);delete i.mfaInfo,delete i.mfaPendingCredential;const f=Object.assign(Object.assign({},i),{idToken:d.idToken,refreshToken:d.refreshToken});switch(t.operationType){case"signIn":const g=await Xr._fromIdTokenResponse(r,t.operationType,f);return await r._updateCurrentUser(g.user),g;case"reauthenticate":return me(t.user,r,"internal-error"),Xr._forOperation(t.user,t.operationType,f);default:Rn(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function N5(n,e){var t;const r=xe(n),i=e;return me(e.customData.operationType,r,"argument-error"),me((t=i.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),sb._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:start",Ht(n,e))}function k5(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:finalize",Ht(n,e))}function V5(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Ht(n,e))}class ab{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>bf._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new ab(e)}async getSession(){return nl._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),o=await Vs(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Vs(this.user,V5(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const n0=new WeakMap;function M5(n){const e=xe(n);return n0.has(e)||n0.set(e,ab._fromUser(e)),n0.get(e)}const lg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(lg,"1"),this.storage.removeItem(lg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=1e3,U5=10;class Zx extends Jx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Nx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);_4()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,U5):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},L5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Zx.type="LOCAL";const Kg=Zx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP extends Jx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}eP.type="SESSION";const Ka=eP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B5(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Wg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(u).map(async f=>f(t.origin,o)),d=await B5(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,u;return new Promise((h,d)=>{const f=wf("",20);i.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(_){const v=_;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(v.data.response);break;default:clearTimeout(g),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return window}function j5(n){sn().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(){return typeof sn().WorkerGlobalScope<"u"&&typeof sn().importScripts=="function"}async function z5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function q5(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function H5(){return ob()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP="firebaseLocalStorageDb",$5=1,ug="firebaseLocalStorage",nP="fbase_key";class Tf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Qg(n,e){return n.transaction([ug],e?"readwrite":"readonly").objectStore(ug)}function G5(){const n=indexedDB.deleteDatabase(tP);return new Tf(n).toPromise()}function M0(){const n=indexedDB.open(tP,$5);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(ug,{keyPath:nP})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(ug)?e(r):(r.close(),await G5(),e(await M0()))})})}async function DI(n,e,t){const r=Qg(n,!0).put({[nP]:e,value:t});return new Tf(r).toPromise()}async function K5(n,e){const t=Qg(n,!1).get(e),r=await new Tf(t).toPromise();return r===void 0?null:r.value}function NI(n,e){const t=Qg(n,!0).delete(e);return new Tf(t).toPromise()}const W5=800,Q5=3;class rP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await M0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Q5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ob()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wg._getInstance(H5()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await z5(),!this.activeServiceWorker)return;this.sender=new F5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||q5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await M0();return await DI(e,lg,"1"),await NI(e,lg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>DI(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>K5(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>NI(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Qg(i,!1).getAll();return new Tf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),W5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rP.type="LOCAL";const Xu=rP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(n,e){return $t(n,"POST","/v2/accounts/mfaSignIn:start",Ht(n,e))}function Y5(n,e){return $t(n,"POST","/v2/accounts/mfaSignIn:finalize",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0=Vx("rcb"),X5=new yf(3e4,6e4);class J5{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=sn().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return me(Z5(t),e,"argument-error"),this.shouldResolveImmediately(t)&&wI(sn().grecaptcha)?Promise.resolve(sn().grecaptcha):new Promise((r,i)=>{const o=sn().setTimeout(()=>{i(mn(e,"network-request-failed"))},X5.get());sn()[r0]=()=>{sn().clearTimeout(o),delete sn()[r0];const h=sn().grecaptcha;if(!h||!wI(h)){i(mn(e,"internal-error"));return}const d=h.render;h.render=(f,g)=>{const _=d(f,g);return this.counter++,_},this.hostLanguage=t,r(h)};const u=`${A4()}?${Tc({onload:r0,render:"explicit",hl:t})}`;eb(u).catch(()=>{clearTimeout(o),i(mn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=sn().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function Z5(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class eB{async load(e){return new P4(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd="recaptcha",tB={theme:"light",type:"image"};let nB=class{constructor(e,t,r=Object.assign({},tB)){this.parameters=r,this.type=Rd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Mt(e),this.isInvisible=this.parameters.size==="invisible",me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;me(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new eB:new J5,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const o=u=>{u&&(this.tokenChangeListeners.delete(o),i(u))};this.tokenChangeListeners.add(o),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){me(!this.parameters.sitekey,this.auth,"argument-error"),me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=sn()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){me(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){me(JE()&&!ob(),this.auth,"internal-error"),await rB(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await a4(this.auth);me(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function rB(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=ll._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function iB(n,e,t){if(Tt(n.app))return Promise.reject(In(n));const r=Mt(n),i=await Yg(r,e,xe(t));return new lb(i,o=>$g(r,o))}async function sB(n,e,t){const r=xe(n);await Hg(!1,r,"phone");const i=await Yg(r.auth,e,xe(t));return new lb(i,o=>$x(r,o))}async function aB(n,e,t){const r=xe(n);if(Tt(r.auth.app))return Promise.reject(In(r.auth));const i=await Yg(r.auth,e,xe(t));return new lb(i,o=>Gx(r,o))}async function Yg(n,e,t){var r;if(!n._getRecaptchaConfig())try{await M4(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const o=i.session;if("phoneNumber"in i){me(o.type==="enroll",n,"internal-error");const u={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Ba(n,u,"mfaSmsEnrollment",async(g,_)=>{if(_.phoneEnrollmentInfo.captchaResponse===Id){me((t==null?void 0:t.type)===Rd,g,"argument-error");const v=await i0(g,_,t);return OI(g,v)}return OI(g,_)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneSessionInfo.sessionInfo}else{me(o.type==="signin",n,"internal-error");const u=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;me(u,n,"missing-multi-factor-info");const h={mfaPendingCredential:o.credential,mfaEnrollmentId:u,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Ba(n,h,"mfaSmsSignIn",async(_,v)=>{if(v.phoneSignInInfo.captchaResponse===Id){me((t==null?void 0:t.type)===Rd,_,"argument-error");const T=await i0(_,v,t);return kI(_,T)}return kI(_,v)},"PHONE_PROVIDER").catch(_=>Promise.reject(_))).phoneResponseInfo.sessionInfo}}else{const o={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Ba(n,o,"sendVerificationCode",async(f,g)=>{if(g.captchaResponse===Id){me((t==null?void 0:t.type)===Rd,f,"argument-error");const _=await i0(f,g,t);return xI(f,_)}return xI(f,g)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).sessionInfo}}finally{t==null||t._reset()}}async function oB(n,e){const t=xe(n);if(Tt(t.auth.app))return Promise.reject(In(t.auth));await tb(t,e)}async function i0(n,e,t){me(t.type===Rd,n,"argument-error");const r=await t.verify();me(typeof r=="string",n,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const o=i.phoneEnrollmentInfo.phoneNumber,u=i.phoneEnrollmentInfo.captchaResponse,h=i.phoneEnrollmentInfo.clientType,d=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:u,clientType:h,recaptchaVersion:d}}),i}else if("phoneSignInInfo"in i){const o=i.phoneSignInInfo.captchaResponse,u=i.phoneSignInInfo.clientType,h=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:u,recaptchaVersion:h}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hl=class Om{constructor(e){this.providerId=Om.PROVIDER_ID,this.auth=Mt(e)}verifyPhoneNumber(e,t){return Yg(this.auth,e,xe(t))}static credential(e,t){return ll._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Om.credentialFromTaggedObject(t)}static credentialFromError(e){return Om.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?ll._fromTokenResponse(t,r):null}};hl.PROVIDER_ID="phone";hl.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(n,e){return e?Ir(e):(me(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub extends Ic{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ns(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ns(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ns(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function lB(n){return Hx(n.auth,new ub(n),n.bypassAuthState)}function uB(n){const{auth:e,user:t}=n;return me(t,e,"internal-error"),qx(t,new ub(n),n.bypassAuthState)}async function cB(n){const{auth:e,user:t}=n;return me(t,e,"internal-error"),tb(t,new ub(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lB;case"linkViaPopup":case"linkViaRedirect":return cB;case"reauthViaPopup":case"reauthViaRedirect":return uB;default:Rn(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB=new yf(2e3,1e4);async function dB(n,e,t){if(Tt(n.app))return Promise.reject(mn(n,"operation-not-supported-in-this-environment"));const r=Mt(n);Ac(n,e,zs);const i=Al(r,t);return new xs(r,"signInViaPopup",e,i).executeNotNull()}async function fB(n,e,t){const r=xe(n);if(Tt(r.auth.app))return Promise.reject(mn(r.auth,"operation-not-supported-in-this-environment"));Ac(r.auth,e,zs);const i=Al(r.auth,t);return new xs(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function pB(n,e,t){const r=xe(n);Ac(r.auth,e,zs);const i=Al(r.auth,t);return new xs(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class xs extends iP{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,xs.currentPopupAction&&xs.currentPopupAction.cancel(),xs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){ci(this.filter.length===1,"Popup operations only handle one event");const e=wf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(mn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hB.get())};e()}}xs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB="pendingRedirect",Cd=new Map;class gB extends iP{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Cd.get(this.auth._key());if(!e){try{const r=await yB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Cd.set(this.auth._key(),e)}return this.bypassAuthState||Cd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yB(n,e){const t=aP(e),r=sP(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function cb(n,e){return sP(n)._set(aP(e),"true")}function _B(){Cd.clear()}function hb(n,e){Cd.set(n._key(),e)}function sP(n){return Ir(n._redirectPersistence)}function aP(n){return ol(mB,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vB(n,e,t){return EB(n,e,t)}async function EB(n,e,t){if(Tt(n.app))return Promise.reject(In(n));const r=Mt(n);Ac(n,e,zs),await r._initializationPromise;const i=Al(r,t);return await cb(i,r),i._openRedirect(r,e,"signInViaRedirect")}function bB(n,e,t){return wB(n,e,t)}async function wB(n,e,t){const r=xe(n);if(Ac(r.auth,e,zs),Tt(r.auth.app))return Promise.reject(In(r.auth));await r.auth._initializationPromise;const i=Al(r.auth,t);await cb(i,r.auth);const o=await oP(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",o)}function TB(n,e,t){return SB(n,e,t)}async function SB(n,e,t){const r=xe(n);Ac(r.auth,e,zs),await r.auth._initializationPromise;const i=Al(r.auth,t);await Hg(!1,r,e.providerId),await cb(i,r.auth);const o=await oP(r);return i._openRedirect(r.auth,e,"linkViaRedirect",o)}async function AB(n,e){return await Mt(n)._initializationPromise,Xg(n,e,!1)}async function Xg(n,e,t=!1){if(Tt(n.app))return Promise.reject(In(n));const r=Mt(n),i=Al(r,e),u=await new gB(r,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}async function oP(n){const e=wf(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB=10*60*1e3;class lP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RB(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!uP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(mn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IB&&this.cachedEventUids.clear(),this.cachedEventUids.has(VI(e))}saveEventToCache(e){this.cachedEventUids.add(VI(e)),this.lastProcessedEventTime=Date.now()}}function VI(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function uP({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function RB(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uP(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cP(n,e={}){return $t(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xB=/^https?/;async function PB(n){if(n.config.emulator)return;const{authorizedDomains:e}=await cP(n);for(const t of e)try{if(OB(t))return}catch{}Rn(n,"unauthorized-domain")}function OB(n){const e=qd(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!xB.test(t))return!1;if(CB.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB=new yf(3e4,6e4);function MI(){const n=sn().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function NB(n){return new Promise((e,t)=>{var r,i,o;function u(){MI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{MI(),t(mn(n,"network-request-failed"))},timeout:DB.get()})}if(!((i=(r=sn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=sn().gapi)===null||o===void 0)&&o.load)u();else{const h=Vx("iframefcb");return sn()[h]=()=>{gapi.load?u():t(mn(n,"network-request-failed"))},eb(`${R4()}?onload=${h}`).catch(d=>t(d))}}).catch(e=>{throw Dm=null,e})}let Dm=null;function kB(n){return Dm=Dm||NB(n),Dm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB=new yf(5e3,15e3),MB="__/auth/iframe",LB="emulator/auth/iframe",UB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FB(n){const e=n.config;me(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ZE(e,LB):`https://${n.config.authDomain}/${MB}`,r={apiKey:e.apiKey,appName:n.name,v:oo},i=BB.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Tc(r).slice(1)}`}async function jB(n){const e=await kB(n),t=sn().gapi;return me(t,n,"internal-error"),e.open({where:document.body,url:FB(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UB,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const u=mn(n,"network-request-failed"),h=sn().setTimeout(()=>{o(u)},VB.get());function d(){sn().clearTimeout(h),i(r)}r.ping(d).then(d,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qB=500,HB=600,$B="_blank",GB="http://localhost";class LI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KB(n,e,t,r=qB,i=HB){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d=Object.assign(Object.assign({},zB),{width:r.toString(),height:i.toString(),top:o,left:u}),f=Vt().toLowerCase();t&&(h=xx(f)?$B:t),Rx(f)&&(e=e||GB,d.scrollbars="yes");const g=Object.entries(d).reduce((v,[T,w])=>`${v}${T}=${w},`,"");if(y4(f)&&h!=="_self")return WB(e||"",h),new LI(null);const _=window.open(e||"",h,g);me(_,n,"popup-blocked");try{_.focus()}catch{}return new LI(_)}function WB(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QB="__/auth/handler",YB="emulator/auth/handler",XB=encodeURIComponent("fac");async function L0(n,e,t,r,i,o){me(n.config.authDomain,n,"auth-domain-config-required"),me(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:oo,eventId:i};if(e instanceof zs){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",IL(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries(o||{}))u[g]=_}if(e instanceof Rc){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await n._getAppCheckToken(),f=d?`#${XB}=${encodeURIComponent(d)}`:"";return`${JB(n)}?${Tc(h).slice(1)}${f}`}function JB({config:n}){return n.emulator?ZE(n,YB):`https://${n.authDomain}/${QB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="webStorageSupport";class ZB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ka,this._completeRedirectFn=Xg,this._overrideRedirectResult=hb}async _openPopup(e,t,r,i){var o;ci((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await L0(e,t,r,qd(),i);return KB(e,u,wf())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await L0(e,t,r,qd(),i);return j5(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(ci(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await jB(e),r=new lP(e);return t.register("authEvent",i=>(me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(s0,{type:s0},i=>{var o;const u=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[s0];u!==void 0&&t(!!u),Rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=PB(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Nx()||Cx()||vf()}}const hP=ZB;class eF{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Bi("unexpected MultiFactorSessionType")}}}class db extends eF{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new db(e)}_finalizeEnroll(e,t,r){return k5(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return Y5(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class dP{constructor(){}static assertion(e){return db._fromCredential(e)}}dP.FACTOR_ID="phone";var UI="@firebase/auth",BI="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rF(n){Ga(new Gi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;me(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kx(n)},f=new T4(r,i,o,d);return U4(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ga(new Gi("auth-internal",e=>{const t=Mt(e.getProvider("auth").getImmediate());return(r=>new tF(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ui(UI,BI,nF(n)),ui(UI,BI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF=5*60,sF=JC("authIdTokenMaxAge")||iF;let FI=null;const aF=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>sF)return;const i=t==null?void 0:t.token;FI!==i&&(FI=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function oF(n=hx()){const e=Fg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=L4(n,{popupRedirectResolver:hP,persistence:[Xu,Kg,Ka]}),r=JC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=aF(o.toString());D5(t,u,()=>u(t.currentUser)),O5(t,h=>u(h))}}const i=gL("auth");return i&&Lx(t,`http://${i}`),t}function lF(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}S4({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=mn("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",lF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rF("Browser");var jI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fa,fP;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,C){function R(){}R.prototype=C.prototype,V.D=C.prototype,V.prototype=new R,V.prototype.constructor=V,V.C=function(b,P,O){for(var D=Array(arguments.length-2),te=2;te<arguments.length;te++)D[te-2]=arguments[te];return C.prototype[P].apply(b,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(V,C,R){R||(R=0);var b=Array(16);if(typeof C=="string")for(var P=0;16>P;++P)b[P]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(P=0;16>P;++P)b[P]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=V.g[0],R=V.g[1],P=V.g[2];var O=V.g[3],D=C+(O^R&(P^O))+b[0]+3614090360&4294967295;C=R+(D<<7&4294967295|D>>>25),D=O+(P^C&(R^P))+b[1]+3905402710&4294967295,O=C+(D<<12&4294967295|D>>>20),D=P+(R^O&(C^R))+b[2]+606105819&4294967295,P=O+(D<<17&4294967295|D>>>15),D=R+(C^P&(O^C))+b[3]+3250441966&4294967295,R=P+(D<<22&4294967295|D>>>10),D=C+(O^R&(P^O))+b[4]+4118548399&4294967295,C=R+(D<<7&4294967295|D>>>25),D=O+(P^C&(R^P))+b[5]+1200080426&4294967295,O=C+(D<<12&4294967295|D>>>20),D=P+(R^O&(C^R))+b[6]+2821735955&4294967295,P=O+(D<<17&4294967295|D>>>15),D=R+(C^P&(O^C))+b[7]+4249261313&4294967295,R=P+(D<<22&4294967295|D>>>10),D=C+(O^R&(P^O))+b[8]+1770035416&4294967295,C=R+(D<<7&4294967295|D>>>25),D=O+(P^C&(R^P))+b[9]+2336552879&4294967295,O=C+(D<<12&4294967295|D>>>20),D=P+(R^O&(C^R))+b[10]+4294925233&4294967295,P=O+(D<<17&4294967295|D>>>15),D=R+(C^P&(O^C))+b[11]+2304563134&4294967295,R=P+(D<<22&4294967295|D>>>10),D=C+(O^R&(P^O))+b[12]+1804603682&4294967295,C=R+(D<<7&4294967295|D>>>25),D=O+(P^C&(R^P))+b[13]+4254626195&4294967295,O=C+(D<<12&4294967295|D>>>20),D=P+(R^O&(C^R))+b[14]+2792965006&4294967295,P=O+(D<<17&4294967295|D>>>15),D=R+(C^P&(O^C))+b[15]+1236535329&4294967295,R=P+(D<<22&4294967295|D>>>10),D=C+(P^O&(R^P))+b[1]+4129170786&4294967295,C=R+(D<<5&4294967295|D>>>27),D=O+(R^P&(C^R))+b[6]+3225465664&4294967295,O=C+(D<<9&4294967295|D>>>23),D=P+(C^R&(O^C))+b[11]+643717713&4294967295,P=O+(D<<14&4294967295|D>>>18),D=R+(O^C&(P^O))+b[0]+3921069994&4294967295,R=P+(D<<20&4294967295|D>>>12),D=C+(P^O&(R^P))+b[5]+3593408605&4294967295,C=R+(D<<5&4294967295|D>>>27),D=O+(R^P&(C^R))+b[10]+38016083&4294967295,O=C+(D<<9&4294967295|D>>>23),D=P+(C^R&(O^C))+b[15]+3634488961&4294967295,P=O+(D<<14&4294967295|D>>>18),D=R+(O^C&(P^O))+b[4]+3889429448&4294967295,R=P+(D<<20&4294967295|D>>>12),D=C+(P^O&(R^P))+b[9]+568446438&4294967295,C=R+(D<<5&4294967295|D>>>27),D=O+(R^P&(C^R))+b[14]+3275163606&4294967295,O=C+(D<<9&4294967295|D>>>23),D=P+(C^R&(O^C))+b[3]+4107603335&4294967295,P=O+(D<<14&4294967295|D>>>18),D=R+(O^C&(P^O))+b[8]+1163531501&4294967295,R=P+(D<<20&4294967295|D>>>12),D=C+(P^O&(R^P))+b[13]+2850285829&4294967295,C=R+(D<<5&4294967295|D>>>27),D=O+(R^P&(C^R))+b[2]+4243563512&4294967295,O=C+(D<<9&4294967295|D>>>23),D=P+(C^R&(O^C))+b[7]+1735328473&4294967295,P=O+(D<<14&4294967295|D>>>18),D=R+(O^C&(P^O))+b[12]+2368359562&4294967295,R=P+(D<<20&4294967295|D>>>12),D=C+(R^P^O)+b[5]+4294588738&4294967295,C=R+(D<<4&4294967295|D>>>28),D=O+(C^R^P)+b[8]+2272392833&4294967295,O=C+(D<<11&4294967295|D>>>21),D=P+(O^C^R)+b[11]+1839030562&4294967295,P=O+(D<<16&4294967295|D>>>16),D=R+(P^O^C)+b[14]+4259657740&4294967295,R=P+(D<<23&4294967295|D>>>9),D=C+(R^P^O)+b[1]+2763975236&4294967295,C=R+(D<<4&4294967295|D>>>28),D=O+(C^R^P)+b[4]+1272893353&4294967295,O=C+(D<<11&4294967295|D>>>21),D=P+(O^C^R)+b[7]+4139469664&4294967295,P=O+(D<<16&4294967295|D>>>16),D=R+(P^O^C)+b[10]+3200236656&4294967295,R=P+(D<<23&4294967295|D>>>9),D=C+(R^P^O)+b[13]+681279174&4294967295,C=R+(D<<4&4294967295|D>>>28),D=O+(C^R^P)+b[0]+3936430074&4294967295,O=C+(D<<11&4294967295|D>>>21),D=P+(O^C^R)+b[3]+3572445317&4294967295,P=O+(D<<16&4294967295|D>>>16),D=R+(P^O^C)+b[6]+76029189&4294967295,R=P+(D<<23&4294967295|D>>>9),D=C+(R^P^O)+b[9]+3654602809&4294967295,C=R+(D<<4&4294967295|D>>>28),D=O+(C^R^P)+b[12]+3873151461&4294967295,O=C+(D<<11&4294967295|D>>>21),D=P+(O^C^R)+b[15]+530742520&4294967295,P=O+(D<<16&4294967295|D>>>16),D=R+(P^O^C)+b[2]+3299628645&4294967295,R=P+(D<<23&4294967295|D>>>9),D=C+(P^(R|~O))+b[0]+4096336452&4294967295,C=R+(D<<6&4294967295|D>>>26),D=O+(R^(C|~P))+b[7]+1126891415&4294967295,O=C+(D<<10&4294967295|D>>>22),D=P+(C^(O|~R))+b[14]+2878612391&4294967295,P=O+(D<<15&4294967295|D>>>17),D=R+(O^(P|~C))+b[5]+4237533241&4294967295,R=P+(D<<21&4294967295|D>>>11),D=C+(P^(R|~O))+b[12]+1700485571&4294967295,C=R+(D<<6&4294967295|D>>>26),D=O+(R^(C|~P))+b[3]+2399980690&4294967295,O=C+(D<<10&4294967295|D>>>22),D=P+(C^(O|~R))+b[10]+4293915773&4294967295,P=O+(D<<15&4294967295|D>>>17),D=R+(O^(P|~C))+b[1]+2240044497&4294967295,R=P+(D<<21&4294967295|D>>>11),D=C+(P^(R|~O))+b[8]+1873313359&4294967295,C=R+(D<<6&4294967295|D>>>26),D=O+(R^(C|~P))+b[15]+4264355552&4294967295,O=C+(D<<10&4294967295|D>>>22),D=P+(C^(O|~R))+b[6]+2734768916&4294967295,P=O+(D<<15&4294967295|D>>>17),D=R+(O^(P|~C))+b[13]+1309151649&4294967295,R=P+(D<<21&4294967295|D>>>11),D=C+(P^(R|~O))+b[4]+4149444226&4294967295,C=R+(D<<6&4294967295|D>>>26),D=O+(R^(C|~P))+b[11]+3174756917&4294967295,O=C+(D<<10&4294967295|D>>>22),D=P+(C^(O|~R))+b[2]+718787259&4294967295,P=O+(D<<15&4294967295|D>>>17),D=R+(O^(P|~C))+b[9]+3951481745&4294967295,V.g[0]=V.g[0]+C&4294967295,V.g[1]=V.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,V.g[2]=V.g[2]+P&4294967295,V.g[3]=V.g[3]+O&4294967295}r.prototype.u=function(V,C){C===void 0&&(C=V.length);for(var R=C-this.blockSize,b=this.B,P=this.h,O=0;O<C;){if(P==0)for(;O<=R;)i(this,V,O),O+=this.blockSize;if(typeof V=="string"){for(;O<C;)if(b[P++]=V.charCodeAt(O++),P==this.blockSize){i(this,b),P=0;break}}else for(;O<C;)if(b[P++]=V[O++],P==this.blockSize){i(this,b),P=0;break}}this.h=P,this.o+=C},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var C=1;C<V.length-8;++C)V[C]=0;var R=8*this.o;for(C=V.length-8;C<V.length;++C)V[C]=R&255,R/=256;for(this.u(V),V=Array(16),C=R=0;4>C;++C)for(var b=0;32>b;b+=8)V[R++]=this.g[C]>>>b&255;return V};function o(V,C){var R=h;return Object.prototype.hasOwnProperty.call(R,V)?R[V]:R[V]=C(V)}function u(V,C){this.h=C;for(var R=[],b=!0,P=V.length-1;0<=P;P--){var O=V[P]|0;b&&O==C||(R[P]=O,b=!1)}this.g=R}var h={};function d(V){return-128<=V&&128>V?o(V,function(C){return new u([C|0],0>C?-1:0)}):new u([V|0],0>V?-1:0)}function f(V){if(isNaN(V)||!isFinite(V))return _;if(0>V)return x(f(-V));for(var C=[],R=1,b=0;V>=R;b++)C[b]=V/R|0,R*=4294967296;return new u(C,0)}function g(V,C){if(V.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(V.charAt(0)=="-")return x(g(V.substring(1),C));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=f(Math.pow(C,8)),b=_,P=0;P<V.length;P+=8){var O=Math.min(8,V.length-P),D=parseInt(V.substring(P,P+O),C);8>O?(O=f(Math.pow(C,O)),b=b.j(O).add(f(D))):(b=b.j(R),b=b.add(f(D)))}return b}var _=d(0),v=d(1),T=d(16777216);n=u.prototype,n.m=function(){if(I(this))return-x(this).m();for(var V=0,C=1,R=0;R<this.g.length;R++){var b=this.i(R);V+=(0<=b?b:4294967296+b)*C,C*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(w(this))return"0";if(I(this))return"-"+x(this).toString(V);for(var C=f(Math.pow(V,6)),R=this,b="";;){var P=$(R,C).g;R=L(R,P.j(C));var O=((0<R.g.length?R.g[0]:R.h)>>>0).toString(V);if(R=P,w(R))return O+b;for(;6>O.length;)O="0"+O;b=O+b}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function w(V){if(V.h!=0)return!1;for(var C=0;C<V.g.length;C++)if(V.g[C]!=0)return!1;return!0}function I(V){return V.h==-1}n.l=function(V){return V=L(this,V),I(V)?-1:w(V)?0:1};function x(V){for(var C=V.g.length,R=[],b=0;b<C;b++)R[b]=~V.g[b];return new u(R,~V.h).add(v)}n.abs=function(){return I(this)?x(this):this},n.add=function(V){for(var C=Math.max(this.g.length,V.g.length),R=[],b=0,P=0;P<=C;P++){var O=b+(this.i(P)&65535)+(V.i(P)&65535),D=(O>>>16)+(this.i(P)>>>16)+(V.i(P)>>>16);b=D>>>16,O&=65535,D&=65535,R[P]=D<<16|O}return new u(R,R[R.length-1]&-2147483648?-1:0)};function L(V,C){return V.add(x(C))}n.j=function(V){if(w(this)||w(V))return _;if(I(this))return I(V)?x(this).j(x(V)):x(x(this).j(V));if(I(V))return x(this.j(x(V)));if(0>this.l(T)&&0>V.l(T))return f(this.m()*V.m());for(var C=this.g.length+V.g.length,R=[],b=0;b<2*C;b++)R[b]=0;for(b=0;b<this.g.length;b++)for(var P=0;P<V.g.length;P++){var O=this.i(b)>>>16,D=this.i(b)&65535,te=V.i(P)>>>16,B=V.i(P)&65535;R[2*b+2*P]+=D*B,M(R,2*b+2*P),R[2*b+2*P+1]+=O*B,M(R,2*b+2*P+1),R[2*b+2*P+1]+=D*te,M(R,2*b+2*P+1),R[2*b+2*P+2]+=O*te,M(R,2*b+2*P+2)}for(b=0;b<C;b++)R[b]=R[2*b+1]<<16|R[2*b];for(b=C;b<2*C;b++)R[b]=0;return new u(R,0)};function M(V,C){for(;(V[C]&65535)!=V[C];)V[C+1]+=V[C]>>>16,V[C]&=65535,C++}function U(V,C){this.g=V,this.h=C}function $(V,C){if(w(C))throw Error("division by zero");if(w(V))return new U(_,_);if(I(V))return C=$(x(V),C),new U(x(C.g),x(C.h));if(I(C))return C=$(V,x(C)),new U(x(C.g),C.h);if(30<V.g.length){if(I(V)||I(C))throw Error("slowDivide_ only works with positive integers.");for(var R=v,b=C;0>=b.l(V);)R=j(R),b=j(b);var P=H(R,1),O=H(b,1);for(b=H(b,2),R=H(R,2);!w(b);){var D=O.add(b);0>=D.l(V)&&(P=P.add(R),O=D),b=H(b,1),R=H(R,1)}return C=L(V,P.j(C)),new U(P,C)}for(P=_;0<=V.l(C);){for(R=Math.max(1,Math.floor(V.m()/C.m())),b=Math.ceil(Math.log(R)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),O=f(R),D=O.j(C);I(D)||0<D.l(V);)R-=b,O=f(R),D=O.j(C);w(O)&&(O=v),P=P.add(O),V=L(V,D)}return new U(P,V)}n.A=function(V){return $(this,V).h},n.and=function(V){for(var C=Math.max(this.g.length,V.g.length),R=[],b=0;b<C;b++)R[b]=this.i(b)&V.i(b);return new u(R,this.h&V.h)},n.or=function(V){for(var C=Math.max(this.g.length,V.g.length),R=[],b=0;b<C;b++)R[b]=this.i(b)|V.i(b);return new u(R,this.h|V.h)},n.xor=function(V){for(var C=Math.max(this.g.length,V.g.length),R=[],b=0;b<C;b++)R[b]=this.i(b)^V.i(b);return new u(R,this.h^V.h)};function j(V){for(var C=V.g.length+1,R=[],b=0;b<C;b++)R[b]=V.i(b)<<1|V.i(b-1)>>>31;return new u(R,V.h)}function H(V,C){var R=C>>5;C%=32;for(var b=V.g.length-R,P=[],O=0;O<b;O++)P[O]=0<C?V.i(O+R)>>>C|V.i(O+R+1)<<32-C:V.i(O+R);return new u(P,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,fP=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=f,u.fromString=g,Fa=u}).apply(typeof jI<"u"?jI:typeof self<"u"?self:typeof window<"u"?window:{});var fm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pP,vd,mP,Nm,U0,gP,yP,_P;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,E,S){return p==Array.prototype||p==Object.prototype||(p[E]=S.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof fm=="object"&&fm];for(var E=0;E<p.length;++E){var S=p[E];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function i(p,E){if(E)e:{var S=r;p=p.split(".");for(var k=0;k<p.length-1;k++){var Y=p[k];if(!(Y in S))break e;S=S[Y]}p=p[p.length-1],k=S[p],E=E(k),E!=k&&E!=null&&e(S,p,{configurable:!0,writable:!0,value:E})}}function o(p,E){p instanceof String&&(p+="");var S=0,k=!1,Y={next:function(){if(!k&&S<p.length){var re=S++;return{value:E(re,p[re]),done:!1}}return k=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(p){return p||function(){return o(this,function(E,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function d(p){var E=typeof p;return E=E!="object"?E:p?Array.isArray(p)?"array":E:"null",E=="array"||E=="object"&&typeof p.length=="number"}function f(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function g(p,E,S){return p.call.apply(p.bind,arguments)}function _(p,E,S){if(!p)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,k),p.apply(E,Y)}}return function(){return p.apply(E,arguments)}}function v(p,E,S){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,v.apply(null,arguments)}function T(p,E){var S=Array.prototype.slice.call(arguments,1);return function(){var k=S.slice();return k.push.apply(k,arguments),p.apply(this,k)}}function w(p,E){function S(){}S.prototype=E.prototype,p.aa=E.prototype,p.prototype=new S,p.prototype.constructor=p,p.Qb=function(k,Y,re){for(var ge=Array(arguments.length-2),We=2;We<arguments.length;We++)ge[We-2]=arguments[We];return E.prototype[Y].apply(k,ge)}}function I(p){const E=p.length;if(0<E){const S=Array(E);for(let k=0;k<E;k++)S[k]=p[k];return S}return[]}function x(p,E){for(let S=1;S<arguments.length;S++){const k=arguments[S];if(d(k)){const Y=p.length||0,re=k.length||0;p.length=Y+re;for(let ge=0;ge<re;ge++)p[Y+ge]=k[ge]}else p.push(k)}}class L{constructor(E,S){this.i=E,this.j=S,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function M(p){return/^[\s\xa0]*$/.test(p)}function U(){var p=h.navigator;return p&&(p=p.userAgent)?p:""}function $(p){return $[" "](p),p}$[" "]=function(){};var j=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function H(p,E,S){for(const k in p)E.call(S,p[k],k,p)}function V(p,E){for(const S in p)E.call(void 0,p[S],S,p)}function C(p){const E={};for(const S in p)E[S]=p[S];return E}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(p,E){let S,k;for(let Y=1;Y<arguments.length;Y++){k=arguments[Y];for(S in k)p[S]=k[S];for(let re=0;re<R.length;re++)S=R[re],Object.prototype.hasOwnProperty.call(k,S)&&(p[S]=k[S])}}function P(p){var E=1;p=p.split(":");const S=[];for(;0<E&&p.length;)S.push(p.shift()),E--;return p.length&&S.push(p.join(":")),S}function O(p){h.setTimeout(()=>{throw p},0)}function D(){var p=Te;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class te{constructor(){this.h=this.g=null}add(E,S){const k=B.get();k.set(E,S),this.h?this.h.next=k:this.g=k,this.h=k}}var B=new L(()=>new ee,p=>p.reset());class ee{constructor(){this.next=this.g=this.h=null}set(E,S){this.h=E,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,ue=!1,Te=new te,z=()=>{const p=h.Promise.resolve(void 0);ie=()=>{p.then(ae)}};var ae=()=>{for(var p;p=D();){try{p.h.call(p.g)}catch(S){O(S)}var E=B;E.j(p),100>E.h&&(E.h++,p.next=E.g,E.g=p)}ue=!1};function be(){this.s=this.s,this.C=this.C}be.prototype.s=!1,be.prototype.ma=function(){this.s||(this.s=!0,this.N())},be.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const S=()=>{};h.addEventListener("test",S,E),h.removeEventListener("test",S,E)}catch{}return p}();function Oe(p,E){if(ve.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var S=this.type=p.type,k=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget){if(j){e:{try{$(E.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(E=null)}}else S=="mouseover"?E=p.fromElement:S=="mouseout"&&(E=p.toElement);this.relatedTarget=E,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:De[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Oe.aa.h.call(this)}}w(Oe,ve);var De={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),ze=0;function _t(p,E,S,k,Y){this.listener=p,this.proxy=null,this.src=E,this.type=S,this.capture=!!k,this.ha=Y,this.key=++ze,this.da=this.fa=!1}function $e(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Et(p){this.src=p,this.g={},this.h=0}Et.prototype.add=function(p,E,S,k,Y){var re=p.toString();p=this.g[re],p||(p=this.g[re]=[],this.h++);var ge=at(p,E,k,Y);return-1<ge?(E=p[ge],S||(E.fa=!1)):(E=new _t(E,this.src,re,!!k,Y),E.fa=S,p.push(E)),E};function Je(p,E){var S=E.type;if(S in p.g){var k=p.g[S],Y=Array.prototype.indexOf.call(k,E,void 0),re;(re=0<=Y)&&Array.prototype.splice.call(k,Y,1),re&&($e(E),p.g[S].length==0&&(delete p.g[S],p.h--))}}function at(p,E,S,k){for(var Y=0;Y<p.length;++Y){var re=p[Y];if(!re.da&&re.listener==E&&re.capture==!!S&&re.ha==k)return Y}return-1}var Jt="closure_lm_"+(1e6*Math.random()|0),fr={};function Mn(p,E,S,k,Y){if(Array.isArray(E)){for(var re=0;re<E.length;re++)Mn(p,E[re],S,k,Y);return null}return S=Hf(S),p&&p[Ct]?p.K(E,S,f(k)?!!k.capture:!1,Y):Or(p,E,S,!1,k,Y)}function Or(p,E,S,k,Y,re){if(!E)throw Error("Invalid event type");var ge=f(Y)?!!Y.capture:!!Y,We=jc(p);if(We||(p[Jt]=We=new Et(p)),S=We.add(E,S,k,ge,re),S.proxy)return S;if(k=Ln(),S.proxy=k,k.src=p,k.listener=S,p.addEventListener)ye||(Y=ge),Y===void 0&&(Y=!1),p.addEventListener(E.toString(),k,Y);else if(p.attachEvent)p.attachEvent(Pl(E.toString()),k);else if(p.addListener&&p.removeListener)p.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Ln(){function p(S){return E.call(p.src,p.listener,S)}const E=Hy;return p}function rr(p,E,S,k,Y){if(Array.isArray(E))for(var re=0;re<E.length;re++)rr(p,E[re],S,k,Y);else k=f(k)?!!k.capture:!!k,S=Hf(S),p&&p[Ct]?(p=p.i,E=String(E).toString(),E in p.g&&(re=p.g[E],S=at(re,S,k,Y),-1<S&&($e(re[S]),Array.prototype.splice.call(re,S,1),re.length==0&&(delete p.g[E],p.h--)))):p&&(p=jc(p))&&(E=p.g[E.toString()],p=-1,E&&(p=at(E,S,k,Y)),(S=-1<p?E[p]:null)&&Zr(S))}function Zr(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[Ct])Je(E.i,p);else{var S=p.type,k=p.proxy;E.removeEventListener?E.removeEventListener(S,k,p.capture):E.detachEvent?E.detachEvent(Pl(S),k):E.addListener&&E.removeListener&&E.removeListener(k),(S=jc(E))?(Je(S,p),S.h==0&&(S.src=null,E[Jt]=null)):$e(p)}}}function Pl(p){return p in fr?fr[p]:fr[p]="on"+p}function Hy(p,E){if(p.da)p=!0;else{E=new Oe(E,this);var S=p.listener,k=p.ha||p.src;p.fa&&Zr(p),p=S.call(k,E)}return p}function jc(p){return p=p[Jt],p instanceof Et?p:null}var ir="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hf(p){return typeof p=="function"?p:(p[ir]||(p[ir]=function(E){return p.handleEvent(E)}),p[ir])}function un(){be.call(this),this.i=new Et(this),this.M=this,this.F=null}w(un,be),un.prototype[Ct]=!0,un.prototype.removeEventListener=function(p,E,S,k){rr(this,p,E,S,k)};function yn(p,E){var S,k=p.F;if(k)for(S=[];k;k=k.F)S.push(k);if(p=p.M,k=E.type||E,typeof E=="string")E=new ve(E,p);else if(E instanceof ve)E.target=E.target||p;else{var Y=E;E=new ve(k,p),b(E,Y)}if(Y=!0,S)for(var re=S.length-1;0<=re;re--){var ge=E.g=S[re];Y=Zi(ge,k,!0,E)&&Y}if(ge=E.g=p,Y=Zi(ge,k,!0,E)&&Y,Y=Zi(ge,k,!1,E)&&Y,S)for(re=0;re<S.length;re++)ge=E.g=S[re],Y=Zi(ge,k,!1,E)&&Y}un.prototype.N=function(){if(un.aa.N.call(this),this.i){var p=this.i,E;for(E in p.g){for(var S=p.g[E],k=0;k<S.length;k++)$e(S[k]);delete p.g[E],p.h--}}this.F=null},un.prototype.K=function(p,E,S,k){return this.i.add(String(p),E,!1,S,k)},un.prototype.L=function(p,E,S,k){return this.i.add(String(p),E,!0,S,k)};function Zi(p,E,S,k){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();for(var Y=!0,re=0;re<E.length;++re){var ge=E[re];if(ge&&!ge.da&&ge.capture==S){var We=ge.listener,hn=ge.ha||ge.src;ge.fa&&Je(p.i,ge),Y=We.call(hn,k)!==!1&&Y}}return Y&&!k.defaultPrevented}function $f(p,E,S){if(typeof p=="function")S&&(p=v(p,S));else if(p&&typeof p.handleEvent=="function")p=v(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:h.setTimeout(p,E||0)}function zc(p){p.g=$f(()=>{p.g=null,p.i&&(p.i=!1,zc(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class $y extends be{constructor(E,S){super(),this.m=E,this.l=S,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:zc(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mo(p){be.call(this),this.h=p,this.g={}}w(mo,be);var Ks=[];function Un(p){H(p.g,function(E,S){this.g.hasOwnProperty(S)&&Zr(E)},p),p.g={}}mo.prototype.N=function(){mo.aa.N.call(this),Un(this)},mo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qc=h.JSON.stringify,di=h.JSON.parse,Kn=class{stringify(p){return h.JSON.stringify(p,void 0)}parse(p){return h.JSON.parse(p,void 0)}};function Hc(){}Hc.prototype.h=null;function Gf(p){return p.h||(p.h=p.i())}function Kf(){}var fi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ws(){ve.call(this,"d")}w(Ws,ve);function ei(){ve.call(this,"c")}w(ei,ve);var Dr={},Qs=null;function Ol(){return Qs=Qs||new un}Dr.La="serverreachability";function $c(p){ve.call(this,Dr.La,p)}w($c,ve);function Ys(p){const E=Ol();yn(E,new $c(E))}Dr.STAT_EVENT="statevent";function Dl(p,E){ve.call(this,Dr.STAT_EVENT,p),this.stat=E}w(Dl,ve);function Gt(p){const E=Ol();yn(E,new Dl(E,p))}Dr.Ma="timingevent";function Wf(p,E){ve.call(this,Dr.Ma,p),this.size=E}w(Wf,ve);function Xs(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){p()},E)}function Js(){this.g=!0}Js.prototype.xa=function(){this.g=!1};function Qf(p,E,S,k,Y,re){p.info(function(){if(p.g)if(re)for(var ge="",We=re.split("&"),hn=0;hn<We.length;hn++){var Qe=We[hn].split("=");if(1<Qe.length){var En=Qe[0];Qe=Qe[1];var dn=En.split("_");ge=2<=dn.length&&dn[1]=="type"?ge+(En+"="+Qe+"&"):ge+(En+"=redacted&")}}else ge=null;else ge=re;return"XMLHTTP REQ ("+k+") [attempt "+Y+"]: "+E+`
`+S+`
`+ge})}function Yf(p,E,S,k,Y,re,ge){p.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+Y+"]: "+E+`
`+S+`
`+re+" "+ge})}function Zs(p,E,S,k){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+_n(p,S)+(k?" "+k:"")})}function pi(p,E){p.info(function(){return"TIMEOUT: "+E})}Js.prototype.info=function(){};function _n(p,E){if(!p.g)return E;if(!E)return null;try{var S=JSON.parse(E);if(S){for(p=0;p<S.length;p++)if(Array.isArray(S[p])){var k=S[p];if(!(2>k.length)){var Y=k[1];if(Array.isArray(Y)&&!(1>Y.length)){var re=Y[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ge=1;ge<Y.length;ge++)Y[ge]=""}}}}return qc(S)}catch{return E}}var cn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},es={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},go;function Nl(){}w(Nl,Hc),Nl.prototype.g=function(){return new XMLHttpRequest},Nl.prototype.i=function(){return{}},go=new Nl;function mi(p,E,S,k){this.j=p,this.i=E,this.l=S,this.R=k||1,this.U=new mo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Gc}function Gc(){this.i=null,this.g="",this.h=!1}var ea={},yo={};function ti(p,E,S){p.L=1,p.v=Eo(Lt(E)),p.m=S,p.P=!0,ts(p,null)}function ts(p,E){p.F=Date.now(),xt(p),p.A=Lt(p.v);var S=p.A,k=p.R;Array.isArray(k)||(k=[String(k)]),is(S.i,"t",k),p.C=0,S=p.j.J,p.h=new Gc,p.g=cp(p.j,S?E:null,!p.m),0<p.O&&(p.M=new $y(v(p.Y,p,p.g),p.O)),E=p.U,S=p.g,k=p.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(Ks[0]=Y.toString()),Y=Ks);for(var re=0;re<Y.length;re++){var ge=Mn(S,Y[re],k||E.handleEvent,!1,E.h||E);if(!ge)break;E.g[ge.key]=ge}E=p.H?C(p.H):{},p.m?(p.u||(p.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,E)):(p.u="GET",p.g.ea(p.A,p.u,null,E)),Ys(),Qf(p.i,p.u,p.A,p.l,p.R,p.m)}mi.prototype.ca=function(p){p=p.target;const E=this.M;E&&Lr(p)==3?E.j():this.Y(p)},mi.prototype.Y=function(p){try{if(p==this.g)e:{const dn=Lr(this.g);var E=this.g.Ba();const ls=this.g.Z();if(!(3>dn)&&(dn!=3||this.g&&(this.h.h||this.g.oa()||np(this.g)))){this.J||dn!=4||E==7||(E==8||0>=ls?Ys(3):Ys(2)),kl(this);var S=this.g.Z();this.X=S;t:if(ta(this)){var k=np(this.g);p="";var Y=k.length,re=Lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sr(this),pr(this);var ge="";break t}this.h.i=new h.TextDecoder}for(E=0;E<Y;E++)this.h.h=!0,p+=this.h.i.decode(k[E],{stream:!(re&&E==Y-1)});k.length=0,this.h.g+=p,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=S==200,Yf(this.i,this.u,this.A,this.l,this.R,dn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var We,hn=this.g;if((We=hn.g?hn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(We)){var Qe=We;break t}}Qe=null}if(S=Qe)Zs(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mr(this,S);else{this.o=!1,this.s=3,Gt(12),sr(this),pr(this);break e}}if(this.P){S=!0;let Cn;for(;!this.J&&this.C<ge.length;)if(Cn=na(this,ge),Cn==yo){dn==4&&(this.s=4,Gt(14),S=!1),Zs(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==ea){this.s=4,Gt(15),Zs(this.i,this.l,ge,"[Invalid Chunk]"),S=!1;break}else Zs(this.i,this.l,Cn,null),mr(this,Cn);if(ta(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dn!=4||ge.length!=0||this.h.h||(this.s=1,Gt(16),S=!1),this.o=this.o&&S,!S)Zs(this.i,this.l,ge,"[Invalid Chunked Response]"),sr(this),pr(this);else if(0<ge.length&&!this.W){this.W=!0;var En=this.j;En.g==this&&En.ba&&!En.M&&(En.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Ro(En),En.M=!0,Gt(11))}}else Zs(this.i,this.l,ge,null),mr(this,ge);dn==4&&sr(this),this.o&&!this.J&&(dn==4?op(this.j,this):(this.o=!1,xt(this)))}else Xy(this.g),S==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),sr(this),pr(this)}}}catch{}finally{}};function ta(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function na(p,E){var S=p.C,k=E.indexOf(`
`,S);return k==-1?yo:(S=Number(E.substring(S,k)),isNaN(S)?ea:(k+=1,k+S>E.length?yo:(E=E.slice(k,k+S),p.C=k+S,E)))}mi.prototype.cancel=function(){this.J=!0,sr(this)};function xt(p){p.S=Date.now()+p.I,Kc(p,p.I)}function Kc(p,E){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Xs(v(p.ba,p),E)}function kl(p){p.B&&(h.clearTimeout(p.B),p.B=null)}mi.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(pi(this.i,this.A),this.L!=2&&(Ys(),Gt(17)),sr(this),this.s=2,pr(this)):Kc(this,this.S-p)};function pr(p){p.j.G==0||p.J||op(p.j,p)}function sr(p){kl(p);var E=p.M;E&&typeof E.ma=="function"&&E.ma(),p.M=null,Un(p.U),p.g&&(E=p.g,p.g=null,E.abort(),E.ma())}function mr(p,E){try{var S=p.j;if(S.G!=0&&(S.g==p||ra(S.h,p))){if(!p.K&&ra(S.h,p)&&S.G==3){try{var k=S.Da.g.parse(E)}catch{k=null}if(Array.isArray(k)&&k.length==3){var Y=k;if(Y[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<p.F)Hl(S),zl(S);else break e;ih(S),Gt(18)}}else S.za=Y[1],0<S.za-S.T&&37500>Y[2]&&S.F&&S.v==0&&!S.C&&(S.C=Xs(v(S.Za,S),6e3));if(1>=Xf(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else os(S,11)}else if((p.K||S.g==p)&&Hl(S),!M(E))for(Y=S.Da.g.parse(E),E=0;E<Y.length;E++){let Qe=Y[E];if(S.T=Qe[0],Qe=Qe[1],S.G==2)if(Qe[0]=="c"){S.K=Qe[1],S.ia=Qe[2];const En=Qe[3];En!=null&&(S.la=En,S.j.info("VER="+S.la));const dn=Qe[4];dn!=null&&(S.Aa=dn,S.j.info("SVER="+S.Aa));const ls=Qe[5];ls!=null&&typeof ls=="number"&&0<ls&&(k=1.5*ls,S.L=k,S.j.info("backChannelRequestTimeoutMs_="+k)),k=S;const Cn=p.g;if(Cn){const wi=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wi){var re=k.h;re.g||wi.indexOf("spdy")==-1&&wi.indexOf("quic")==-1&&wi.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(ia(re,re.h),re.h=null))}if(k.D){const ah=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;ah&&(k.ya=ah,Ze(k.I,k.D,ah))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-p.F,S.j.info("Handshake RTT: "+S.R+"ms")),k=S;var ge=p;if(k.qa=up(k,k.J?k.ia:null,k.W),ge.K){Nr(k.h,ge);var We=ge,hn=k.L;hn&&(We.I=hn),We.B&&(kl(We),xt(We)),k.g=ge}else sp(k);0<S.i.length&&ql(S)}else Qe[0]!="stop"&&Qe[0]!="close"||os(S,7);else S.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?os(S,7):nh(S):Qe[0]!="noop"&&S.l&&S.l.ta(Qe),S.v=0)}}Ys(4)}catch{}}var Gy=class{constructor(p,E){this.g=p,this.map=E}};function Wc(p){this.l=p||10,h.PerformanceNavigationTiming?(p=h.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qc(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Xf(p){return p.h?1:p.g?p.g.size:0}function ra(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function ia(p,E){p.g?p.g.add(E):p.h=E}function Nr(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}Wc.prototype.cancel=function(){if(this.i=Wn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Wn(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const S of p.g.values())E=E.concat(S.D);return E}return I(p.i)}function Jf(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(d(p)){for(var E=[],S=p.length,k=0;k<S;k++)E.push(p[k]);return E}E=[],S=0;for(k in p)E[S++]=p[k];return E}function Ky(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(d(p)||typeof p=="string"){var E=[];p=p.length;for(var S=0;S<p;S++)E.push(S);return E}E=[],S=0;for(const k in p)E[S++]=k;return E}}}function _o(p,E){if(p.forEach&&typeof p.forEach=="function")p.forEach(E,void 0);else if(d(p)||typeof p=="string")Array.prototype.forEach.call(p,E,void 0);else for(var S=Ky(p),k=Jf(p),Y=k.length,re=0;re<Y;re++)E.call(void 0,k[re],S&&S[re],p)}var Yc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vl(p,E){if(p){p=p.split("&");for(var S=0;S<p.length;S++){var k=p[S].indexOf("="),Y=null;if(0<=k){var re=p[S].substring(0,k);Y=p[S].substring(k+1)}else re=p[S];E(re,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function ns(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof ns){this.h=p.h,sa(this,p.j),this.o=p.o,this.g=p.g,vo(this,p.s),this.l=p.l;var E=p.i,S=new gi;S.i=E.i,E.g&&(S.g=new Map(E.g),S.h=E.h),Ml(this,S),this.m=p.m}else p&&(E=String(p).match(Yc))?(this.h=!1,sa(this,E[1]||"",!0),this.o=aa(E[2]||""),this.g=aa(E[3]||"",!0),vo(this,E[4]),this.l=aa(E[5]||"",!0),Ml(this,E[6]||"",!0),this.m=aa(E[7]||"")):(this.h=!1,this.i=new gi(null,this.h))}ns.prototype.toString=function(){var p=[],E=this.j;E&&p.push(kr(E,Xc,!0),":");var S=this.g;return(S||E=="file")&&(p.push("//"),(E=this.o)&&p.push(kr(E,Xc,!0),"@"),p.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&p.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&p.push("/"),p.push(kr(S,S.charAt(0)=="/"?Jc:Zf,!0))),(S=this.i.toString())&&p.push("?",S),(S=this.m)&&p.push("#",kr(S,Yy)),p.join("")};function Lt(p){return new ns(p)}function sa(p,E,S){p.j=S?aa(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function vo(p,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);p.s=E}else p.s=null}function Ml(p,E,S){E instanceof gi?(p.i=E,Zc(p.i,p.h)):(S||(E=kr(E,Qy)),p.i=new gi(E,p.h))}function Ze(p,E,S){p.i.set(E,S)}function Eo(p){return Ze(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function aa(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function kr(p,E,S){return typeof p=="string"?(p=encodeURI(p).replace(E,Wy),S&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Wy(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Xc=/[#\/\?@]/g,Zf=/[#\?:]/g,Jc=/[#\?]/g,Qy=/[#\?@]/g,Yy=/#/g;function gi(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function Vr(p){p.g||(p.g=new Map,p.h=0,p.i&&Vl(p.i,function(E,S){p.add(decodeURIComponent(E.replace(/\+/g," ")),S)}))}n=gi.prototype,n.add=function(p,E){Vr(this),this.i=null,p=ss(this,p);var S=this.g.get(p);return S||this.g.set(p,S=[]),S.push(E),this.h+=1,this};function Ll(p,E){Vr(p),E=ss(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function rs(p,E){return Vr(p),E=ss(p,E),p.g.has(E)}n.forEach=function(p,E){Vr(this),this.g.forEach(function(S,k){S.forEach(function(Y){p.call(E,Y,k,this)},this)},this)},n.na=function(){Vr(this);const p=Array.from(this.g.values()),E=Array.from(this.g.keys()),S=[];for(let k=0;k<E.length;k++){const Y=p[k];for(let re=0;re<Y.length;re++)S.push(E[k])}return S},n.V=function(p){Vr(this);let E=[];if(typeof p=="string")rs(this,p)&&(E=E.concat(this.g.get(ss(this,p))));else{p=Array.from(this.g.values());for(let S=0;S<p.length;S++)E=E.concat(p[S])}return E},n.set=function(p,E){return Vr(this),this.i=null,p=ss(this,p),rs(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},n.get=function(p,E){return p?(p=this.V(p),0<p.length?String(p[0]):E):E};function is(p,E,S){Ll(p,E),0<S.length&&(p.i=null,p.g.set(ss(p,E),I(S)),p.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(var S=0;S<E.length;S++){var k=E[S];const re=encodeURIComponent(String(k)),ge=this.V(k);for(k=0;k<ge.length;k++){var Y=re;ge[k]!==""&&(Y+="="+encodeURIComponent(String(ge[k]))),p.push(Y)}}return this.i=p.join("&")};function ss(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function Zc(p,E){E&&!p.j&&(Vr(p),p.i=null,p.g.forEach(function(S,k){var Y=k.toLowerCase();k!=Y&&(Ll(this,k),is(this,Y,S))},p)),p.j=E}function ep(p,E){const S=new Js;if(h.Image){const k=new Image;k.onload=T(Mr,S,"TestLoadImage: loaded",!0,E,k),k.onerror=T(Mr,S,"TestLoadImage: error",!1,E,k),k.onabort=T(Mr,S,"TestLoadImage: abort",!1,E,k),k.ontimeout=T(Mr,S,"TestLoadImage: timeout",!1,E,k),h.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=p}else E(!1)}function bo(p,E){const S=new Js,k=new AbortController,Y=setTimeout(()=>{k.abort(),Mr(S,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:k.signal}).then(re=>{clearTimeout(Y),re.ok?Mr(S,"TestPingServer: ok",!0,E):Mr(S,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Y),Mr(S,"TestPingServer: error",!1,E)})}function Mr(p,E,S,k,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),k(S)}catch{}}function wo(){this.g=new Kn}function yi(p,E,S){const k=S||"";try{_o(p,function(Y,re){let ge=Y;f(Y)&&(ge=qc(Y)),E.push(k+re+"="+encodeURIComponent(ge))})}catch(Y){throw E.push(k+"type="+encodeURIComponent("_badmap")),Y}}function oa(p){this.l=p.Ub||null,this.j=p.eb||!1}w(oa,Hc),oa.prototype.g=function(){return new as(this.l,this.j)},oa.prototype.i=function(p){return function(){return p}}({});function as(p,E){un.call(this),this.D=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(as,un),n=as.prototype,n.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=E,this.readyState=1,vi(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(E.body=p),(this.D||h).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_i(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;eh(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function eh(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?_i(this):vi(this),this.readyState==3&&eh(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,_i(this))},n.Qa=function(p){this.g&&(this.response=p,_i(this))},n.ga=function(){this.g&&_i(this)};function _i(p){p.readyState=4,p.l=null,p.j=null,p.v=null,vi(p)}n.setRequestHeader=function(p,E){this.u.append(p,E)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var S=E.next();!S.done;)S=S.value,p.push(S[0]+": "+S[1]),S=E.next();return p.join(`\r
`)};function vi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(as.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function th(p){let E="";return H(p,function(S,k){E+=k,E+=":",E+=S,E+=`\r
`}),E}function vn(p,E,S){e:{for(k in S){var k=!1;break e}k=!0}k||(S=th(S),typeof p=="string"?S!=null&&encodeURIComponent(String(S)):Ze(p,E,S))}function st(p){un.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(st,un);var Ul=/^https?$/i,To=["POST","PUT"];n=st.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,E,S,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():go.g(),this.v=this.o?Gf(this.o):Gf(go),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(re){tp(this,re);return}if(p=S||"",S=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var Y in k)S.set(Y,k[Y]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const re of k.keys())S.set(re,k.get(re));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(S.keys()).find(re=>re.toLowerCase()=="content-type"),Y=h.FormData&&p instanceof h.FormData,!(0<=Array.prototype.indexOf.call(To,E,void 0))||k||Y||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ge]of S)this.g.setRequestHeader(re,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{So(this),this.u=!0,this.g.send(p),this.u=!1}catch(re){tp(this,re)}};function tp(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.m=5,Bl(p),Ei(p)}function Bl(p){p.A||(p.A=!0,yn(p,"complete"),yn(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,yn(this,"complete"),yn(this,"abort"),Ei(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ei(this,!0)),st.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Fl(this):this.bb())},n.bb=function(){Fl(this)};function Fl(p){if(p.h&&typeof u<"u"&&(!p.v[1]||Lr(p)!=4||p.Z()!=2)){if(p.u&&Lr(p)==4)$f(p.Ea,0,p);else if(yn(p,"readystatechange"),Lr(p)==4){p.h=!1;try{const ge=p.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var S;if(!(S=E)){var k;if(k=ge===0){var Y=String(p.D).match(Yc)[1]||null;!Y&&h.self&&h.self.location&&(Y=h.self.location.protocol.slice(0,-1)),k=!Ul.test(Y?Y.toLowerCase():"")}S=k}if(S)yn(p,"complete"),yn(p,"success");else{p.m=6;try{var re=2<Lr(p)?p.g.statusText:""}catch{re=""}p.l=re+" ["+p.Z()+"]",Bl(p)}}finally{Ei(p)}}}}function Ei(p,E){if(p.g){So(p);const S=p.g,k=p.v[0]?()=>{}:null;p.g=null,p.v=null,E||yn(p,"ready");try{S.onreadystatechange=k}catch{}}}function So(p){p.I&&(h.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function Lr(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<Lr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),di(E)}};function np(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Xy(p){const E={};p=(p.g&&2<=Lr(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<p.length;k++){if(M(p[k]))continue;var S=P(p[k]);const Y=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const re=E[Y]||[];E[Y]=re,re.push(S)}V(E,function(k){return k.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ao(p,E,S){return S&&S.internalChannelParams&&S.internalChannelParams[p]||E}function jl(p){this.Aa=0,this.i=[],this.j=new Js,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ao("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ao("baseRetryDelayMs",5e3,p),this.cb=Ao("retryDelaySeedMs",1e4,p),this.Wa=Ao("forwardChannelMaxRetries",2,p),this.wa=Ao("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Wc(p&&p.concurrentRequestLimit),this.Da=new wo,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=jl.prototype,n.la=8,n.G=1,n.connect=function(p,E,S,k){Gt(0),this.W=p,this.H=E||{},S&&k!==void 0&&(this.H.OSID=S,this.H.OAID=k),this.F=this.X,this.I=up(this,null,this.W),ql(this)};function nh(p){if(rp(p),p.G==3){var E=p.U++,S=Lt(p.I);if(Ze(S,"SID",p.K),Ze(S,"RID",E),Ze(S,"TYPE","terminate"),Io(p,S),E=new mi(p,p.j,E),E.L=2,E.v=Eo(Lt(S)),S=!1,h.navigator&&h.navigator.sendBeacon)try{S=h.navigator.sendBeacon(E.v.toString(),"")}catch{}!S&&h.Image&&(new Image().src=E.v,S=!0),S||(E.g=cp(E.j,null),E.g.ea(E.v)),E.F=Date.now(),xt(E)}lp(p)}function zl(p){p.g&&(Ro(p),p.g.cancel(),p.g=null)}function rp(p){zl(p),p.u&&(h.clearTimeout(p.u),p.u=null),Hl(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&h.clearTimeout(p.s),p.s=null)}function ql(p){if(!Qc(p.h)&&!p.s){p.s=!0;var E=p.Ga;ie||z(),ue||(ie(),ue=!0),Te.add(E,p),p.B=0}}function Jy(p,E){return Xf(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=E.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Xs(v(p.Ga,p,E),sh(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Y=new mi(this,this.j,p);let re=this.o;if(this.S&&(re?(re=C(re),b(re,this.S)):re=this.S),this.m!==null||this.O||(Y.H=re,re=null),this.P)e:{for(var E=0,S=0;S<this.i.length;S++){t:{var k=this.i[S];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(E+=k,4096<E){E=S;break e}if(E===4096||S===this.i.length-1){E=S+1;break e}}E=1e3}else E=1e3;E=ip(this,Y,E),S=Lt(this.I),Ze(S,"RID",p),Ze(S,"CVER",22),this.D&&Ze(S,"X-HTTP-Session-Id",this.D),Io(this,S),re&&(this.O?E="headers="+encodeURIComponent(String(th(re)))+"&"+E:this.m&&vn(S,this.m,re)),ia(this.h,Y),this.Ua&&Ze(S,"TYPE","init"),this.P?(Ze(S,"$req",E),Ze(S,"SID","null"),Y.T=!0,ti(Y,S,null)):ti(Y,S,E),this.G=2}}else this.G==3&&(p?rh(this,p):this.i.length==0||Qc(this.h)||rh(this))};function rh(p,E){var S;E?S=E.l:S=p.U++;const k=Lt(p.I);Ze(k,"SID",p.K),Ze(k,"RID",S),Ze(k,"AID",p.T),Io(p,k),p.m&&p.o&&vn(k,p.m,p.o),S=new mi(p,p.j,S,p.B+1),p.m===null&&(S.H=p.o),E&&(p.i=E.D.concat(p.i)),E=ip(p,S,1e3),S.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),ia(p.h,S),ti(S,k,E)}function Io(p,E){p.H&&H(p.H,function(S,k){Ze(E,k,S)}),p.l&&_o({},function(S,k){Ze(E,k,S)})}function ip(p,E,S){S=Math.min(p.i.length,S);var k=p.l?v(p.l.Na,p.l,p):null;e:{var Y=p.i;let re=-1;for(;;){const ge=["count="+S];re==-1?0<S?(re=Y[0].g,ge.push("ofs="+re)):re=0:ge.push("ofs="+re);let We=!0;for(let hn=0;hn<S;hn++){let Qe=Y[hn].g;const En=Y[hn].map;if(Qe-=re,0>Qe)re=Math.max(0,Y[hn].g-100),We=!1;else try{yi(En,ge,"req"+Qe+"_")}catch{k&&k(En)}}if(We){k=ge.join("&");break e}}}return p=p.i.splice(0,S),E.D=p,k}function sp(p){if(!p.g&&!p.u){p.Y=1;var E=p.Fa;ie||z(),ue||(ie(),ue=!0),Te.add(E,p),p.v=0}}function ih(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Xs(v(p.Fa,p),sh(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,ap(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Xs(v(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Gt(10),zl(this),ap(this))};function Ro(p){p.A!=null&&(h.clearTimeout(p.A),p.A=null)}function ap(p){p.g=new mi(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var E=Lt(p.qa);Ze(E,"RID","rpc"),Ze(E,"SID",p.K),Ze(E,"AID",p.T),Ze(E,"CI",p.F?"0":"1"),!p.F&&p.ja&&Ze(E,"TO",p.ja),Ze(E,"TYPE","xmlhttp"),Io(p,E),p.m&&p.o&&vn(E,p.m,p.o),p.L&&(p.g.I=p.L);var S=p.g;p=p.ia,S.L=1,S.v=Eo(Lt(E)),S.m=null,S.P=!0,ts(S,p)}n.Za=function(){this.C!=null&&(this.C=null,zl(this),ih(this),Gt(19))};function Hl(p){p.C!=null&&(h.clearTimeout(p.C),p.C=null)}function op(p,E){var S=null;if(p.g==E){Hl(p),Ro(p),p.g=null;var k=2}else if(ra(p.h,E))S=E.D,Nr(p.h,E),k=1;else return;if(p.G!=0){if(E.o)if(k==1){S=E.m?E.m.length:0,E=Date.now()-E.F;var Y=p.B;k=Ol(),yn(k,new Wf(k,S)),ql(p)}else sp(p);else if(Y=E.s,Y==3||Y==0&&0<E.X||!(k==1&&Jy(p,E)||k==2&&ih(p)))switch(S&&0<S.length&&(E=p.h,E.i=E.i.concat(S)),Y){case 1:os(p,5);break;case 4:os(p,10);break;case 3:os(p,6);break;default:os(p,2)}}}function sh(p,E){let S=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(S*=2),S*E}function os(p,E){if(p.j.info("Error code "+E),E==2){var S=v(p.fb,p),k=p.Xa;const Y=!k;k=new ns(k||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||sa(k,"https"),Eo(k),Y?ep(k.toString(),S):bo(k.toString(),S)}else Gt(2);p.G=0,p.l&&p.l.sa(E),lp(p),rp(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function lp(p){if(p.G=0,p.ka=[],p.l){const E=Wn(p.h);(E.length!=0||p.i.length!=0)&&(x(p.ka,E),x(p.ka,p.i),p.h.i.length=0,I(p.i),p.i.length=0),p.l.ra()}}function up(p,E,S){var k=S instanceof ns?Lt(S):new ns(S);if(k.g!="")E&&(k.g=E+"."+k.g),vo(k,k.s);else{var Y=h.location;k=Y.protocol,E=E?E+"."+Y.hostname:Y.hostname,Y=+Y.port;var re=new ns(null);k&&sa(re,k),E&&(re.g=E),Y&&vo(re,Y),S&&(re.l=S),k=re}return S=p.D,E=p.ya,S&&E&&Ze(k,S,E),Ze(k,"VER",p.la),Io(p,k),k}function cp(p,E,S){if(E&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Ca&&!p.pa?new st(new oa({eb:S})):new st(p.pa),E.Ha(p.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function hp(){}n=hp.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function $l(){}$l.prototype.g=function(p,E){return new Qn(p,E)};function Qn(p,E){un.call(this),this.g=new jl(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(p?p["X-WebChannel-Client-Profile"]=E.va:p={"X-WebChannel-Client-Profile":E.va}),this.g.S=p,(p=E&&E.Sb)&&!M(p)&&(this.g.m=p),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!M(E)&&(this.g.D=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new bi(this)}w(Qn,un),Qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qn.prototype.close=function(){nh(this.g)},Qn.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var S={};S.__data__=p,p=S}else this.u&&(S={},S.__data__=qc(p),p=S);E.i.push(new Gy(E.Ya++,p)),E.G==3&&ql(E)},Qn.prototype.N=function(){this.g.l=null,delete this.j,nh(this.g),delete this.g,Qn.aa.N.call(this)};function dp(p){Ws.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const S in E){p=S;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}w(dp,Ws);function fp(){ei.call(this),this.status=1}w(fp,ei);function bi(p){this.g=p}w(bi,hp),bi.prototype.ua=function(){yn(this.g,"a")},bi.prototype.ta=function(p){yn(this.g,new dp(p))},bi.prototype.sa=function(p){yn(this.g,new fp)},bi.prototype.ra=function(){yn(this.g,"b")},$l.prototype.createWebChannel=$l.prototype.g,Qn.prototype.send=Qn.prototype.o,Qn.prototype.open=Qn.prototype.m,Qn.prototype.close=Qn.prototype.close,_P=function(){return new $l},yP=function(){return Ol()},gP=Dr,U0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cn.NO_ERROR=0,cn.TIMEOUT=8,cn.HTTP_ERROR=6,Nm=cn,es.COMPLETE="complete",mP=es,Kf.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",un.prototype.listen=un.prototype.K,vd=Kf,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,pP=st}).apply(typeof fm<"u"?fm:typeof self<"u"?self:typeof window<"u"?window:{});const zI="@firebase/firestore",qI="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let An=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=new Bg("@firebase/firestore");function Pu(){return Wa.logLevel}function uF(n){Wa.setLogLevel(n)}function pe(n,...e){if(Wa.logLevel<=je.DEBUG){const t=e.map(fb);Wa.debug(`Firestore (${Cc}): ${n}`,...t)}}function Wt(n,...e){if(Wa.logLevel<=je.ERROR){const t=e.map(fb);Wa.error(`Firestore (${Cc}): ${n}`,...t)}}function Wi(n,...e){if(Wa.logLevel<=je.WARN){const t=e.map(fb);Wa.warn(`Firestore (${Cc}): ${n}`,...t)}}function fb(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(n="Unexpected state"){const e=`FIRESTORE (${Cc}) INTERNAL ASSERTION FAILED: `+n;throw Wt(e),new Error(e)}function Ae(n,e){n||we()}function cF(n,e){n||we()}function Ee(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends er{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(An.UNAUTHENTICATED))}shutdown(){}}class dF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class fF{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ae(this.o===void 0);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new Vn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Vn,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},h=d=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Vn)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new vP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new An(e)}}class pF{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=An.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class mF{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new pF(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(An.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gF{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Tt(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ae(this.o===void 0);const r=o=>{o.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.R;return this.R=o.token,pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new HI(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ae(typeof t.token=="string"),this.R=t.token,new HI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=yF(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function Ne(n,e){return n<e?-1:n>e?1:0}function Ju(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function bP(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=-62135596800,GI=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*GI);return new It(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<$I)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/GI}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-$I;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new It(0,0))}static max(){return new Re(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="__name__";class Pi{constructor(e,t,r){t===void 0?t=0:t>e.length&&we(),r===void 0?r=e.length-t:r>e.length-t&&we(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Pi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=Pi.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Pi.isNumericId(e),i=Pi.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Pi.extractNumericId(e).compare(Pi.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fa.fromString(e.substring(4,e.length-2))}}class qe extends Pi{construct(e,t,r){return new qe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new qe(t)}static emptyPath(){return new qe([])}}const _F=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends Pi{construct(e,t,r){return new St(e,t,r)}static isValidIdentifier(e){return _F.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===KI}static keyField(){return new St([KI])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new de(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new de(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else h==="`"?(u=!u,i++):h!=="."||u?(r+=h,i++):(o(),i++)}if(o(),u)throw new de(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(t)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(qe.fromString(e))}static fromName(e){return new _e(qe.fromString(e).popFirst(5))}static empty(){return new _e(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new qe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=-1;class cg{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function B0(n){return n.fields.find(e=>e.kind===2)}function Qo(n){return n.fields.filter(e=>e.kind!==2)}cg.UNKNOWN_ID=-1;class km{constructor(e,t){this.fieldPath=e,this.kind=t}}class Gd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Gd(0,Pr.min())}}function wP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Re.fromTimestamp(r===1e9?new It(t+1,0):new It(t,r));return new Pr(i,_e.empty(),e)}function TP(n){return new Pr(n.readTime,n.key,Zu)}class Pr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Pr(Re.min(),_e.empty(),Zu)}static max(){return new Pr(Re.max(),_e.empty(),Zu)}}function pb(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:Ne(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==SP)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,r)=>{t(e)})}static reject(e){return new X((t,r)=>{r(e)})}static waitFor(e){return new X((t,r)=>{let i=0,o=0,u=!1;e.forEach(h=>{++i,h.next(()=>{++o,u&&o===i&&t()},d=>r(d))}),u=!0,o===i&&t()})}static or(e){let t=X.resolve(!1);for(const r of e)t=t.next(i=>i?X.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new X((r,i)=>{const o=e.length,u=new Array(o);let h=0;for(let d=0;d<o;d++){const f=d;t(e[f]).next(g=>{u[f]=g,++h,h===o&&r(u)},g=>i(g))}})}static doWhile(e,t){return new X((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="SimpleDb";class Jg{static open(e,t,r,i){try{return new Jg(t,e.transaction(i,r))}catch(o){throw new xd(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.m=new Vn,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{t.error?this.m.reject(new xd(e,t.error)):this.m.resolve()},this.transaction.onerror=r=>{const i=mb(r.target.error);this.m.reject(new xd(e,i))}}get p(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(pe(Tr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}S(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new EF(t)}}class zi{static delete(e){return pe(Tr,"Removing database:",e),Xo(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Fd())return!1;if(zi.v())return!0;const e=Vt(),t=zi.C(e),r=0<t&&t<10,i=IP(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,t){return e.store(t)}static C(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.O=r,zi.C(Vt())===12.2&&Wt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async N(e){return this.db||(pe(Tr,"Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const u=o.target.result;t(u)},i.onblocked=()=>{r(new xd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const u=o.target.error;u.name==="VersionError"?r(new de(ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?r(new de(ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):r(new xd(e,u))},i.onupgradeneeded=o=>{pe(Tr,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const u=o.target.result;this.O.B(u,i.transaction,o.oldVersion,this.version).next(()=>{pe(Tr,"Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=t=>this.L(t)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const o=t==="readonly";let u=0;for(;;){++u;try{this.db=await this.N(e);const h=Jg.open(this.db,e,o?"readonly":"readwrite",r),d=i(h).next(f=>(h.S(),f)).catch(f=>(h.abort(f),X.reject(f))).toPromise();return d.catch(()=>{}),await h.p,d}catch(h){const d=h,f=d.name!=="FirebaseError"&&u<3;if(pe(Tr,"Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function IP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class vF{constructor(e){this.q=e,this.$=!1,this.K=null}get isDone(){return this.$}get U(){return this.K}set cursor(e){this.q=e}done(){this.$=!0}W(e){this.K=e}delete(){return Xo(this.q.delete())}}class xd extends de{constructor(e,t){super(ne.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function co(n){return n.name==="IndexedDbTransactionError"}class EF{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(pe(Tr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(pe(Tr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Xo(r)}add(e){return pe(Tr,"ADD",this.store.name,e,e),Xo(this.store.add(e))}get(e){return Xo(this.store.get(e)).next(t=>(t===void 0&&(t=null),pe(Tr,"GET",this.store.name,e,t),t))}delete(e){return pe(Tr,"DELETE",this.store.name,e),Xo(this.store.delete(e))}count(){return pe(Tr,"COUNT",this.store.name),Xo(this.store.count())}G(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new X((u,h)=>{o.onerror=d=>{h(d.target.error)},o.onsuccess=d=>{u(d.target.result)}})}{const o=this.cursor(r),u=[];return this.j(o,(h,d)=>{u.push(d)}).next(()=>u)}}H(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new X((i,o)=>{r.onerror=u=>{o(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}J(e,t){pe(Tr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.j(i,(o,u,h)=>h.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.j(i,t)}X(e){const t=this.cursor({});return new X((r,i)=>{t.onerror=o=>{const u=mb(o.target.error);i(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():r()}):r()}})}j(e,t){const r=[];return new X((i,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void i();const d=new vF(h),f=t(h.primaryKey,h.value,d);if(f instanceof X){const g=f.catch(_=>(d.done(),X.reject(_)));r.push(g)}d.isDone?i():d.U===null?h.continue():h.continue(d.U)}}).next(()=>X.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Xo(n){return new X((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=mb(r.target.error);t(i)}})}let WI=!1;function mb(n){const e=zi.C(Vt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new de("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return WI||(WI=!0,setTimeout(()=>{throw r},0)),r}}return n}const Pd="IndexBackfiller";class bF{constructor(e,t){this.asyncQueue=e,this.ee=t,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}te(e){pe(Pd,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.ee.ne();pe(Pd,`Documents written: ${t}`)}catch(t){co(t)?pe(Pd,"Ignoring IndexedDB error during index backfill: ",t):await uo(t)}await this.te(6e4)})}}class wF{constructor(e,t){this.localStore=e,this.persistence=t}async ne(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.re(t,e))}re(e,t){const r=new Set;let i=t,o=!0;return X.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(u!==null&&!r.has(u))return pe(Pd,`Processing collection: ${u}`),this.ie(e,u,i).next(h=>{i-=h,r.add(u)});o=!1})).next(()=>t-i)}ie(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.se(i,o)).next(h=>(pe(Pd,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>u.size)}))}se(e,t){let r=e;return t.changes.forEach((i,o)=>{const u=TP(o);pb(u,r)>0&&(r=u)}),new Pr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}lr.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=-1;function Sf(n){return n==null}function Kd(n){return n===0&&1/n==-1/0}function RP(n){return typeof n=="number"&&Number.isInteger(n)&&!Kd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="";function $n(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=QI(e)),e=TF(n.get(t),e);return QI(e)}function TF(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case hg:t+="";break;default:t+=o}}return t}function QI(n){return n+hg+""}function Fi(n){const e=n.length;if(Ae(e>=2),e===2)return Ae(n.charAt(0)===hg&&n.charAt(1)===""),qe.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const u=n.indexOf(hg,o);switch((u<0||u>t)&&we(),n.charAt(u+1)){case"":const h=n.substring(o,u);let d;i.length===0?d=h:(i+=h,d=i,i=""),r.push(d);break;case"":i+=n.substring(o,u),i+="\0";break;case"":i+=n.substring(o,u+1);break;default:we()}o=u+2}return new qe(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo="remoteDocuments",Af="owner",vu="owner",Wd="mutationQueues",SF="userId",oi="mutations",YI="batchId",rl="userMutationsIndex",XI=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(n,e){return[n,$n(e)]}function CP(n,e,t){return[n,$n(e),t]}const AF={},ec="documentMutations",dg="remoteDocumentsV14",IF=["prefixPath","collectionGroup","readTime","documentId"],Mm="documentKeyIndex",RF=["prefixPath","collectionGroup","documentId"],xP="collectionGroupIndex",CF=["collectionGroup","readTime","prefixPath","documentId"],Qd="remoteDocumentGlobal",F0="remoteDocumentGlobalKey",tc="targets",PP="queryTargetsIndex",xF=["canonicalId","targetId"],nc="targetDocuments",PF=["targetId","path"],gb="documentTargetsIndex",OF=["path","targetId"],fg="targetGlobalKey",ul="targetGlobal",Yd="collectionParents",DF=["collectionId","parent"],rc="clientMetadata",NF="clientId",Zg="bundles",kF="bundleId",ey="namedQueries",VF="name",yb="indexConfiguration",MF="indexId",j0="collectionGroupIndex",LF="collectionGroup",pg="indexState",UF=["indexId","uid"],OP="sequenceNumberIndex",BF=["uid","sequenceNumber"],mg="indexEntries",FF=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],DP="documentKeyIndex",jF=["indexId","uid","orderedDocumentKey"],ty="documentOverlays",zF=["userId","collectionPath","documentId"],z0="collectionPathOverlayIndex",qF=["userId","collectionPath","largestBatchId"],NP="collectionGroupOverlayIndex",HF=["userId","collectionGroup","largestBatchId"],_b="globals",$F="name",kP=[Wd,oi,ec,Yo,tc,Af,ul,nc,rc,Qd,Yd,Zg,ey],GF=[...kP,ty],VP=[Wd,oi,ec,dg,tc,Af,ul,nc,rc,Qd,Yd,Zg,ey,ty],MP=VP,vb=[...MP,yb,pg,mg],KF=vb,WF=[...vb,_b];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0 extends AP{constructor(e,t){super(),this.ue=e,this.currentSequenceNumber=t}}function gn(n,e){const t=Ee(n);return zi.M(t.ue,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ho(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function LP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,t){this.comparator=e,this.root=t||Dn.EMPTY}insert(e,t){return new yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dn.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pm(this.root,e,this.comparator,!1)}getReverseIterator(){return new pm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pm(this.root,e,this.comparator,!0)}}class pm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dn{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Dn.RED,this.left=i??Dn.EMPTY,this.right=o??Dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Dn(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Dn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}Dn.EMPTY=null,Dn.RED=!0,Dn.BLACK=!1;Dn.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Dn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ZI(this.data.getIterator())}getIteratorFrom(e){return new ZI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new lt(this.comparator);return t.data=e,t}}class ZI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Eu(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new ur([])}unionWith(e){let t=new lt(St.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ur(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ju(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QF(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new UP("Invalid base64 string: "+o):o}}(e);return new qt(t)}static fromUint8Array(e){const t=function(i){let o="";for(let u=0;u<i.length;++u)o+=String.fromCharCode(i[u]);return o}(e);return new qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const YF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ms(n){if(Ae(!!n),typeof n=="string"){let e=0;const t=YF.exec(n);if(Ae(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(n.seconds),nanos:wt(n.nanos)}}function wt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ls(n){return typeof n=="string"?qt.fromBase64String(n):qt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP="server_timestamp",FP="__type__",jP="__previous_value__",zP="__local_write_time__";function ny(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[FP])===null||t===void 0?void 0:t.stringValue)===BP}function ry(n){const e=n.mapValue.fields[jP];return ny(e)?ry(e):e}function Xd(n){const e=Ms(n.mapValue.fields[zP].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e,t,r,i,o,u,h,d,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=f}}const H0="(default)";class Qa{constructor(e,t){this.projectId=e,this.database=t||H0}static empty(){return new Qa("","")}get isDefaultDatabase(){return this.database===H0}isEqual(e){return e instanceof Qa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="__type__",qP="__max__",Va={mapValue:{fields:{__type__:{stringValue:qP}}}},bb="__vector__",ic="value",Lm={nullValue:"NULL_VALUE"};function Ya(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ny(n)?4:HP(n)?9007199254740991:iy(n)?10:11:we()}function Qi(n,e){if(n===e)return!0;const t=Ya(n);if(t!==Ya(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Xd(n).isEqual(Xd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const u=Ms(i.timestampValue),h=Ms(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Ls(i.bytesValue).isEqual(Ls(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return wt(i.geoPointValue.latitude)===wt(o.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return wt(i.integerValue)===wt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const u=wt(i.doubleValue),h=wt(o.doubleValue);return u===h?Kd(u)===Kd(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return Ju(n.arrayValue.values||[],e.arrayValue.values||[],Qi);case 10:case 11:return function(i,o){const u=i.mapValue.fields||{},h=o.mapValue.fields||{};if(JI(u)!==JI(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!Qi(u[d],h[d])))return!1;return!0}(n,e);default:return we()}}function Jd(n,e){return(n.values||[]).find(t=>Qi(t,e))!==void 0}function Xa(n,e){if(n===e)return 0;const t=Ya(n),r=Ya(e);if(t!==r)return Ne(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ne(n.booleanValue,e.booleanValue);case 2:return function(o,u){const h=wt(o.integerValue||o.doubleValue),d=wt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(n,e);case 3:return eR(n.timestampValue,e.timestampValue);case 4:return eR(Xd(n),Xd(e));case 5:return Ne(n.stringValue,e.stringValue);case 6:return function(o,u){const h=Ls(o),d=Ls(u);return h.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),d=u.split("/");for(let f=0;f<h.length&&f<d.length;f++){const g=Ne(h[f],d[f]);if(g!==0)return g}return Ne(h.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const h=Ne(wt(o.latitude),wt(u.latitude));return h!==0?h:Ne(wt(o.longitude),wt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return tR(n.arrayValue,e.arrayValue);case 10:return function(o,u){var h,d,f,g;const _=o.fields||{},v=u.fields||{},T=(h=_[ic])===null||h===void 0?void 0:h.arrayValue,w=(d=v[ic])===null||d===void 0?void 0:d.arrayValue,I=Ne(((f=T==null?void 0:T.values)===null||f===void 0?void 0:f.length)||0,((g=w==null?void 0:w.values)===null||g===void 0?void 0:g.length)||0);return I!==0?I:tR(T,w)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===Va.mapValue&&u===Va.mapValue)return 0;if(o===Va.mapValue)return 1;if(u===Va.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),f=u.fields||{},g=Object.keys(f);d.sort(),g.sort();for(let _=0;_<d.length&&_<g.length;++_){const v=Ne(d[_],g[_]);if(v!==0)return v;const T=Xa(h[d[_]],f[g[_]]);if(T!==0)return T}return Ne(d.length,g.length)}(n.mapValue,e.mapValue);default:throw we()}}function eR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ne(n,e);const t=Ms(n),r=Ms(e),i=Ne(t.seconds,r.seconds);return i!==0?i:Ne(t.nanos,r.nanos)}function tR(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=Xa(t[i],r[i]);if(o)return o}return Ne(t.length,r.length)}function sc(n){return $0(n)}function $0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ms(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ls(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=$0(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const u of r)o?o=!1:i+=",",i+=`${u}:${$0(t.fields[u])}`;return i+"}"}(n.mapValue):we()}function Um(n){switch(Ya(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ry(n);return e?16+Um(e):16;case 5:return 2*n.stringValue.length;case 6:return Ls(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Um(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return ho(r.fields,(o,u)=>{i+=o.length+Um(u)}),i}(n.mapValue);default:throw we()}}function dl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function G0(n){return!!n&&"integerValue"in n}function Zd(n){return!!n&&"arrayValue"in n}function nR(n){return!!n&&"nullValue"in n}function rR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Bm(n){return!!n&&"mapValue"in n}function iy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Eb])===null||t===void 0?void 0:t.stringValue)===bb}function Od(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ho(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Od(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Od(n.arrayValue.values[t]);return e}return Object.assign({},n)}function HP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===qP}const $P={mapValue:{fields:{[Eb]:{stringValue:bb},[ic]:{arrayValue:{}}}}};function JF(n){return"nullValue"in n?Lm:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?dl(Qa.empty(),_e.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?iy(n)?$P:{mapValue:{}}:we()}function ZF(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?dl(Qa.empty(),_e.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?$P:"mapValue"in n?iy(n)?{mapValue:{}}:Va:we()}function iR(n,e){const t=Xa(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function sR(n,e){const t=Xa(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Bm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Od(t)}setAll(e){let t=St.emptyPath(),r={},i=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=h.popLast()}u?r[h.lastSegment()]=Od(u):i.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Bm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Bm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ho(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new kn(Od(this.value))}}function GP(n){const e=[];return ho(n.fields,(t,r)=>{const i=new St([t]);if(Bm(r)){const o=GP(r.mapValue).fields;if(o.length===0)e.push(i);else for(const u of o)e.push(i.child(u))}else e.push(i)}),new ur(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t,r,i,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new vt(e,0,Re.min(),Re.min(),Re.min(),kn.empty(),0)}static newFoundDocument(e,t,r,i){return new vt(e,1,t,Re.min(),r,i,0)}static newNoDocument(e,t){return new vt(e,2,t,Re.min(),Re.min(),kn.empty(),0)}static newUnknownDocument(e,t){return new vt(e,3,t,Re.min(),Re.min(),kn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,t){this.position=e,this.inclusive=t}}function aR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],u=n.position[i];if(o.field.isKeyField()?r=_e.comparator(_e.fromName(u.referenceValue),t.key):r=Xa(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function oR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Qi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t="asc"){this.field=e,this.dir=t}}function e3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{}class He extends KP{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new t3(e,t,r):t==="array-contains"?new i3(e,r):t==="in"?new ZP(e,r):t==="not-in"?new s3(e,r):t==="array-contains-any"?new a3(e,r):new He(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new n3(e,r):new r3(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Xa(t,this.value)):t!==null&&Ya(this.value)===Ya(t)&&this.matchesComparison(Xa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ot extends KP{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ot(e,t)}matches(e){return ac(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function ac(n){return n.op==="and"}function K0(n){return n.op==="or"}function wb(n){return WP(n)&&ac(n)}function WP(n){for(const e of n.filters)if(e instanceof ot)return!1;return!0}function W0(n){if(n instanceof He)return n.field.canonicalString()+n.op.toString()+sc(n.value);if(wb(n))return n.filters.map(e=>W0(e)).join(",");{const e=n.filters.map(t=>W0(t)).join(",");return`${n.op}(${e})`}}function QP(n,e){return n instanceof He?function(r,i){return i instanceof He&&r.op===i.op&&r.field.isEqual(i.field)&&Qi(r.value,i.value)}(n,e):n instanceof ot?function(r,i){return i instanceof ot&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,u,h)=>o&&QP(u,i.filters[h]),!0):!1}(n,e):void we()}function YP(n,e){const t=n.filters.concat(e);return ot.create(t,n.op)}function XP(n){return n instanceof He?function(t){return`${t.field.canonicalString()} ${t.op} ${sc(t.value)}`}(n):n instanceof ot?function(t){return t.op.toString()+" {"+t.getFilters().map(XP).join(" ,")+"}"}(n):"Filter"}class t3 extends He{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class n3 extends He{constructor(e,t){super(e,"in",t),this.keys=JP("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class r3 extends He{constructor(e,t){super(e,"not-in",t),this.keys=JP("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function JP(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>_e.fromName(r.referenceValue))}class i3 extends He{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Zd(t)&&Jd(t.arrayValue,this.value)}}class ZP extends He{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Jd(this.value.arrayValue,t)}}class s3 extends He{constructor(e,t){super(e,"not-in",t)}matches(e){if(Jd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Jd(this.value.arrayValue,t)}}class a3 extends He{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Zd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Jd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,t=null,r=[],i=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=u,this.endAt=h,this.le=null}}function Q0(n,e=null,t=[],r=[],i=null,o=null,u=null){return new o3(n,e,t,r,i,o,u)}function fl(n){const e=Ee(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>W0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Sf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>sc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>sc(r)).join(",")),e.le=t}return e.le}function If(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!e3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!QP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!oR(n.startAt,e.startAt)&&oR(n.endAt,e.endAt)}function gg(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function yg(n,e){return n.filters.filter(t=>t instanceof He&&t.field.isEqual(e))}function lR(n,e,t){let r=Lm,i=!0;for(const o of yg(n,e)){let u=Lm,h=!0;switch(o.op){case"<":case"<=":u=JF(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=Lm}iR({value:r,inclusive:i},{value:u,inclusive:h})<0&&(r=u,i=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];iR({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}}return{value:r,inclusive:i}}function uR(n,e,t){let r=Va,i=!0;for(const o of yg(n,e)){let u=Va,h=!0;switch(o.op){case">=":case">":u=ZF(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=Va}sR({value:r,inclusive:i},{value:u,inclusive:h})>0&&(r=u,i=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];sR({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,t=null,r=[],i=[],o=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function eO(n,e,t,r,i,o,u,h){return new qs(n,e,t,r,i,o,u,h)}function xc(n){return new qs(n)}function cR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Tb(n){return n.collectionGroup!==null}function zu(n){const e=Ee(n);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new lt(St.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(h=h.add(f.field))})}),h})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new ef(o,r))}),t.has(St.keyField().canonicalString())||e.he.push(new ef(St.keyField(),r))}return e.he}function tr(n){const e=Ee(n);return e.Pe||(e.Pe=l3(e,zu(n))),e.Pe}function l3(n,e){if(n.limitType==="F")return Q0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new ef(i.field,o)});const t=n.endAt?new Ja(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ja(n.startAt.position,n.startAt.inclusive):null;return Q0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Y0(n,e){const t=n.filters.concat([e]);return new qs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function _g(n,e,t){return new qs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Rf(n,e){return If(tr(n),tr(e))&&n.limitType===e.limitType}function tO(n){return`${fl(tr(n))}|lt:${n.limitType}`}function Ou(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>XP(i)).join(", ")}]`),Sf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>sc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>sc(i)).join(",")),`Target(${r})`}(tr(n))}; limitType=${n.limitType})`}function Cf(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):_e.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of zu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(u,h,d){const f=aR(u,h,d);return u.inclusive?f<=0:f<0}(r.startAt,zu(r),i)||r.endAt&&!function(u,h,d){const f=aR(u,h,d);return u.inclusive?f>=0:f>0}(r.endAt,zu(r),i))}(n,e)}function nO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function rO(n){return(e,t)=>{let r=!1;for(const i of zu(n)){const o=u3(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function u3(n,e,t){const r=n.field.isKeyField()?_e.comparator(e.key,t.key):function(o,u,h){const d=u.data.field(o),f=h.data.field(o);return d!==null&&f!==null?Xa(d,f):we()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ho(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return LP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3=new yt(_e.comparator);function cr(){return c3}const iO=new yt(_e.comparator);function Ed(...n){let e=iO;for(const t of n)e=e.insert(t.key,t);return e}function sO(n){let e=iO;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ji(){return Dd()}function aO(){return Dd()}function Dd(){return new Hs(n=>n.toString(),(n,e)=>n.isEqual(e))}const h3=new yt(_e.comparator),d3=new lt(_e.comparator);function Me(...n){let e=d3;for(const t of n)e=e.add(t);return e}const f3=new lt(Ne);function Sb(){return f3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kd(e)?"-0":e}}function oO(n){return{integerValue:""+n}}function lO(n,e){return RP(e)?oO(e):Ab(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(){this._=void 0}}function p3(n,e,t){return n instanceof oc?function(i,o){const u={fields:{[FP]:{stringValue:BP},[zP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ny(o)&&(o=ry(o)),o&&(u.fields[jP]=o),{mapValue:u}}(t,e):n instanceof pl?cO(n,e):n instanceof ml?hO(n,e):function(i,o){const u=uO(i,o),h=hR(u)+hR(i.Ie);return G0(u)&&G0(i.Ie)?oO(h):Ab(i.serializer,h)}(n,e)}function m3(n,e,t){return n instanceof pl?cO(n,e):n instanceof ml?hO(n,e):t}function uO(n,e){return n instanceof lc?function(r){return G0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class oc extends sy{}class pl extends sy{constructor(e){super(),this.elements=e}}function cO(n,e){const t=dO(e);for(const r of n.elements)t.some(i=>Qi(i,r))||t.push(r);return{arrayValue:{values:t}}}class ml extends sy{constructor(e){super(),this.elements=e}}function hO(n,e){let t=dO(e);for(const r of n.elements)t=t.filter(i=>!Qi(i,r));return{arrayValue:{values:t}}}class lc extends sy{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function hR(n){return wt(n.integerValue||n.doubleValue)}function dO(n){return Zd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,t){this.field=e,this.transform=t}}function g3(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof pl&&i instanceof pl||r instanceof ml&&i instanceof ml?Ju(r.elements,i.elements,Qi):r instanceof lc&&i instanceof lc?Qi(r.Ie,i.Ie):r instanceof oc&&i instanceof oc}(n.transform,e.transform)}class y3{constructor(e,t){this.version=e,this.transformResults=t}}class At{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new At}static exists(e){return new At(void 0,e)}static updateTime(e){return new At(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ay{}function fO(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Oc(n.key,At.none()):new Pc(n.key,n.data,At.none());{const t=n.data,r=kn.empty();let i=new lt(St.comparator);for(let o of e.fields)if(!i.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),i=i.add(o)}return new $s(n.key,r,new ur(i.toArray()),At.none())}}function _3(n,e,t){n instanceof Pc?function(i,o,u){const h=i.value.clone(),d=fR(i.fieldTransforms,o,u.transformResults);h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof $s?function(i,o,u){if(!Fm(i.precondition,o))return void o.convertToUnknownDocument(u.version);const h=fR(i.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(pO(i)),d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Nd(n,e,t,r){return n instanceof Pc?function(o,u,h,d){if(!Fm(o.precondition,u))return h;const f=o.value.clone(),g=pR(o.fieldTransforms,d,u);return f.setAll(g),u.convertToFoundDocument(u.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof $s?function(o,u,h,d){if(!Fm(o.precondition,u))return h;const f=pR(o.fieldTransforms,d,u),g=u.data;return g.setAll(pO(o)),g.setAll(f),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(o,u,h){return Fm(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function v3(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=uO(r.transform,i||null);o!=null&&(t===null&&(t=kn.empty()),t.set(r.field,o))}return t||null}function dR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ju(r,i,(o,u)=>g3(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Pc extends ay{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $s extends ay{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function pO(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function fR(n,e,t){const r=new Map;Ae(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],u=o.transform,h=e.data.field(o.field);r.set(o.field,m3(u,h,t[i]))}return r}function pR(n,e,t){const r=new Map;for(const i of n){const o=i.transform,u=t.data.field(i.field);r.set(i.field,p3(o,u,e))}return r}class Oc extends ay{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ib extends ay{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&_3(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Nd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Nd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=aO();return this.mutations.forEach(i=>{const o=e.get(i.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(i.key)?null:h;const d=fO(u,h);d!==null&&r.set(i.key,d),u.isValidDocument()||u.convertToNoDocument(Re.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&Ju(this.mutations,e.mutations,(t,r)=>dR(t,r))&&Ju(this.baseMutations,e.baseMutations,(t,r)=>dR(t,r))}}class Cb{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ae(e.mutations.length===r.length);let i=function(){return h3}();const o=e.mutations;for(let u=0;u<o.length;u++)i=i.insert(o[u].key,r[u].version);return new Cb(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn,Xe;function mO(n){switch(n){case ne.OK:return we();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return we()}}function gO(n){if(n===void 0)return Wt("GRPC error has no .code"),ne.UNKNOWN;switch(n){case rn.OK:return ne.OK;case rn.CANCELLED:return ne.CANCELLED;case rn.UNKNOWN:return ne.UNKNOWN;case rn.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case rn.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case rn.INTERNAL:return ne.INTERNAL;case rn.UNAVAILABLE:return ne.UNAVAILABLE;case rn.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case rn.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case rn.NOT_FOUND:return ne.NOT_FOUND;case rn.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case rn.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case rn.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case rn.ABORTED:return ne.ABORTED;case rn.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case rn.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case rn.DATA_LOSS:return ne.DATA_LOSS;default:return we()}}(Xe=rn||(rn={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=new Fa([4294967295,4294967295],0);function mR(n){const e=yO().encode(n),t=new fP;return t.update(e),new Uint8Array(t.digest())}function gR(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Fa([t,r],0),new Fa([i,o],0)]}class Pb{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new bd(`Invalid padding: ${t}`);if(r<0)throw new bd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bd(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new bd(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Fa.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(Fa.fromNumber(r)));return i.compare(b3)===1&&(i=new Fa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=mR(e),[r,i]=gR(t);for(let o=0;o<this.hashCount;o++){const u=this.Ae(r,i,o);if(!this.Re(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Pb(o,i,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.Ee===0)return;const t=mR(e),[r,i]=gR(t);for(let o=0;o<this.hashCount;o++){const u=this.Ae(r,i,o);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class bd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Of.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Pf(Re.min(),i,new yt(Ne),cr(),Me())}}class Of{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Of(r,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class _O{constructor(e,t){this.targetId=e,this.ge=t}}class vO{constructor(e,t,r=qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class yR{constructor(){this.pe=0,this.ye=_R(),this.we=qt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Me(),t=Me(),r=Me();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:we()}}),new Of(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=_R()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ae(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class w3{constructor(e){this.ke=e,this.qe=new Map,this.Qe=cr(),this.$e=mm(),this.Ke=mm(),this.Ue=new yt(Ne)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:we()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const o=i.target;if(gg(o))if(r===0){const u=new _e(o.path);this.ze(t,u,vt.newNoDocument(u,Re.min()))}else Ae(r===1);else{const u=this.et(t);if(u!==r){const h=this.tt(e),d=h?this.nt(h,e,u):1;if(d!==0){this.Ye(t);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,f)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let u,h;try{u=Ls(r).toUint8Array()}catch(d){if(d instanceof UP)return Wi("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Pb(u,i,o)}catch(d){return Wi(d instanceof bd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.Ee===0?null:h}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const u=this.ke.it(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.ze(t,o,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((o,u)=>{const h=this.Xe(u);if(h){if(o.current&&gg(h.target)){const d=new _e(h.target.path);this._t(d).has(u)||this.ut(u,d)||this.ze(u,d,vt.newNoDocument(d,e))}o.ve&&(t.set(u,o.Fe()),o.Me())}});let r=Me();this.Ke.forEach((o,u)=>{let h=!0;u.forEachWhile(d=>{const f=this.Xe(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(o))}),this.Qe.forEach((o,u)=>u.setReadTime(e));const i=new Pf(e,t,this.Ue,this.Qe,r);return this.Qe=cr(),this.$e=mm(),this.Ke=mm(),this.Ue=new yt(Ne),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new yR,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new lt(Ne),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new lt(Ne),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new yR),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function mm(){return new yt(_e.comparator)}function _R(){return new yt(_e.comparator)}const T3={asc:"ASCENDING",desc:"DESCENDING"},S3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},A3={and:"AND",or:"OR"};class I3{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function X0(n,e){return n.useProto3Json||Sf(e)?e:{value:e}}function uc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EO(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function R3(n,e){return uc(n,e.toTimestamp())}function Qt(n){return Ae(!!n),Re.fromTimestamp(function(t){const r=Ms(t);return new It(r.seconds,r.nanos)}(n))}function Ob(n,e){return J0(n,e).canonicalString()}function J0(n,e){const t=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function bO(n){const e=qe.fromString(n);return Ae(OO(e)),e}function tf(n,e){return Ob(n.databaseId,e.path)}function qi(n,e){const t=bO(e);if(t.get(1)!==n.databaseId.projectId)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(SO(t))}function wO(n,e){return Ob(n.databaseId,e)}function TO(n){const e=bO(n);return e.length===4?qe.emptyPath():SO(e)}function Z0(n){return new qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function SO(n){return Ae(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function vR(n,e,t){return{name:tf(n,e),fields:t.value.mapValue.fields}}function AO(n,e,t){const r=qi(n,e.name),i=Qt(e.updateTime),o=e.createTime?Qt(e.createTime):Re.min(),u=new kn({mapValue:{fields:e.fields}}),h=vt.newFoundDocument(r,i,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function C3(n,e){return"found"in e?function(r,i){Ae(!!i.found),i.found.name,i.found.updateTime;const o=qi(r,i.found.name),u=Qt(i.found.updateTime),h=i.found.createTime?Qt(i.found.createTime):Re.min(),d=new kn({mapValue:{fields:i.found.fields}});return vt.newFoundDocument(o,u,h,d)}(n,e):"missing"in e?function(r,i){Ae(!!i.missing),Ae(!!i.readTime);const o=qi(r,i.missing),u=Qt(i.readTime);return vt.newNoDocument(o,u)}(n,e):we()}function x3(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,g){return f.useProto3Json?(Ae(g===void 0||typeof g=="string"),qt.fromBase64String(g||"")):(Ae(g===void 0||g instanceof Buffer||g instanceof Uint8Array),qt.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(f){const g=f.code===void 0?ne.UNKNOWN:gO(f.code);return new de(g,f.message||"")}(u);t=new vO(r,i,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=qi(n,r.document.name),o=Qt(r.document.updateTime),u=r.document.createTime?Qt(r.document.createTime):Re.min(),h=new kn({mapValue:{fields:r.document.fields}}),d=vt.newFoundDocument(i,o,u,h),f=r.targetIds||[],g=r.removedTargetIds||[];t=new jm(f,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=qi(n,r.document),o=r.readTime?Qt(r.readTime):Re.min(),u=vt.newNoDocument(i,o),h=r.removedTargetIds||[];t=new jm([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=qi(n,r.document),o=r.removedTargetIds||[];t=new jm([],o,i,null)}else{if(!("filter"in e))return we();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,u=new E3(i,o),h=r.targetId;t=new _O(h,u)}}return t}function nf(n,e){let t;if(e instanceof Pc)t={update:vR(n,e.key,e.value)};else if(e instanceof Oc)t={delete:tf(n,e.key)};else if(e instanceof $s)t={update:vR(n,e.key,e.data),updateMask:V3(e.fieldMask)};else{if(!(e instanceof Ib))return we();t={verify:tf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof oc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof pl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof ml)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof lc)return{fieldPath:u.field.canonicalString(),increment:h.Ie};throw we()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:R3(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:we()}(n,e.precondition)),t}function eE(n,e){const t=e.currentDocument?function(o){return o.updateTime!==void 0?At.updateTime(Qt(o.updateTime)):o.exists!==void 0?At.exists(o.exists):At.none()}(e.currentDocument):At.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,h){let d=null;if("setToServerValue"in h)Ae(h.setToServerValue==="REQUEST_TIME"),d=new oc;else if("appendMissingElements"in h){const g=h.appendMissingElements.values||[];d=new pl(g)}else if("removeAllFromArray"in h){const g=h.removeAllFromArray.values||[];d=new ml(g)}else"increment"in h?d=new lc(u,h.increment):we();const f=St.fromServerFormat(h.fieldPath);return new xf(f,d)}(n,i)):[];if(e.update){e.update.name;const i=qi(n,e.update.name),o=new kn({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=function(d){const f=d.fieldPaths||[];return new ur(f.map(g=>St.fromServerFormat(g)))}(e.updateMask);return new $s(i,o,u,t,r)}return new Pc(i,o,t,r)}if(e.delete){const i=qi(n,e.delete);return new Oc(i,t)}if(e.verify){const i=qi(n,e.verify);return new Ib(i,t)}return we()}function P3(n,e){return n&&n.length>0?(Ae(e!==void 0),n.map(t=>function(i,o){let u=i.updateTime?Qt(i.updateTime):Qt(o);return u.isEqual(Re.min())&&(u=Qt(o)),new y3(u,i.transformResults||[])}(t,e))):[]}function IO(n,e){return{documents:[wO(n,e.path)]}}function RO(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=wO(n,i);const o=function(f){if(f.length!==0)return PO(ot.create(f,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(f){if(f.length!==0)return f.map(g=>function(v){return{field:Du(v.field),direction:D3(v.dir)}}(g))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=X0(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ht:t,parent:i}}function CO(n){let e=TO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ae(r===1);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(_){const v=xO(_);return v instanceof ot&&wb(v)?v.getFilters():[v]}(t.where));let u=[];t.orderBy&&(u=function(_){return _.map(v=>function(w){return new ef(Nu(w.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(v))}(t.orderBy));let h=null;t.limit&&(h=function(_){let v;return v=typeof _=="object"?_.value:_,Sf(v)?null:v}(t.limit));let d=null;t.startAt&&(d=function(_){const v=!!_.before,T=_.values||[];return new Ja(T,v)}(t.startAt));let f=null;return t.endAt&&(f=function(_){const v=!_.before,T=_.values||[];return new Ja(T,v)}(t.endAt)),eO(e,i,u,o,h,"F",d,f)}function O3(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function xO(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Nu(t.unaryFilter.field);return He.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Nu(t.unaryFilter.field);return He.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Nu(t.unaryFilter.field);return He.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Nu(t.unaryFilter.field);return He.create(u,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(n):n.fieldFilter!==void 0?function(t){return He.create(Nu(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ot.create(t.compositeFilter.filters.map(r=>xO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return we()}}(t.compositeFilter.op))}(n):we()}function D3(n){return T3[n]}function N3(n){return S3[n]}function k3(n){return A3[n]}function Du(n){return{fieldPath:n.canonicalString()}}function Nu(n){return St.fromServerFormat(n.fieldPath)}function PO(n){return n instanceof He?function(t){if(t.op==="=="){if(rR(t.value))return{unaryFilter:{field:Du(t.field),op:"IS_NAN"}};if(nR(t.value))return{unaryFilter:{field:Du(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(rR(t.value))return{unaryFilter:{field:Du(t.field),op:"IS_NOT_NAN"}};if(nR(t.value))return{unaryFilter:{field:Du(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Du(t.field),op:N3(t.op),value:t.value}}}(n):n instanceof ot?function(t){const r=t.getFilters().map(i=>PO(i));return r.length===1?r[0]:{compositeFilter:{op:k3(t.op),filters:r}}}(n):we()}function V3(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function OO(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,t,r,i,o=Re.min(),u=Re.min(),h=qt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.Tt=e}}function M3(n,e){let t;if(e.document)t=AO(n.Tt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=_e.fromSegments(e.noDocument.path),i=yl(e.noDocument.readTime);t=vt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return we();{const r=_e.fromSegments(e.unknownDocument.path),i=yl(e.unknownDocument.version);t=vt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const o=new It(i[0],i[1]);return Re.fromTimestamp(o)}(e.readTime)),t}function ER(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:vg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,u){return{name:tf(o,u.key),fields:u.data.value.mapValue.fields,updateTime:uc(o,u.version.toTimestamp()),createTime:uc(o,u.createTime.toTimestamp())}}(n.Tt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:gl(e.version)};else{if(!e.isUnknownDocument())return we();r.unknownDocument={path:t.path.toArray(),version:gl(e.version)}}return r}function vg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function gl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function yl(n){const e=new It(n.seconds,n.nanoseconds);return Re.fromTimestamp(e)}function Jo(n,e){const t=(e.baseMutations||[]).map(o=>eE(n.Tt,o));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const h=e.mutations[o+1];u.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>eE(n.Tt,o)),i=It.fromMillis(e.localWriteTimeMs);return new Rb(e.batchId,i,t,r)}function wd(n){const e=yl(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?yl(n.lastLimboFreeSnapshotVersion):Re.min();let r;return r=function(o){return o.documents!==void 0}(n.query)?function(o){return Ae(o.documents.length===1),tr(xc(TO(o.documents[0])))}(n.query):function(o){return tr(CO(o))}(n.query),new Ps(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,qt.fromBase64String(n.resumeToken))}function NO(n,e){const t=gl(e.snapshotVersion),r=gl(e.lastLimboFreeSnapshotVersion);let i;i=gg(e.target)?IO(n.Tt,e.target):RO(n.Tt,e.target).ht;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fl(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Db(n){const e=CO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?_g(e,e.limit,"L"):e}function a0(n,e){return new xb(e.largestBatchId,eE(n.Tt,e.overlayMutation))}function bR(n,e){const t=e.path.lastSegment();return[n,$n(e.path.popLast()),t]}function wR(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:gl(r.readTime),documentKey:$n(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{getBundleMetadata(e,t){return TR(e).get(t).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:yl(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,t){return TR(e).put(function(i){return{bundleId:i.id,createTime:gl(Qt(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return SR(e).get(t).next(r=>{if(r)return function(o){return{name:o.name,query:Db(o.bundledQuery),readTime:yl(o.readTime)}}(r)})}saveNamedQuery(e,t){return SR(e).put(function(i){return{name:i.name,readTime:gl(Qt(i.readTime)),bundledQuery:i.bundledQuery}}(t))}}function TR(n){return gn(n,Zg)}function SR(n){return gn(n,ey)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,t){this.serializer=e,this.userId=t}static It(e,t){const r=t.uid||"";return new oy(e,r)}getOverlay(e,t){return Xh(e).get(bR(this.userId,t)).next(r=>r?a0(this.serializer,r):null)}getOverlays(e,t){const r=ji();return X.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,u)=>{const h=new xb(t,u);i.push(this.Et(e,h))}),X.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add($n(u.getCollectionPath())));const o=[];return i.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);o.push(Xh(e).J(z0,h))}),X.waitFor(o)}getOverlaysForCollection(e,t,r){const i=ji(),o=$n(t),u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Xh(e).G(z0,u).next(h=>{for(const d of h){const f=a0(this.serializer,d);i.set(f.getKey(),f)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=ji();let u;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Xh(e).Z({index:NP,range:h},(d,f,g)=>{const _=a0(this.serializer,f);o.size()<i||_.largestBatchId===u?(o.set(_.getKey(),_),u=_.largestBatchId):g.done()}).next(()=>o)}Et(e,t){return Xh(e).put(function(i,o,u){const[h,d,f]=bR(o,u.mutation.key);return{userId:o,collectionPath:d,documentId:f,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:nf(i.Tt,u.mutation)}}(this.serializer,this.userId,t))}}function Xh(n){return gn(n,ty)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{dt(e){return gn(e,_b)}getSessionToken(e){return this.dt(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?qt.fromUint8Array(r):qt.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(wt(e.integerValue));else if("doubleValue"in e){const r=wt(e.doubleValue);isNaN(r)?this.ft(t,13):(this.ft(t,15),Kd(r)?t.gt(0):t.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(t,20),typeof r=="string"&&(r=Ms(r)),t.yt(`${r.seconds||""}`),t.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(Ls(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ft(t,45),t.gt(r.latitude||0),t.gt(r.longitude||0)}else"mapValue"in e?HP(e)?this.ft(t,Number.MAX_SAFE_INTEGER):iy(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):we()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const r=e.fields||{};this.ft(t,55);for(const i of Object.keys(r))this.wt(i,t),this.Rt(r[i],t)}vt(e,t){var r,i;const o=e.fields||{};this.ft(t,53);const u=ic,h=((i=(r=o[u].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(t,15),t.gt(wt(h)),this.wt(u,t),this.Rt(o[u],t)}Ft(e,t){const r=e.values||[];this.ft(t,50);for(const i of r)this.Rt(i,t)}Dt(e,t){this.ft(t,37),_e.fromName(e).path.forEach(r=>{this.ft(t,60),this.Mt(r,t)})}ft(e,t){e.gt(t)}St(e){e.gt(2)}}Zo.xt=new Zo;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=255;function B3(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function AR(n){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const u=B3(255&r[o]);if(i+=u,u!==8)break}return i}(n);return Math.ceil(e/8)}class F3{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ot(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Nt(r.value),r=t.next();this.Bt()}Lt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.kt(r.value),r=t.next();this.qt()}Qt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Nt(r);else if(r<2048)this.Nt(960|r>>>6),this.Nt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Nt(480|r>>>12),this.Nt(128|63&r>>>6),this.Nt(128|63&r);else{const i=t.codePointAt(0);this.Nt(240|i>>>18),this.Nt(128|63&i>>>12),this.Nt(128|63&i>>>6),this.Nt(128|63&i)}}this.Bt()}$t(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.kt(r);else if(r<2048)this.kt(960|r>>>6),this.kt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.kt(480|r>>>12),this.kt(128|63&r>>>6),this.kt(128|63&r);else{const i=t.codePointAt(0);this.kt(240|i>>>18),this.kt(128|63&i>>>12),this.kt(128|63&i>>>6),this.kt(128|63&i)}}this.qt()}Kt(e){const t=this.Ut(e),r=AR(t);this.Wt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Gt(e){const t=this.Ut(e),r=AR(t);this.Wt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}zt(){this.jt(bu),this.jt(255)}Ht(){this.Jt(bu),this.Jt(255)}reset(){this.position=0}seed(e){this.Wt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Yt(){return this.buffer.slice(0,this.position)}Ut(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Nt(e){const t=255&e;t===0?(this.jt(0),this.jt(255)):t===bu?(this.jt(bu),this.jt(0)):this.jt(t)}kt(e){const t=255&e;t===0?(this.Jt(0),this.Jt(255)):t===bu?(this.Jt(bu),this.Jt(0)):this.Jt(e)}Bt(){this.jt(0),this.jt(1)}qt(){this.Jt(0),this.Jt(1)}jt(e){this.Wt(1),this.buffer[this.position++]=e}Jt(e){this.Wt(1),this.buffer[this.position++]=~e}Wt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class j3{constructor(e){this.Zt=e}bt(e){this.Zt.Ot(e)}yt(e){this.Zt.Qt(e)}gt(e){this.Zt.Kt(e)}Vt(){this.Zt.zt()}}class z3{constructor(e){this.Zt=e}bt(e){this.Zt.Lt(e)}yt(e){this.Zt.$t(e)}gt(e){this.Zt.Gt(e)}Vt(){this.Zt.Ht()}}class Jh{constructor(){this.Zt=new F3,this.Xt=new j3(this.Zt),this.en=new z3(this.Zt)}seed(e){this.Zt.seed(e)}tn(e){return e===0?this.Xt:this.en}Yt(){return this.Zt.Yt()}reset(){this.Zt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}nn(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new el(this.indexId,this.documentKey,this.arrayValue,r)}}function xa(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=IR(n.arrayValue,e.arrayValue),t!==0?t:(t=IR(n.directionalValue,e.directionalValue),t!==0?t:_e.comparator(n.documentKey,e.documentKey)))}function IR(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e){this.rn=new lt((t,r)=>St.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.sn=e.orderBy,this._n=[];for(const t of e.filters){const r=t;r.isInequality()?this.rn=this.rn.add(r):this._n.push(r)}}get an(){return this.rn.size>1}un(e){if(Ae(e.collectionGroup===this.collectionId),this.an)return!1;const t=B0(e);if(t!==void 0&&!this.cn(t))return!1;const r=Qo(e);let i=new Set,o=0,u=0;for(;o<r.length&&this.cn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.rn.size>0){const h=this.rn.getIterator().getNext();if(!i.has(h.field.canonicalString())){const d=r[o];if(!this.ln(h,d)||!this.hn(this.sn[u++],d))return!1}++o}for(;o<r.length;++o){const h=r[o];if(u>=this.sn.length||!this.hn(this.sn[u++],h))return!1}return!0}Pn(){if(this.an)return null;let e=new lt(St.comparator);const t=[];for(const r of this._n)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new km(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new km(r.field,0))}for(const r of this.sn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new km(r.field,r.dir==="asc"?0:1)));return new cg(cg.UNKNOWN_ID,this.collectionId,t,Gd.empty())}cn(e){for(const t of this._n)if(this.ln(t,e))return!0;return!1}ln(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}hn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(n){var e,t;if(Ae(n instanceof He||n instanceof ot),n instanceof He){if(n instanceof ZP){const i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>He.create(n.field,"==",o)))||[];return ot.create(i,"or")}return n}const r=n.filters.map(i=>kO(i));return ot.create(r,n.op)}function q3(n){if(n.getFilters().length===0)return[];const e=rE(kO(n));return Ae(VO(e)),tE(e)||nE(e)?[e]:e.getFilters()}function tE(n){return n instanceof He}function nE(n){return n instanceof ot&&wb(n)}function VO(n){return tE(n)||nE(n)||function(t){if(t instanceof ot&&K0(t)){for(const r of t.getFilters())if(!tE(r)&&!nE(r))return!1;return!0}return!1}(n)}function rE(n){if(Ae(n instanceof He||n instanceof ot),n instanceof He)return n;if(n.filters.length===1)return rE(n.filters[0]);const e=n.filters.map(r=>rE(r));let t=ot.create(e,n.op);return t=Eg(t),VO(t)?t:(Ae(t instanceof ot),Ae(ac(t)),Ae(t.filters.length>1),t.filters.reduce((r,i)=>Nb(r,i)))}function Nb(n,e){let t;return Ae(n instanceof He||n instanceof ot),Ae(e instanceof He||e instanceof ot),t=n instanceof He?e instanceof He?function(i,o){return ot.create([i,o],"and")}(n,e):CR(n,e):e instanceof He?CR(e,n):function(i,o){if(Ae(i.filters.length>0&&o.filters.length>0),ac(i)&&ac(o))return YP(i,o.getFilters());const u=K0(i)?i:o,h=K0(i)?o:i,d=u.filters.map(f=>Nb(f,h));return ot.create(d,"or")}(n,e),Eg(t)}function CR(n,e){if(ac(e))return YP(e,n.getFilters());{const t=e.filters.map(r=>Nb(n,r));return ot.create(t,"or")}}function Eg(n){if(Ae(n instanceof He||n instanceof ot),n instanceof He)return n;const e=n.getFilters();if(e.length===1)return Eg(e[0]);if(WP(n))return n;const t=e.map(i=>Eg(i)),r=[];return t.forEach(i=>{i instanceof He?r.push(i):i instanceof ot&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:ot.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(){this.Tn=new kb}addToCollectionParentIndex(e,t){return this.Tn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(Pr.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(Pr.min())}updateCollectionGroup(e,t,r){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class kb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new lt(qe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lt(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="IndexedDbIndexManager",gm=new Uint8Array(0);class $3{constructor(e,t){this.databaseId=t,this.In=new kb,this.En=new Hs(r=>fl(r),(r,i)=>If(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.In.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.In.add(t)});const o={collectionId:r,parent:$n(i)};return PR(e).put(o)}return X.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[bP(t),""],!1,!0);return PR(e).G(i).next(o=>{for(const u of o){if(u.collectionId!==t)break;r.push(Fi(u.parent))}return r})}addFieldIndex(e,t){const r=Zh(e),i=function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])}}(t);delete i.indexId;const o=r.add(i);if(t.indexState){const u=Tu(e);return o.next(h=>{u.put(wR(h,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=Zh(e),i=Tu(e),o=wu(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Zh(e),r=wu(e),i=Tu(e);return t.J().next(()=>r.J()).next(()=>i.J())}createTargetIndexes(e,t){return X.forEach(this.dn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new RR(r).Pn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const r=wu(e);let i=!0;const o=new Map;return X.forEach(this.dn(t),u=>this.An(e,u).next(h=>{i&&(i=!!h),o.set(u,h)})).next(()=>{if(i){let u=Me();const h=[];return X.forEach(o,(d,f)=>{pe(xR,`Using index ${function(U){return`id=${U.indexId}|cg=${U.collectionGroup}|f=${U.fields.map($=>`${$.fieldPath}:${$.kind}`).join(",")}`}(d)} to execute ${fl(t)}`);const g=function(U,$){const j=B0($);if(j===void 0)return null;for(const H of yg(U,j.fieldPath))switch(H.op){case"array-contains-any":return H.value.arrayValue.values||[];case"array-contains":return[H.value]}return null}(f,d),_=function(U,$){const j=new Map;for(const H of Qo($))for(const V of yg(U,H.fieldPath))switch(V.op){case"==":case"in":j.set(H.fieldPath.canonicalString(),V.value);break;case"not-in":case"!=":return j.set(H.fieldPath.canonicalString(),V.value),Array.from(j.values())}return null}(f,d),v=function(U,$){const j=[];let H=!0;for(const V of Qo($)){const C=V.kind===0?lR(U,V.fieldPath,U.startAt):uR(U,V.fieldPath,U.startAt);j.push(C.value),H&&(H=C.inclusive)}return new Ja(j,H)}(f,d),T=function(U,$){const j=[];let H=!0;for(const V of Qo($)){const C=V.kind===0?uR(U,V.fieldPath,U.endAt):lR(U,V.fieldPath,U.endAt);j.push(C.value),H&&(H=C.inclusive)}return new Ja(j,H)}(f,d),w=this.Rn(d,f,v),I=this.Rn(d,f,T),x=this.Vn(d,f,_),L=this.mn(d.indexId,g,w,v.inclusive,I,T.inclusive,x);return X.forEach(L,M=>r.H(M,t.limit).next(U=>{U.forEach($=>{const j=_e.fromSegments($.documentKey);u.has(j)||(u=u.add(j),h.push(j))})}))}).next(()=>h)}return X.resolve(null)})}dn(e){let t=this.En.get(e);return t||(e.filters.length===0?t=[e]:t=q3(ot.create(e.filters,"and")).map(r=>Q0(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.En.set(e,t),t)}mn(e,t,r,i,o,u,h){const d=(t!=null?t.length:1)*Math.max(r.length,o.length),f=d/(t!=null?t.length:1),g=[];for(let _=0;_<d;++_){const v=t?this.fn(t[_/f]):gm,T=this.gn(e,v,r[_%f],i),w=this.pn(e,v,o[_%f],u),I=h.map(x=>this.gn(e,v,x,!0));g.push(...this.createRange(T,w,I))}return g}gn(e,t,r,i){const o=new el(e,_e.empty(),t,r);return i?o:o.nn()}pn(e,t,r,i){const o=new el(e,_e.empty(),t,r);return i?o.nn():o}An(e,t){const r=new RR(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let u=null;for(const h of o)r.un(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let r=2;const i=this.dn(t);return X.forEach(i,o=>this.An(e,o).next(u=>{u?r!==0&&u.fields.length<function(d){let f=new lt(St.comparator),g=!1;for(const _ of d.filters)for(const v of _.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?g=!0:f=f.add(v.field));for(const _ of d.orderBy)_.field.isKeyField()||(f=f.add(_.field));return f.size+(g?1:0)}(o)&&(r=1):r=0})).next(()=>function(u){return u.limit!==null}(t)&&i.length>1&&r===2?1:r)}yn(e,t){const r=new Jh;for(const i of Qo(e)){const o=t.data.field(i.fieldPath);if(o==null)return null;const u=r.tn(i.kind);Zo.xt.At(o,u)}return r.Yt()}fn(e){const t=new Jh;return Zo.xt.At(e,t.tn(0)),t.Yt()}wn(e,t){const r=new Jh;return Zo.xt.At(dl(this.databaseId,t),r.tn(function(o){const u=Qo(o);return u.length===0?0:u[u.length-1].kind}(e))),r.Yt()}Vn(e,t,r){if(r===null)return[];let i=[];i.push(new Jh);let o=0;for(const u of Qo(e)){const h=r[o++];for(const d of i)if(this.Sn(t,u.fieldPath)&&Zd(h))i=this.bn(i,u,h);else{const f=d.tn(u.kind);Zo.xt.At(h,f)}}return this.Dn(i)}Rn(e,t,r){return this.Vn(e,t,r.position)}Dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Yt();return t}bn(e,t,r){const i=[...e],o=[];for(const u of r.arrayValue.values||[])for(const h of i){const d=new Jh;d.seed(h.Yt()),Zo.xt.At(u,d.tn(t.kind)),o.push(d)}return o}Sn(e,t){return!!e.filters.find(r=>r instanceof He&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=Zh(e),i=Tu(e);return(t?r.G(j0,IDBKeyRange.bound(t,t)):r.G()).next(o=>{const u=[];return X.forEach(o,h=>i.get([h.indexId,this.uid]).next(d=>{u.push(function(g,_){const v=_?new Gd(_.sequenceNumber,new Pr(yl(_.readTime),new _e(Fi(_.documentKey)),_.largestBatchId)):Gd.empty(),T=g.fields.map(([w,I])=>new km(St.fromServerFormat(w),I));return new cg(g.indexId,g.collectionGroup,T,v)}(h,d))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:Ne(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Zh(e),o=Tu(e);return this.vn(e).next(u=>i.G(j0,IDBKeyRange.bound(t,t)).next(h=>X.forEach(h,d=>o.put(wR(d.indexId,this.uid,u,r)))))}updateIndexEntries(e,t){const r=new Map;return X.forEach(t,(i,o)=>{const u=r.get(i.collectionGroup);return(u?X.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),X.forEach(h,d=>this.Cn(e,i,d).next(f=>{const g=this.Fn(o,d);return f.isEqual(g)?X.resolve():this.Mn(e,o,d,f,g)}))))})}xn(e,t,r,i){return wu(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.wn(r,t.key),documentKey:t.key.path.toArray()})}On(e,t,r,i){return wu(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.wn(r,t.key),t.key.path.toArray()])}Cn(e,t,r){const i=wu(e);let o=new lt(xa);return i.Z({index:DP,range:IDBKeyRange.only([r.indexId,this.uid,this.wn(r,t)])},(u,h)=>{o=o.add(new el(r.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>o)}Fn(e,t){let r=new lt(xa);const i=this.yn(t,e);if(i==null)return r;const o=B0(t);if(o!=null){const u=e.data.field(o.fieldPath);if(Zd(u))for(const h of u.arrayValue.values||[])r=r.add(new el(t.indexId,e.key,this.fn(h),i))}else r=r.add(new el(t.indexId,e.key,gm,i));return r}Mn(e,t,r,i,o){pe(xR,"Updating index entries for document '%s'",t.key);const u=[];return function(d,f,g,_,v){const T=d.getIterator(),w=f.getIterator();let I=Eu(T),x=Eu(w);for(;I||x;){let L=!1,M=!1;if(I&&x){const U=g(I,x);U<0?M=!0:U>0&&(L=!0)}else I!=null?M=!0:L=!0;L?(_(x),x=Eu(w)):M?(v(I),I=Eu(T)):(I=Eu(T),x=Eu(w))}}(i,o,xa,h=>{u.push(this.xn(e,t,r,h))},h=>{u.push(this.On(e,t,r,h))}),X.waitFor(u)}vn(e){let t=1;return Tu(e).Z({index:OP,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,h)=>xa(u,h)).filter((u,h,d)=>!h||xa(u,d[h-1])!==0);const i=[];i.push(e);for(const u of r){const h=xa(u,e),d=xa(u,t);if(h===0)i[0]=e.nn();else if(h>0&&d<0)i.push(u),i.push(u.nn());else if(d>0)break}i.push(t);const o=[];for(let u=0;u<i.length;u+=2){if(this.Nn(i[u],i[u+1]))return[];const h=[i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,gm,[]],d=[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,gm,[]];o.push(IDBKeyRange.bound(h,d))}return o}Nn(e,t){return xa(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(OR)}getMinOffset(e,t){return X.mapArray(this.dn(t),r=>this.An(e,r).next(i=>i||we())).next(OR)}}function PR(n){return gn(n,Yd)}function wu(n){return gn(n,mg)}function Zh(n){return gn(n,yb)}function Tu(n){return gn(n,pg)}function OR(n){Ae(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;pb(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Pr(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},MO=41943040;class qn{static withCacheSize(e){return new qn(e,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(n,e,t){const r=n.store(oi),i=n.store(ec),o=[],u=IDBKeyRange.only(t.batchId);let h=0;const d=r.Z({range:u},(g,_,v)=>(h++,v.delete()));o.push(d.next(()=>{Ae(h===1)}));const f=[];for(const g of t.mutations){const _=CP(e,g.key.path,t.batchId);o.push(i.delete(_)),f.push(g.key)}return X.waitFor(o).next(()=>f)}function bg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw we();e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(MO,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);class ly{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Bn={}}static It(e,t,r,i){Ae(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new ly(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Pa(e).Z({index:rl,range:r},(i,o,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=ku(e),u=Pa(e);return u.add({}).next(h=>{Ae(typeof h=="number");const d=new Rb(h,t,r,i),f=function(T,w,I){const x=I.baseMutations.map(M=>nf(T.Tt,M)),L=I.mutations.map(M=>nf(T.Tt,M));return{userId:w,batchId:I.batchId,localWriteTimeMs:I.localWriteTime.toMillis(),baseMutations:x,mutations:L}}(this.serializer,this.userId,d),g=[];let _=new lt((v,T)=>Ne(v.canonicalString(),T.canonicalString()));for(const v of i){const T=CP(this.userId,v.key.path,h);_=_.add(v.key.path.popLast()),g.push(u.put(f)),g.push(o.put(T,AF))}return _.forEach(v=>{g.push(this.indexManager.addToCollectionParentIndex(e,v))}),e.addOnCommittedListener(()=>{this.Bn[h]=d.keys()}),X.waitFor(g).next(()=>d)})}lookupMutationBatch(e,t){return Pa(e).get(t).next(r=>r?(Ae(r.userId===this.userId),Jo(this.serializer,r)):null)}Ln(e,t){return this.Bn[t]?X.resolve(this.Bn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Bn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Pa(e).Z({index:rl,range:i},(u,h,d)=>{h.userId===this.userId&&(Ae(h.batchId>=r),o=Jo(this.serializer,h)),d.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=ja;return Pa(e).Z({index:rl,range:t,reverse:!0},(i,o,u)=>{r=o.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,ja],[this.userId,Number.POSITIVE_INFINITY]);return Pa(e).G(rl,t).next(r=>r.map(i=>Jo(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Vm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return ku(e).Z({range:i},(u,h,d)=>{const[f,g,_]=u,v=Fi(g);if(f===this.userId&&t.path.isEqual(v))return Pa(e).get(_).next(T=>{if(!T)throw we();Ae(T.userId===this.userId),o.push(Jo(this.serializer,T))});d.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lt(Ne);const i=[];return t.forEach(o=>{const u=Vm(this.userId,o.path),h=IDBKeyRange.lowerBound(u),d=ku(e).Z({range:h},(f,g,_)=>{const[v,T,w]=f,I=Fi(T);v===this.userId&&o.path.isEqual(I)?r=r.add(w):_.done()});i.push(d)}),X.waitFor(i).next(()=>this.kn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=Vm(this.userId,r),u=IDBKeyRange.lowerBound(o);let h=new lt(Ne);return ku(e).Z({range:u},(d,f,g)=>{const[_,v,T]=d,w=Fi(v);_===this.userId&&r.isPrefixOf(w)?w.length===i&&(h=h.add(T)):g.done()}).next(()=>this.kn(e,h))}kn(e,t){const r=[],i=[];return t.forEach(o=>{i.push(Pa(e).get(o).next(u=>{if(u===null)throw we();Ae(u.userId===this.userId),r.push(Jo(this.serializer,u))}))}),X.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return LO(e.ue,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.qn(t.batchId)}),X.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}qn(e){delete this.Bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return X.resolve();const r=IDBKeyRange.lowerBound(function(u){return[u]}(this.userId)),i=[];return ku(e).Z({range:r},(o,u,h)=>{if(o[0]===this.userId){const d=Fi(o[1]);i.push(d)}else h.done()}).next(()=>{Ae(i.length===0)})})}containsKey(e,t){return UO(e,this.userId,t)}Qn(e){return BO(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:ja,lastStreamToken:""})}}function UO(n,e,t){const r=Vm(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let u=!1;return ku(n).Z({range:o,Y:!0},(h,d,f)=>{const[g,_,v]=h;g===e&&_===i&&(u=!0),f.done()}).next(()=>u)}function Pa(n){return gn(n,oi)}function ku(n){return gn(n,ec)}function BO(n){return gn(n,Wd)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new _l(0)}static Un(){return new _l(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Wn(e).next(t=>{const r=new _l(t.highestTargetId);return t.highestTargetId=r.next(),this.Gn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Wn(e).next(t=>Re.fromTimestamp(new It(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Wn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Wn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Gn(e,i)))}addTargetData(e,t){return this.zn(e,t).next(()=>this.Wn(e).next(r=>(r.targetCount+=1,this.jn(t,r),this.Gn(e,r))))}updateTargetData(e,t){return this.zn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Su(e).delete(t.targetId)).next(()=>this.Wn(e)).next(r=>(Ae(r.targetCount>0),r.targetCount-=1,this.Gn(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return Su(e).Z((u,h)=>{const d=wd(h);d.sequenceNumber<=t&&r.get(d.targetId)===null&&(i++,o.push(this.removeTargetData(e,d)))}).next(()=>X.waitFor(o)).next(()=>i)}forEachTarget(e,t){return Su(e).Z((r,i)=>{const o=wd(i);t(o)})}Wn(e){return NR(e).get(fg).next(t=>(Ae(t!==null),t))}Gn(e,t){return NR(e).put(fg,t)}zn(e,t){return Su(e).put(NO(this.serializer,t))}jn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Wn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=fl(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Su(e).Z({range:i,index:PP},(u,h,d)=>{const f=wd(h);If(t,f.target)&&(o=f,d.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=ka(e);return t.forEach(u=>{const h=$n(u.path);i.push(o.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,u))}),X.waitFor(i)}removeMatchingKeys(e,t,r){const i=ka(e);return X.forEach(t,o=>{const u=$n(o.path);return X.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=ka(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=ka(e);let o=Me();return i.Z({range:r,Y:!0},(u,h,d)=>{const f=Fi(u[1]),g=new _e(f);o=o.add(g)}).next(()=>o)}containsKey(e,t){const r=$n(t.path),i=IDBKeyRange.bound([r],[bP(r)],!1,!0);let o=0;return ka(e).Z({index:gb,Y:!0,range:i},([u,h],d,f)=>{u!==0&&(o++,f.done())}).next(()=>o>0)}lt(e,t){return Su(e).get(t).next(r=>r?wd(r):null)}}function Su(n){return gn(n,tc)}function NR(n){return gn(n,ul)}function ka(n){return gn(n,nc)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="LruGarbageCollector",K3=1048576;function VR([n,e],[t,r]){const i=Ne(n,t);return i===0?Ne(e,r):i}class W3{constructor(e){this.Hn=e,this.buffer=new lt(VR),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();VR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class FO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){pe(kR,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){co(t)?pe(kR,"Ignoring IndexedDB error during garbage collection: ",t):await uo(t)}await this.er(3e5)})}}class Q3{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return X.resolve(lr.ae);const r=new W3(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(DR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DR):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,o,u,h,d,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,u=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,h=Date.now(),this.removeTargets(e,r,t))).next(_=>(o=_,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(f=Date.now(),Pu()<=je.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${i} in `+(h-u)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${_} documents in `+(f-d)+`ms
Total Duration: ${f-g}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:_})))}}function jO(n,e){return new Q3(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,t){this.db=e,this.garbageCollector=jO(this,t)}nr(e){const t=this.sr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}rr(e,t){return this._r(e,(r,i)=>t(i))}addReference(e,t,r){return ym(e,r)}removeReference(e,t,r){return ym(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return ym(e,t)}ar(e,t){return function(i,o){let u=!1;return BO(i).X(h=>UO(i,h,o).next(d=>(d&&(u=!0),X.resolve(!d)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this._r(e,(u,h)=>{if(h<=t){const d=this.ar(e,u).next(f=>{if(!f)return o++,r.getEntry(e,u).next(()=>(r.removeEntry(u,Re.min()),ka(e).delete(function(_){return[0,$n(_.path)]}(u))))});i.push(d)}}).next(()=>X.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return ym(e,t)}_r(e,t){const r=ka(e);let i,o=lr.ae;return r.Z({index:gb},([u,h],{path:d,sequenceNumber:f})=>{u===0?(o!==lr.ae&&t(new _e(Fi(i)),o),o=f,i=d):o=lr.ae}).next(()=>{o!==lr.ae&&t(new _e(Fi(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ym(n,e){return ka(n).put(function(r,i){return{targetId:0,path:$n(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(){this.changes=new Hs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?X.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Go(e).put(r)}removeEntry(e,t,r){return Go(e).delete(function(o,u){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],vg(u),h[h.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.ur(e,r)))}getEntry(e,t){let r=vt.newInvalidDocument(t);return Go(e).Z({index:Mm,range:IDBKeyRange.only(ed(t))},(i,o)=>{r=this.cr(t,o)}).next(()=>r)}lr(e,t){let r={size:0,document:vt.newInvalidDocument(t)};return Go(e).Z({index:Mm,range:IDBKeyRange.only(ed(t))},(i,o)=>{r={document:this.cr(t,o),size:bg(o)}}).next(()=>r)}getEntries(e,t){let r=cr();return this.hr(e,t,(i,o)=>{const u=this.cr(i,o);r=r.insert(i,u)}).next(()=>r)}Pr(e,t){let r=cr(),i=new yt(_e.comparator);return this.hr(e,t,(o,u)=>{const h=this.cr(o,u);r=r.insert(o,h),i=i.insert(o,bg(u))}).next(()=>({documents:r,Tr:i}))}hr(e,t,r){if(t.isEmpty())return X.resolve();let i=new lt(UR);t.forEach(d=>i=i.add(d));const o=IDBKeyRange.bound(ed(i.first()),ed(i.last())),u=i.getIterator();let h=u.getNext();return Go(e).Z({index:Mm,range:o},(d,f,g)=>{const _=_e.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;h&&UR(h,_)<0;)r(h,null),h=u.getNext();h&&h.isEqual(_)&&(r(h,f),h=u.hasNext()?u.getNext():null),h?g.W(ed(h)):g.done()}).next(()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){const u=t.path,h=[u.popLast().toArray(),u.lastSegment(),vg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Go(e).G(IDBKeyRange.bound(h,d,!0)).next(f=>{o==null||o.incrementDocumentReadCount(f.length);let g=cr();for(const _ of f){const v=this.cr(_e.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);v.isFoundDocument()&&(Cf(t,v)||i.has(v.key))&&(g=g.insert(v.key,v))}return g})}getAllFromCollectionGroup(e,t,r,i){let o=cr();const u=LR(t,r),h=LR(t,Pr.max());return Go(e).Z({index:xP,range:IDBKeyRange.bound(u,h,!0)},(d,f,g)=>{const _=this.cr(_e.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);o=o.insert(_.key,_),o.size===i&&g.done()}).next(()=>o)}newChangeBuffer(e){return new J3(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return MR(e).get(F0).next(t=>(Ae(!!t),t))}ur(e,t){return MR(e).put(F0,t)}cr(e,t){if(t){const r=M3(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Re.min())))return r}return vt.newInvalidDocument(e)}}function qO(n){return new X3(n)}class J3 extends zO{constructor(e,t){super(),this.Ir=e,this.trackRemovals=t,this.Er=new Hs(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new lt((o,u)=>Ne(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Er.get(o);if(t.push(this.Ir.removeEntry(e,o,h.readTime)),u.isValidDocument()){const d=ER(this.Ir.serializer,u);i=i.add(o.path.popLast());const f=bg(d);r+=f-h.size,t.push(this.Ir.addEntry(e,o,d))}else if(r-=h.size,this.trackRemovals){const d=ER(this.Ir.serializer,u.convertToNoDocument(Re.min()));t.push(this.Ir.addEntry(e,o,d))}}),i.forEach(o=>{t.push(this.Ir.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.Ir.updateMetadata(e,r)),X.waitFor(t)}getFromCache(e,t){return this.Ir.lr(e,t).next(r=>(this.Er.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Ir.Pr(e,t).next(({documents:r,Tr:i})=>(i.forEach((o,u)=>{this.Er.set(o,{size:u,readTime:r.get(o).readTime})}),r))}}function MR(n){return gn(n,Qd)}function Go(n){return gn(n,dg)}function ed(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function LR(n,e){const t=e.documentKey.path.toArray();return[n,vg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function UR(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=Ne(t[o],r[o]),i)return i;return i=Ne(t.length,r.length),i||(i=Ne(t[t.length-2],r[r.length-2]),i||Ne(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Nd(r.mutation,i,ur.empty(),It.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Me()){const i=ji();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let u=Ed();return o.forEach((h,d)=>{u=u.insert(h,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=ji();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Me()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,i){let o=cr();const u=Dd(),h=function(){return Dd()}();return t.forEach((d,f)=>{const g=r.get(f.key);i.has(f.key)&&(g===void 0||g.mutation instanceof $s)?o=o.insert(f.key,f):g!==void 0?(u.set(f.key,g.mutation.getFieldMask()),Nd(g.mutation,f,g.mutation.getFieldMask(),It.now())):u.set(f.key,ur.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((f,g)=>u.set(f,g)),t.forEach((f,g)=>{var _;return h.set(f,new Z3(g,(_=u.get(f))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Dd();let i=new yt((u,h)=>u-h),o=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(d=>{const f=t.get(d);if(f===null)return;let g=r.get(d)||ur.empty();g=h.applyToLocalView(f,g),r.set(d,g);const _=(i.get(h.batchId)||Me()).add(d);i=i.insert(h.batchId,_)})}).next(()=>{const u=[],h=i.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),f=d.key,g=d.value,_=aO();g.forEach(v=>{if(!o.has(v)){const T=fO(t.get(v),r.get(v));T!==null&&_.set(v,T),o=o.add(v)}}),u.push(this.documentOverlayCache.saveOverlays(e,f,_))}return X.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(u){return _e.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Tb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const u=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):X.resolve(ji());let h=Zu,d=o;return u.next(f=>X.forEach(f,(g,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(g)?X.resolve():this.remoteDocumentCache.getEntry(e,g).next(v=>{d=d.insert(g,v)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,d,f,Me())).next(g=>({batchId:h,changes:sO(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(r=>{let i=Ed();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let u=Ed();return this.indexManager.getCollectionParents(e,o).next(h=>X.forEach(h,d=>{const f=function(_,v){return new qs(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(g=>{g.forEach((_,v)=>{u=u.insert(_,v)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(u=>{o.forEach((d,f)=>{const g=f.getKey();u.get(g)===null&&(u=u.insert(g,vt.newInvalidDocument(g)))});let h=Ed();return u.forEach((d,f)=>{const g=o.get(d);g!==void 0&&Nd(g.mutation,f,ur.empty(),It.now()),Cf(t,f)&&(h=h.insert(d,f))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return X.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Qt(i.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:Db(i.bundledQuery),readTime:Qt(i.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(){this.overlays=new yt(_e.comparator),this.Rr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ji();return X.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Et(e,t,o)}),X.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),X.resolve()}getOverlaysForCollection(e,t,r){const i=ji(),o=t.length+1,u=new _e(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,f=d.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>r&&i.set(d.getKey(),d)}return X.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new yt((f,g)=>f-g);const u=this.overlays.getIterator();for(;u.hasNext();){const f=u.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let g=o.get(f.largestBatchId);g===null&&(g=ji(),o=o.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const h=ji(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,g)=>h.set(f,g)),!(h.size()>=i)););return X.resolve(h)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new xb(t,r));let o=this.Rr.get(t);o===void 0&&(o=Me(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(){this.Vr=new lt(Sn.mr),this.gr=new lt(Sn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Sn(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Sn(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new _e(new qe([])),r=new Sn(t,e),i=new Sn(t,e+1),o=[];return this.gr.forEachInRange([r,i],u=>{this.wr(u),o.push(u.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new _e(new qe([])),r=new Sn(t,e),i=new Sn(t,e+1);let o=Me();return this.gr.forEachInRange([r,i],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Sn(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Sn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return _e.comparator(e.key,t.key)||Ne(e.Cr,t.Cr)}static pr(e,t){return Ne(e.Cr,t.Cr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new lt(Sn.mr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Rb(o,t,r,i);this.mutationQueue.push(u);for(const h of i)this.Mr=this.Mr.add(new Sn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return X.resolve(u)}lookupMutationBatch(e,t){return X.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),o=i<0?0:i;return X.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?ja:this.Fr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Sn(t,0),i=new Sn(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],u=>{const h=this.Or(u.Cr);o.push(h)}),X.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lt(Ne);return t.forEach(i=>{const o=new Sn(i,0),u=new Sn(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,u],h=>{r=r.add(h.Cr)})}),X.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;_e.isDocumentKey(o)||(o=o.child(""));const u=new Sn(new _e(o),0);let h=new lt(Ne);return this.Mr.forEachWhile(d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(h=h.add(d.Cr)),!0)},u),X.resolve(this.Br(h))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ae(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return X.forEach(t.mutations,i=>{const o=new Sn(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Sn(t,0),i=this.Mr.firstAfterOrEqual(r);return X.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e){this.kr=e,this.docs=function(){return new yt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,u=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return X.resolve(r?r.document.mutableCopy():vt.newInvalidDocument(t))}getEntries(e,t){let r=cr();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():vt.newInvalidDocument(i))}),X.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=cr();const u=t.path,h=new _e(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:f,value:{document:g}}=d.getNext();if(!u.isPrefixOf(f.path))break;f.path.length>u.length+1||pb(TP(g),r)<=0||(i.has(g.key)||Cf(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return X.resolve(o)}getAllFromCollectionGroup(e,t,r,i){we()}qr(e,t){return X.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new sj(this)}getSize(e){return X.resolve(this.size)}}class sj extends zO{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),X.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e){this.persistence=e,this.Qr=new Hs(t=>fl(t),If),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Vb,this.targetCount=0,this.Ur=_l.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),X.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new _l(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.zn(t),X.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Qr.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.Qr.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),X.waitFor(o).next(()=>i)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return X.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),X.resolve()}removeMatchingKeys(e,t,r){this.Kr.Sr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(u=>{o.push(i.markPotentiallyOrphaned(e,u))}),X.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),X.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return X.resolve(r)}containsKey(e,t){return X.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new lr(0),this.zr=!1,this.zr=!0,this.jr=new nj,this.referenceDelegate=e(this),this.Hr=new aj(this),this.indexManager=new H3,this.remoteDocumentCache=function(i){return new ij(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new DO(t),this.Yr=new ej(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new tj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new rj(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){pe("MemoryPersistence","Starting transaction:",e);const i=new oj(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,t){return X.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class oj extends AP{constructor(e){super(),this.currentSequenceNumber=e}}class uy{constructor(e){this.persistence=e,this.ti=new Vb,this.ni=null}static ri(e){return new uy(e)}get ii(){if(this.ni)return this.ni;throw we()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),X.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),X.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ii,r=>{const i=_e.fromPath(r);return this.si(e,i).next(o=>{o||t.removeEntry(i,Re.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return X.or([()=>X.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class wg{constructor(e,t){this.persistence=e,this.oi=new Hs(r=>$n(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=jO(this,t)}static ri(e,t){return new wg(e,t)}Zr(){}Xr(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return X.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?X.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,u=>this.ar(e,u,t).next(h=>{h||(r++,o.removeEntry(u,Re.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),X.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Um(e.data.value)),t}ar(e,t,r){return X.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return X.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e){this.serializer=e}B(e,t,r,i){const o=new Jg("createOrUpgrade",t);r<1&&i>=1&&(function(d){d.createObjectStore(Af)}(e),function(d){d.createObjectStore(Wd,{keyPath:SF}),d.createObjectStore(oi,{keyPath:YI,autoIncrement:!0}).createIndex(rl,XI,{unique:!0}),d.createObjectStore(ec)}(e),BR(e),function(d){d.createObjectStore(Yo)}(e));let u=X.resolve();return r<3&&i>=3&&(r!==0&&(function(d){d.deleteObjectStore(nc),d.deleteObjectStore(tc),d.deleteObjectStore(ul)}(e),BR(e)),u=u.next(()=>function(d){const f=d.store(ul),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Re.min().toTimestamp(),targetCount:0};return f.put(fg,g)}(o))),r<4&&i>=4&&(r!==0&&(u=u.next(()=>function(d,f){return f.store(oi).G().next(_=>{d.deleteObjectStore(oi),d.createObjectStore(oi,{keyPath:YI,autoIncrement:!0}).createIndex(rl,XI,{unique:!0});const v=f.store(oi),T=_.map(w=>v.put(w));return X.waitFor(T)})}(e,o))),u=u.next(()=>{(function(d){d.createObjectStore(rc,{keyPath:NF})})(e)})),r<5&&i>=5&&(u=u.next(()=>this._i(o))),r<6&&i>=6&&(u=u.next(()=>(function(d){d.createObjectStore(Qd)}(e),this.ai(o)))),r<7&&i>=7&&(u=u.next(()=>this.ui(o))),r<8&&i>=8&&(u=u.next(()=>this.ci(e,o))),r<9&&i>=9&&(u=u.next(()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(u=u.next(()=>this.li(o))),r<11&&i>=11&&(u=u.next(()=>{(function(d){d.createObjectStore(Zg,{keyPath:kF})})(e),function(d){d.createObjectStore(ey,{keyPath:VF})}(e)})),r<12&&i>=12&&(u=u.next(()=>{(function(d){const f=d.createObjectStore(ty,{keyPath:zF});f.createIndex(z0,qF,{unique:!1}),f.createIndex(NP,HF,{unique:!1})})(e)})),r<13&&i>=13&&(u=u.next(()=>function(d){const f=d.createObjectStore(dg,{keyPath:IF});f.createIndex(Mm,RF),f.createIndex(xP,CF)}(e)).next(()=>this.hi(e,o)).next(()=>e.deleteObjectStore(Yo))),r<14&&i>=14&&(u=u.next(()=>this.Pi(e,o))),r<15&&i>=15&&(u=u.next(()=>function(d){d.createObjectStore(yb,{keyPath:MF,autoIncrement:!0}).createIndex(j0,LF,{unique:!1}),d.createObjectStore(pg,{keyPath:UF}).createIndex(OP,BF,{unique:!1}),d.createObjectStore(mg,{keyPath:FF}).createIndex(DP,jF,{unique:!1})}(e))),r<16&&i>=16&&(u=u.next(()=>{t.objectStore(pg).clear()}).next(()=>{t.objectStore(mg).clear()})),r<17&&i>=17&&(u=u.next(()=>{(function(d){d.createObjectStore(_b,{keyPath:$F})})(e)})),u}ai(e){let t=0;return e.store(Yo).Z((r,i)=>{t+=bg(i)}).next(()=>{const r={byteSize:t};return e.store(Qd).put(F0,r)})}_i(e){const t=e.store(Wd),r=e.store(oi);return t.G().next(i=>X.forEach(i,o=>{const u=IDBKeyRange.bound([o.userId,ja],[o.userId,o.lastAcknowledgedBatchId]);return r.G(rl,u).next(h=>X.forEach(h,d=>{Ae(d.userId===o.userId);const f=Jo(this.serializer,d);return LO(e,o.userId,f).next(()=>{})}))}))}ui(e){const t=e.store(nc),r=e.store(Yo);return e.store(ul).get(fg).next(i=>{const o=[];return r.Z((u,h)=>{const d=new qe(u),f=function(_){return[0,$n(_)]}(d);o.push(t.get(f).next(g=>g?X.resolve():(_=>t.put({targetId:0,path:$n(_),sequenceNumber:i.highestListenSequenceNumber}))(d)))}).next(()=>X.waitFor(o))})}ci(e,t){e.createObjectStore(Yd,{keyPath:DF});const r=t.store(Yd),i=new kb,o=u=>{if(i.add(u)){const h=u.lastSegment(),d=u.popLast();return r.put({collectionId:h,parent:$n(d)})}};return t.store(Yo).Z({Y:!0},(u,h)=>{const d=new qe(u);return o(d.popLast())}).next(()=>t.store(ec).Z({Y:!0},([u,h,d],f)=>{const g=Fi(h);return o(g.popLast())}))}li(e){const t=e.store(tc);return t.Z((r,i)=>{const o=wd(i),u=NO(this.serializer,o);return t.put(u)})}hi(e,t){const r=t.store(Yo),i=[];return r.Z((o,u)=>{const h=t.store(dg),d=function(_){return _.document?new _e(qe.fromString(_.document.name).popFirst(5)):_.noDocument?_e.fromSegments(_.noDocument.path):_.unknownDocument?_e.fromSegments(_.unknownDocument.path):we()}(u).path.toArray(),f={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(h.put(f))}).next(()=>X.waitFor(i))}Pi(e,t){const r=t.store(oi),i=qO(this.serializer),o=new Mb(uy.ri,this.serializer.Tt);return r.G().next(u=>{const h=new Map;return u.forEach(d=>{var f;let g=(f=h.get(d.userId))!==null&&f!==void 0?f:Me();Jo(this.serializer,d).keys().forEach(_=>g=g.add(_)),h.set(d.userId,g)}),X.forEach(h,(d,f)=>{const g=new An(f),_=oy.It(this.serializer,g),v=o.getIndexManager(g),T=ly.It(g,this.serializer,v,o.referenceDelegate);return new HO(i,T,_,v).recalculateAndSaveOverlaysForDocumentKeys(new q0(t,lr.ae),d).next()})})}}function BR(n){n.createObjectStore(nc,{keyPath:PF}).createIndex(gb,OF,{unique:!0}),n.createObjectStore(tc,{keyPath:"targetId"}).createIndex(PP,xF,{unique:!0}),n.createObjectStore(ul)}const Oa="IndexedDbPersistence",o0=18e5,l0=5e3,u0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",$O="main";class Lb{constructor(e,t,r,i,o,u,h,d,f,g,_=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ti=o,this.window=u,this.document=h,this.Ii=f,this.Ei=g,this.di=_,this.Gr=null,this.zr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ai=null,this.inForeground=!1,this.Ri=null,this.Vi=null,this.mi=Number.NEGATIVE_INFINITY,this.fi=v=>Promise.resolve(),!Lb.D())throw new de(ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Y3(this,i),this.gi=t+$O,this.serializer=new DO(d),this.pi=new zi(this.gi,this.di,new lj(this.serializer)),this.jr=new U3,this.Hr=new G3(this.referenceDelegate,this.serializer),this.remoteDocumentCache=qO(this.serializer),this.Yr=new L3,this.window&&this.window.localStorage?this.yi=this.window.localStorage:(this.yi=null,g===!1&&Wt(Oa,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new de(ne.FAILED_PRECONDITION,u0);return this.Si(),this.bi(),this.Di(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Hr.getHighestSequenceNumber(e))}).then(e=>{this.Gr=new lr(e,this.Ii)}).then(()=>{this.zr=!0}).catch(e=>(this.pi&&this.pi.close(),Promise.reject(e)))}Ci(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.pi.k(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ti.enqueueAndForget(async()=>{this.started&&await this.wi()}))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>_m(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Fi(e).next(t=>{t||(this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Mi(e)).next(t=>this.isPrimary&&!t?this.xi(e).next(()=>!1):!!t&&this.Oi(e).next(()=>!0))).catch(e=>{if(co(e))return pe(Oa,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return pe(Oa,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ti.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Fi(e){return td(e).get(vu).next(t=>X.resolve(this.Ni(t)))}Bi(e){return _m(e).delete(this.clientId)}async Li(){if(this.isPrimary&&!this.ki(this.mi,o0)){this.mi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=gn(t,rc);return r.G().next(i=>{const o=this.qi(i,o0),u=i.filter(h=>o.indexOf(h)===-1);return X.forEach(u,h=>r.delete(h.clientId)).next(()=>u)})}).catch(()=>[]);if(this.yi)for(const t of e)this.yi.removeItem(this.Qi(t.clientId))}}Di(){this.Vi=this.Ti.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Li()).then(()=>this.Di()))}Ni(e){return!!e&&e.ownerId===this.clientId}Mi(e){return this.Ei?X.resolve(!0):td(e).get(vu).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,l0)&&!this.$i(t.ownerId)){if(this.Ni(t)&&this.networkEnabled)return!0;if(!this.Ni(t)){if(!t.allowTabSynchronization)throw new de(ne.FAILED_PRECONDITION,u0);return!1}}return!(!this.networkEnabled||!this.inForeground)||_m(e).G().next(r=>this.qi(r,l0).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,u=!this.inForeground&&i.inForeground,h=this.networkEnabled===i.networkEnabled;if(o||u&&h)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&pe(Oa,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.zr=!1,this.Ki(),this.Vi&&(this.Vi.cancel(),this.Vi=null),this.Ui(),this.Wi(),await this.pi.runTransaction("shutdown","readwrite",[Af,rc],e=>{const t=new q0(e,lr.ae);return this.xi(t).next(()=>this.Bi(t))}),this.pi.close(),this.Gi()}qi(e,t){return e.filter(r=>this.ki(r.updateTimeMs,t)&&!this.$i(r.clientId))}zi(){return this.runTransaction("getActiveClients","readonly",e=>_m(e).G().next(t=>this.qi(t,o0).map(r=>r.clientId)))}get started(){return this.zr}getGlobalsCache(){return this.jr}getMutationQueue(e,t){return ly.It(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new $3(e,this.serializer.Tt.databaseId)}getDocumentOverlayCache(e){return oy.It(this.serializer,e)}getBundleCache(){return this.Yr}runTransaction(e,t,r){pe(Oa,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",o=function(d){return d===17?WF:d===16?KF:d===15?vb:d===14?MP:d===13?VP:d===12?GF:d===11?kP:void we()}(this.di);let u;return this.pi.runTransaction(e,i,o,h=>(u=new q0(h,this.Gr?this.Gr.next():lr.ae),t==="readwrite-primary"?this.Fi(u).next(d=>!!d||this.Mi(u)).next(d=>{if(!d)throw Wt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)),new de(ne.FAILED_PRECONDITION,SP);return r(u)}).next(d=>this.Oi(u).next(()=>d)):this.ji(u).next(()=>r(u)))).then(h=>(u.raiseOnCommittedEvent(),h))}ji(e){return td(e).get(vu).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,l0)&&!this.$i(t.ownerId)&&!this.Ni(t)&&!(this.Ei||this.allowTabSynchronization&&t.allowTabSynchronization))throw new de(ne.FAILED_PRECONDITION,u0)})}Oi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return td(e).put(vu,t)}static D(){return zi.D()}xi(e){const t=td(e);return t.get(vu).next(r=>this.Ni(r)?(pe(Oa,"Releasing primary lease."),t.delete(vu)):X.resolve())}ki(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Wt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Si(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ri=()=>{this.Ti.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.wi()))},this.document.addEventListener("visibilitychange",this.Ri),this.inForeground=this.document.visibilityState==="visible")}Ui(){this.Ri&&(this.document.removeEventListener("visibilitychange",this.Ri),this.Ri=null)}bi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ai=()=>{this.Ki();const t=/(?:Version|Mobile)\/1[456]/;nx()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ti.enterRestrictedMode(!0),this.Ti.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ai))}Wi(){this.Ai&&(this.window.removeEventListener("pagehide",this.Ai),this.Ai=null)}$i(e){var t;try{const r=((t=this.yi)===null||t===void 0?void 0:t.getItem(this.Qi(e)))!==null;return pe(Oa,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Wt(Oa,"Failed to get zombied client id.",r),!1}}Ki(){if(this.yi)try{this.yi.setItem(this.Qi(this.clientId),String(Date.now()))}catch(e){Wt("Failed to set zombie client id.",e)}}Gi(){if(this.yi)try{this.yi.removeItem(this.Qi(this.clientId))}catch{}}Qi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function td(n){return gn(n,Af)}function _m(n){return gn(n,rc)}function Ub(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=Me(),i=Me();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Bb(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return nx()?8:IP(Vt())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.rs(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.ss(e,t,i,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new uj;return this._s(e,t,u).next(h=>{if(o.result=h,this.Xi)return this.us(e,t,u,h.size)})}).next(()=>o.result)}us(e,t,r,i){return r.documentReadCount<this.es?(Pu()<=je.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Ou(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),X.resolve()):(Pu()<=je.DEBUG&&pe("QueryEngine","Query:",Ou(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Pu()<=je.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Ou(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tr(t))):X.resolve())}rs(e,t){if(cR(t))return X.resolve(null);let r=tr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=_g(t,null,"F"),r=tr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=Me(...o);return this.ns.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(d=>{const f=this.cs(t,h);return this.ls(t,f,u,d.readTime)?this.rs(e,_g(t,null,"F")):this.hs(e,f,t,d)}))})))}ss(e,t,r,i){return cR(t)||i.isEqual(Re.min())?X.resolve(null):this.ns.getDocuments(e,r).next(o=>{const u=this.cs(t,o);return this.ls(t,u,r,i)?X.resolve(null):(Pu()<=je.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ou(t)),this.hs(e,u,t,wP(i,Zu)).next(h=>h))})}cs(e,t){let r=new lt(rO(e));return t.forEach((i,o)=>{Cf(e,o)&&(r=r.add(o))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,t,r){return Pu()<=je.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Ou(t)),this.ns.getDocumentsMatchingQuery(e,t,Pr.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="LocalStore",cj=3e8;class hj{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new yt(Ne),this.Is=new Hs(o=>fl(o),If),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HO(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function KO(n,e,t,r){return new hj(n,e,t,r)}async function WO(n,e){const t=Ee(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],h=[];let d=Me();for(const f of i){u.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}for(const f of o){h.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}return t.localDocuments.getDocuments(r,d).next(f=>({Rs:f,removedBatchIds:u,addedBatchIds:h}))})})}function dj(n,e){const t=Ee(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(h,d,f,g){const _=f.batch,v=_.keys();let T=X.resolve();return v.forEach(w=>{T=T.next(()=>g.getEntry(d,w)).next(I=>{const x=f.docVersions.get(w);Ae(x!==null),I.version.compareTo(x)<0&&(_.applyToRemoteDocument(I,f),I.isValidDocument()&&(I.setReadTime(f.commitVersion),g.addEntry(I)))})}),T.next(()=>h.mutationQueue.removeMutationBatch(d,_))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let d=Me();for(let f=0;f<h.mutationResults.length;++f)h.mutationResults[f].transformResults.length>0&&(d=d.add(h.batch.mutations[f].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function QO(n){const e=Ee(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function fj(n,e){const t=Ee(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const h=[];e.targetChanges.forEach((g,_)=>{const v=i.get(_);if(!v)return;h.push(t.Hr.removeMatchingKeys(o,g.removedDocuments,_).next(()=>t.Hr.addMatchingKeys(o,g.addedDocuments,_)));let T=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken(qt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),i=i.insert(_,T),function(I,x,L){return I.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=cj?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(v,T,g)&&h.push(t.Hr.updateTargetData(o,T))});let d=cr(),f=Me();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),h.push(YO(o,u,e.documentUpdates).next(g=>{d=g.Vs,f=g.fs})),!r.isEqual(Re.min())){const g=t.Hr.getLastRemoteSnapshotVersion(o).next(_=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(g)}return X.waitFor(h).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,f)).next(()=>d)}).then(o=>(t.Ts=i,o))}function YO(n,e,t){let r=Me(),i=Me();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=cr();return t.forEach((h,d)=>{const f=o.get(h);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(h)),d.isNoDocument()&&d.version.isEqual(Re.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):pe(Fb,"Ignoring outdated watch update for ",h,". Current version:",f.version," Watch version:",d.version)}),{Vs:u,fs:i}})}function pj(n,e){const t=Ee(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ja),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function cc(n,e){const t=Ee(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(o=>o?(i=o,X.resolve(i)):t.Hr.allocateTargetId(r).next(u=>(i=new Ps(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function hc(n,e,t){const r=Ee(n),i=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,i))}catch(u){if(!co(u))throw u;pe(Fb,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function Tg(n,e,t){const r=Ee(n);let i=Re.min(),o=Me();return r.persistence.runTransaction("Execute query","readwrite",u=>function(d,f,g){const _=Ee(d),v=_.Is.get(g);return v!==void 0?X.resolve(_.Ts.get(v)):_.Hr.getTargetData(f,g)}(r,u,tr(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(u,h.targetId).next(d=>{o=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(u,e,t?i:Re.min(),t?o:Me())).next(h=>(ZO(r,nO(e),h),{documents:h,gs:o})))}function XO(n,e){const t=Ee(n),r=Ee(t.Hr),i=t.Ts.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.lt(o,e).next(u=>u?u.target:null))}function JO(n,e){const t=Ee(n),r=t.Es.get(e)||Re.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ds.getAllFromCollectionGroup(i,e,wP(r,Zu),Number.MAX_SAFE_INTEGER)).then(i=>(ZO(t,e,i),i))}function ZO(n,e,t){let r=n.Es.get(e)||Re.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}async function mj(n,e,t,r){const i=Ee(n);let o=Me(),u=cr();for(const f of t){const g=e.ps(f.metadata.name);f.document&&(o=o.add(g));const _=e.ys(f);_.setReadTime(e.ws(f.metadata.readTime)),u=u.insert(g,_)}const h=i.ds.newChangeBuffer({trackRemovals:!0}),d=await cc(i,function(g){return tr(xc(qe.fromString(`__bundle__/docs/${g}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",f=>YO(f,h,u).next(g=>(h.apply(f),g)).next(g=>i.Hr.removeMatchingKeysForTargetId(f,d.targetId).next(()=>i.Hr.addMatchingKeys(f,o,d.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(f,g.Vs,g.fs)).next(()=>g.Vs)))}async function gj(n,e,t=Me()){const r=await cc(n,tr(Db(e.bundledQuery))),i=Ee(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const u=Qt(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Yr.saveNamedQuery(o,e);const h=r.withResumeToken(qt.EMPTY_BYTE_STRING,u);return i.Ts=i.Ts.insert(h.targetId,h),i.Hr.updateTargetData(o,h).next(()=>i.Hr.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Hr.addMatchingKeys(o,t,r.targetId)).next(()=>i.Yr.saveNamedQuery(o,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="firestore_clients";function FR(n,e){return`${eD}_${n}_${e}`}const tD="firestore_mutations";function jR(n,e,t){let r=`${tD}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const nD="firestore_targets";function c0(n,e){return`${nD}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="SharedClientState";class Sg{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ss(e,t,r){const i=JSON.parse(r);let o,u=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return u&&i.error&&(u=typeof i.error.message=="string"&&typeof i.error.code=="string",u&&(o=new de(i.error.code,i.error.message))),u?new Sg(e,t,i.state,o):(Wt(Oi,`Failed to parse mutation state for ID '${t}': ${r}`),null)}bs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class kd{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ss(e,t){const r=JSON.parse(t);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new de(r.error.code,r.error.message))),o?new kd(e,r.state,i):(Wt(Oi,`Failed to parse target state for ID '${e}': ${t}`),null)}bs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ag{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ss(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=Sb();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=RP(r.activeTargetIds[u]),o=o.add(r.activeTargetIds[u]);return i?new Ag(e,o):(Wt(Oi,`Failed to parse client data for instance '${e}': ${t}`),null)}}class jb{constructor(e,t){this.clientId=e,this.onlineState=t}static Ss(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new jb(t.clientId,t.onlineState):(Wt(Oi,`Failed to parse online state: ${e}`),null)}}class iE{constructor(){this.activeTargetIds=Sb()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class h0{constructor(e,t,r,i,o){this.window=e,this.Ti=t,this.persistenceKey=r,this.Cs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Fs=this.Ms.bind(this),this.xs=new yt(Ne),this.started=!1,this.Os=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ns=FR(this.persistenceKey,this.Cs),this.Bs=function(d){return`firestore_sequence_number_${d}`}(this.persistenceKey),this.xs=this.xs.insert(this.Cs,new iE),this.Ls=new RegExp(`^${eD}_${u}_([^_]*)$`),this.ks=new RegExp(`^${tD}_${u}_(\\d+)(?:_(.*))?$`),this.qs=new RegExp(`^${nD}_${u}_(\\d+)$`),this.Qs=function(d){return`firestore_online_state_${d}`}(this.persistenceKey),this.$s=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.Fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.zi();for(const r of e){if(r===this.Cs)continue;const i=this.getItem(FR(this.persistenceKey,r));if(i){const o=Ag.Ss(r,i);o&&(this.xs=this.xs.insert(o.clientId,o))}}this.Ks();const t=this.storage.getItem(this.Qs);if(t){const r=this.Us(t);r&&this.Ws(r)}for(const r of this.Os)this.Ms(r);this.Os=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Bs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Gs(this.xs)}isActiveQueryTarget(e){let t=!1;return this.xs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.zs(e,"pending")}updateMutationState(e,t,r){this.zs(e,t,r),this.js(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(c0(this.persistenceKey,e));if(i){const o=kd.Ss(e,i);o&&(r=o.state)}}return t&&this.Hs.Ds(e),this.Ks(),r}removeLocalQueryTarget(e){this.Hs.vs(e),this.Ks()}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(c0(this.persistenceKey,e))}updateQueryState(e,t,r){this.Js(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.js(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ys(e)}notifyBundleLoaded(e){this.Zs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Fs),this.removeItem(this.Ns),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return pe(Oi,"READ",e,t),t}setItem(e,t){pe(Oi,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){pe(Oi,"REMOVE",e),this.storage.removeItem(e)}Ms(e){const t=e;if(t.storageArea===this.storage){if(pe(Oi,"EVENT",t.key,t.newValue),t.key===this.Ns)return void Wt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ti.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.Ls.test(t.key)){if(t.newValue==null){const r=this.Xs(t.key);return this.eo(r,null)}{const r=this.no(t.key,t.newValue);if(r)return this.eo(r.clientId,r)}}else if(this.ks.test(t.key)){if(t.newValue!==null){const r=this.ro(t.key,t.newValue);if(r)return this.io(r)}}else if(this.qs.test(t.key)){if(t.newValue!==null){const r=this.so(t.key,t.newValue);if(r)return this.oo(r)}}else if(t.key===this.Qs){if(t.newValue!==null){const r=this.Us(t.newValue);if(r)return this.Ws(r)}}else if(t.key===this.Bs){const r=function(o){let u=lr.ae;if(o!=null)try{const h=JSON.parse(o);Ae(typeof h=="number"),u=h}catch(h){Wt(Oi,"Failed to read sequence number from WebStorage",h)}return u}(t.newValue);r!==lr.ae&&this.sequenceNumberHandler(r)}else if(t.key===this.$s){const r=this._o(t.newValue);await Promise.all(r.map(i=>this.syncEngine.ao(i)))}}}else this.Os.push(t)})}}get Hs(){return this.xs.get(this.Cs)}Ks(){this.setItem(this.Ns,this.Hs.bs())}zs(e,t,r){const i=new Sg(this.currentUser,e,t,r),o=jR(this.persistenceKey,this.currentUser,e);this.setItem(o,i.bs())}js(e){const t=jR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ys(e){const t={clientId:this.Cs,onlineState:e};this.storage.setItem(this.Qs,JSON.stringify(t))}Js(e,t,r){const i=c0(this.persistenceKey,e),o=new kd(e,t,r);this.setItem(i,o.bs())}Zs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.$s,t)}Xs(e){const t=this.Ls.exec(e);return t?t[1]:null}no(e,t){const r=this.Xs(e);return Ag.Ss(r,t)}ro(e,t){const r=this.ks.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Sg.Ss(new An(o),i,t)}so(e,t){const r=this.qs.exec(e),i=Number(r[1]);return kd.Ss(i,t)}Us(e){return jb.Ss(e)}_o(e){return JSON.parse(e)}async io(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.uo(e.batchId,e.state,e.error);pe(Oi,`Ignoring mutation for non-active user ${e.user.uid}`)}oo(e){return this.syncEngine.co(e.targetId,e.state,e.error)}eo(e,t){const r=t?this.xs.insert(e,t):this.xs.remove(e),i=this.Gs(this.xs),o=this.Gs(r),u=[],h=[];return o.forEach(d=>{i.has(d)||u.push(d)}),i.forEach(d=>{o.has(d)||h.push(d)}),this.syncEngine.lo(u,h).then(()=>{this.xs=r})}Ws(e){this.xs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Gs(e){let t=Sb();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class rD{constructor(){this.ho=new iE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new iE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="ConnectivityMonitor";class qR{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){pe(zR,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){pe(zR,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vm=null;function sE(){return vm===null?vm=function(){return 268435456+Math.round(2147483648*Math.random())}():vm++,"0x"+vm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="RestConnection",_j={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vj{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===H0?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,t,r,i,o){const u=sE(),h=this.bo(e,t.toUriEncodedString());pe(d0,`Sending RPC '${e}' ${u}:`,h,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,i,o),this.vo(e,h,d,r).then(f=>(pe(d0,`Received RPC '${e}' ${u}: `,f),f),f=>{throw Wi(d0,`RPC '${e}' ${u} failed with error: `,f,"url: ",h,"request:",r),f})}Co(e,t,r,i,o,u){return this.So(e,t,r,i,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,t){const r=_j[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn="WebChannelConnection";class bj extends vj{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const o=sE();return new Promise((u,h)=>{const d=new pP;d.setWithCredentials(!0),d.listenOnce(mP.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Nm.NO_ERROR:const g=d.getResponseJson();pe(jn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),u(g);break;case Nm.TIMEOUT:pe(jn,`RPC '${e}' ${o} timed out`),h(new de(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Nm.HTTP_ERROR:const _=d.getStatus();if(pe(jn,`RPC '${e}' ${o} failed with status:`,_,"response text:",d.getResponseText()),_>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const T=v==null?void 0:v.error;if(T&&T.status&&T.message){const w=function(x){const L=x.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(L)>=0?L:ne.UNKNOWN}(T.status);h(new de(w,T.message))}else h(new de(ne.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new de(ne.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{pe(jn,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);pe(jn,`RPC '${e}' ${o} sending request:`,i),d.send(t,"POST",f,r,15)})}Wo(e,t,r){const i=sE(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=_P(),h=yP(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const g=o.join("");pe(jn,`Creating RPC '${e}' stream ${i}: ${g}`,d);const _=u.createWebChannel(g,d);let v=!1,T=!1;const w=new Ej({Fo:x=>{T?pe(jn,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(v||(pe(jn,`Opening RPC '${e}' stream ${i} transport.`),_.open(),v=!0),pe(jn,`RPC '${e}' stream ${i} sending:`,x),_.send(x))},Mo:()=>_.close()}),I=(x,L,M)=>{x.listen(L,U=>{try{M(U)}catch($){setTimeout(()=>{throw $},0)}})};return I(_,vd.EventType.OPEN,()=>{T||(pe(jn,`RPC '${e}' stream ${i} transport opened.`),w.Qo())}),I(_,vd.EventType.CLOSE,()=>{T||(T=!0,pe(jn,`RPC '${e}' stream ${i} transport closed`),w.Ko())}),I(_,vd.EventType.ERROR,x=>{T||(T=!0,Wi(jn,`RPC '${e}' stream ${i} transport errored:`,x),w.Ko(new de(ne.UNAVAILABLE,"The operation could not be completed")))}),I(_,vd.EventType.MESSAGE,x=>{var L;if(!T){const M=x.data[0];Ae(!!M);const U=M,$=(U==null?void 0:U.error)||((L=U[0])===null||L===void 0?void 0:L.error);if($){pe(jn,`RPC '${e}' stream ${i} received error:`,$);const j=$.status;let H=function(R){const b=rn[R];if(b!==void 0)return gO(b)}(j),V=$.message;H===void 0&&(H=ne.INTERNAL,V="Unknown error status: "+j+" with message "+$.message),T=!0,w.Ko(new de(H,V)),_.close()}else pe(jn,`RPC '${e}' stream ${i} received:`,M),w.Uo(M)}}),I(h,gP.STAT_EVENT,x=>{x.stat===U0.PROXY?pe(jn,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===U0.NOPROXY&&pe(jn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.$o()},0),w}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(){return typeof window<"u"?window:null}function zm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(n){return new I3(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="PersistentStream";class sD{constructor(e,t,r,i,o,u,h,d){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new zb(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Wt(t.toString()),Wt("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new de(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return pe(HR,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(pe(HR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wj extends sD{constructor(e,t,r,i,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=x3(this.serializer,e),r=function(o){if(!("targetChange"in o))return Re.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Re.min():u.readTime?Qt(u.readTime):Re.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=Z0(this.serializer),t.addTarget=function(o,u){let h;const d=u.target;if(h=gg(d)?{documents:IO(o,d)}:{query:RO(o,d).ht},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=EO(o,u.resumeToken);const f=X0(o,u.expectedCount);f!==null&&(h.expectedCount=f)}else if(u.snapshotVersion.compareTo(Re.min())>0){h.readTime=uc(o,u.snapshotVersion.toTimestamp());const f=X0(o,u.expectedCount);f!==null&&(h.expectedCount=f)}return h}(this.serializer,e);const r=O3(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=Z0(this.serializer),t.removeTarget=e,this.I_(t)}}class Tj extends sD{constructor(e,t,r,i,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=P3(e.writeResults,e.commitTime),r=Qt(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=Z0(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>nf(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{}class Aj extends Sj{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.So(e,J0(t,r),i,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(ne.UNKNOWN,o.toString())})}Co(e,t,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Co(e,J0(t,r),i,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ne.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Ij{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Wt(t),this.N_=!1):pe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl="RemoteStore";class Rj{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(u=>{r.enqueueAndForget(async()=>{fo(this)&&(pe(vl,"Restarting streams for network reachability change."),await async function(d){const f=Ee(d);f.W_.add(4),await Dc(f),f.j_.set("Unknown"),f.W_.delete(4),await Nf(f)}(this))})}),this.j_=new Ij(r,i)}}async function Nf(n){if(fo(n))for(const e of n.G_)await e(!0)}async function Dc(n){for(const e of n.G_)await e(!1)}function cy(n,e){const t=Ee(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),$b(t)?Hb(t):kc(t).c_()&&qb(t,e))}function dc(n,e){const t=Ee(n),r=kc(t);t.U_.delete(e),r.c_()&&aD(t,e),t.U_.size===0&&(r.c_()?r.P_():fo(t)&&t.j_.set("Unknown"))}function qb(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}kc(n).y_(e)}function aD(n,e){n.H_.Ne(e),kc(n).w_(e)}function Hb(n){n.H_=new w3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),kc(n).start(),n.j_.B_()}function $b(n){return fo(n)&&!kc(n).u_()&&n.U_.size>0}function fo(n){return Ee(n).W_.size===0}function oD(n){n.H_=void 0}async function Cj(n){n.j_.set("Online")}async function xj(n){n.U_.forEach((e,t)=>{qb(n,e)})}async function Pj(n,e){oD(n),$b(n)?(n.j_.q_(e),Hb(n)):n.j_.set("Unknown")}async function Oj(n,e,t){if(n.j_.set("Online"),e instanceof vO&&e.state===2&&e.cause)try{await async function(i,o){const u=o.cause;for(const h of o.targetIds)i.U_.has(h)&&(await i.remoteSyncer.rejectListen(h,u),i.U_.delete(h),i.H_.removeTarget(h))}(n,e)}catch(r){pe(vl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ig(n,r)}else if(e instanceof jm?n.H_.We(e):e instanceof _O?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Re.min()))try{const r=await QO(n.localStore);t.compareTo(r)>=0&&await function(o,u){const h=o.H_.ot(u);return h.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.U_.get(f);g&&o.U_.set(f,g.withResumeToken(d.resumeToken,u))}}),h.targetMismatches.forEach((d,f)=>{const g=o.U_.get(d);if(!g)return;o.U_.set(d,g.withResumeToken(qt.EMPTY_BYTE_STRING,g.snapshotVersion)),aD(o,d);const _=new Ps(g.target,d,f,g.sequenceNumber);qb(o,_)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){pe(vl,"Failed to raise snapshot:",r),await Ig(n,r)}}async function Ig(n,e,t){if(!co(e))throw e;n.W_.add(1),await Dc(n),n.j_.set("Offline"),t||(t=()=>QO(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(vl,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Nf(n)})}function lD(n,e){return e().catch(t=>Ig(n,t,e))}async function Nc(n){const e=Ee(n),t=Za(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:ja;for(;Dj(e);)try{const i=await pj(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,Nj(e,i)}catch(i){await Ig(e,i)}uD(e)&&cD(e)}function Dj(n){return fo(n)&&n.K_.length<10}function Nj(n,e){n.K_.push(e);const t=Za(n);t.c_()&&t.S_&&t.b_(e.mutations)}function uD(n){return fo(n)&&!Za(n).u_()&&n.K_.length>0}function cD(n){Za(n).start()}async function kj(n){Za(n).C_()}async function Vj(n){const e=Za(n);for(const t of n.K_)e.b_(t.mutations)}async function Mj(n,e,t){const r=n.K_.shift(),i=Cb.from(r,e,t);await lD(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Nc(n)}async function Lj(n,e){e&&Za(n).S_&&await async function(r,i){if(function(u){return mO(u)&&u!==ne.ABORTED}(i.code)){const o=r.K_.shift();Za(r).h_(),await lD(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Nc(r)}}(n,e),uD(n)&&cD(n)}async function $R(n,e){const t=Ee(n);t.asyncQueue.verifyOperationInProgress(),pe(vl,"RemoteStore received new credentials");const r=fo(t);t.W_.add(3),await Dc(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Nf(t)}async function aE(n,e){const t=Ee(n);e?(t.W_.delete(2),await Nf(t)):e||(t.W_.add(2),await Dc(t),t.j_.set("Unknown"))}function kc(n){return n.J_||(n.J_=function(t,r,i){const o=Ee(t);return o.M_(),new wj(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:Cj.bind(null,n),No:xj.bind(null,n),Lo:Pj.bind(null,n),p_:Oj.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),$b(n)?Hb(n):n.j_.set("Unknown")):(await n.J_.stop(),oD(n))})),n.J_}function Za(n){return n.Y_||(n.Y_=function(t,r,i){const o=Ee(t);return o.M_(),new Tj(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:kj.bind(null,n),Lo:Lj.bind(null,n),D_:Vj.bind(null,n),v_:Mj.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Nc(n)):(await n.Y_.stop(),n.K_.length>0&&(pe(vl,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Vn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const u=Date.now()+r,h=new Gb(e,t,u,i,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vc(n,e){if(Wt("AsyncQueue",`${e}: ${n}`),co(n))return new de(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{static emptySet(e){return new qu(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=Ed(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new qu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this.Z_=new yt(_e.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):we():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class fc{constructor(e,t,r,i,o,u,h,d,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new fc(e,t,qu.emptySet(t),u,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Bj{constructor(){this.queries=KR(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=Ee(t),o=i.queries;i.queries=KR(),o.forEach((u,h)=>{for(const d of h.ta)d.onError(r)})})(this,new de(ne.ABORTED,"Firestore shutting down"))}}function KR(){return new Hs(n=>tO(n),Rf)}async function Kb(n,e){const t=Ee(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new Uj,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await t.onListen(i,!0);break;case 1:o.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(u){const h=Vc(u,`Initialization of query '${Ou(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&Qb(t)}async function Wb(n,e){const t=Ee(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const u=o.ta.indexOf(e);u>=0&&(o.ta.splice(u,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Fj(n,e){const t=Ee(n);let r=!1;for(const i of e){const o=i.query,u=t.queries.get(o);if(u){for(const h of u.ta)h.oa(i)&&(r=!0);u.ea=i}}r&&Qb(t)}function jj(n,e,t){const r=Ee(n),i=r.queries.get(e);if(i)for(const o of i.ta)o.onError(t);r.queries.delete(e)}function Qb(n){n.ia.forEach(e=>{e.next()})}var oE,WR;(WR=oE||(oE={}))._a="default",WR.Cache="cache";class Yb{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new fc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=fc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==oE.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e,t){this.Ia=e,this.byteLength=t}Ea(){return"metadata"in this.Ia}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.serializer=e}ps(e){return qi(this.serializer,e)}ys(e){return e.metadata.exists?AO(this.serializer,e.document,!1):vt.newNoDocument(this.ps(e.metadata.name),this.ws(e.metadata.readTime))}ws(e){return Qt(e)}}class qj{constructor(e,t,r){this.da=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=hD(e)}Aa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ia.namedQuery)this.queries.push(e.Ia.namedQuery);else if(e.Ia.documentMetadata){this.documents.push({metadata:e.Ia.documentMetadata}),e.Ia.documentMetadata.exists||++t;const r=qe.fromString(e.Ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Ia.document&&(this.documents[this.documents.length-1].document=e.Ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ra(e){const t=new Map,r=new QR(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.ps(i.metadata.name);for(const u of i.metadata.queries){const h=(t.get(u)||Me()).add(o);t.set(u,h)}}return t}async complete(){const e=await mj(this.localStore,new QR(this.serializer),this.documents,this.da.id),t=this.Ra(this.documents);for(const r of this.queries)await gj(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Va:this.collectionGroups,ma:e}}}function hD(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.key=e}}class fD{constructor(e){this.key=e}}class pD{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Me(),this.mutatedKeys=Me(),this.ya=rO(e),this.wa=new qu(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new GR,i=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,u=i,h=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const v=i.get(g),T=Cf(this.query,_)?_:null,w=!!v&&this.mutatedKeys.has(v.key),I=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let x=!1;v&&T?v.data.isEqual(T.data)?w!==I&&(r.track({type:3,doc:T}),x=!0):this.va(v,T)||(r.track({type:2,doc:T}),x=!0,(d&&this.ya(T,d)>0||f&&this.ya(T,f)<0)&&(h=!0)):!v&&T?(r.track({type:0,doc:T}),x=!0):v&&!T&&(r.track({type:1,doc:v}),x=!0,(d||f)&&(h=!0)),x&&(T?(u=u.add(T),o=I?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{wa:u,Da:r,ls:h,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((g,_)=>function(T,w){const I=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return I(T)-I(w)}(g.type,_.type)||this.ya(g.doc,_.doc)),this.Ca(r),i=i!=null&&i;const h=t&&!i?this.Fa():[],d=this.pa.size===0&&this.current&&!i?1:0,f=d!==this.ga;return this.ga=d,u.length!==0||f?{snapshot:new fc(this.query,e.wa,o,u,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new GR,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Me(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new fD(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new dD(r))}),t}Oa(e){this.fa=e.gs,this.pa=Me();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return fc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const po="SyncEngine";class Hj{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class $j{constructor(e){this.key=e,this.Ba=!1}}class Gj{constructor(e,t,r,i,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new Hs(h=>tO(h),Rf),this.qa=new Map,this.Qa=new Set,this.$a=new yt(_e.comparator),this.Ka=new Map,this.Ua=new Vb,this.Wa={},this.Ga=new Map,this.za=_l.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Kj(n,e,t=!0){const r=hy(n);let i;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await mD(r,e,t,!0),i}async function Wj(n,e){const t=hy(n);await mD(t,e,!0,!1)}async function mD(n,e,t,r){const i=await cc(n.localStore,tr(e)),o=i.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await Xb(n,e,o,u==="current",i.resumeToken)),n.isPrimaryClient&&t&&cy(n.remoteStore,i),h}async function Xb(n,e,t,r,i){n.Ha=(_,v,T)=>async function(I,x,L,M){let U=x.view.ba(L);U.ls&&(U=await Tg(I.localStore,x.query,!1).then(({documents:V})=>x.view.ba(V,U)));const $=M&&M.targetChanges.get(x.targetId),j=M&&M.targetMismatches.get(x.targetId)!=null,H=x.view.applyChanges(U,I.isPrimaryClient,$,j);return lE(I,x.targetId,H.Ma),H.snapshot}(n,_,v,T);const o=await Tg(n.localStore,e,!0),u=new pD(e,o.gs),h=u.ba(o.documents),d=Of.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=u.applyChanges(h,n.isPrimaryClient,d);lE(n,t,f.Ma);const g=new Hj(e,t,u);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),f.snapshot}async function Qj(n,e,t){const r=Ee(n),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(u=>!Rf(u,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await hc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&dc(r.remoteStore,i.targetId),pc(r,i.targetId)}).catch(uo)):(pc(r,i.targetId),await hc(r.localStore,i.targetId,!0))}async function Yj(n,e){const t=Ee(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),dc(t.remoteStore,r.targetId))}async function Xj(n,e,t){const r=tw(n);try{const i=await function(u,h){const d=Ee(u),f=It.now(),g=h.reduce((T,w)=>T.add(w.key),Me());let _,v;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let w=cr(),I=Me();return d.ds.getEntries(T,g).next(x=>{w=x,w.forEach((L,M)=>{M.isValidDocument()||(I=I.add(L))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,w)).next(x=>{_=x;const L=[];for(const M of h){const U=v3(M,_.get(M.key).overlayedDocument);U!=null&&L.push(new $s(M.key,U,GP(U.value.mapValue),At.exists(!0)))}return d.mutationQueue.addMutationBatch(T,f,L,h)}).next(x=>{v=x;const L=x.applyToLocalDocumentSet(_,I);return d.documentOverlayCache.saveOverlays(T,x.batchId,L)})}).then(()=>({batchId:v.batchId,changes:sO(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,h,d){let f=u.Wa[u.currentUser.toKey()];f||(f=new yt(Ne)),f=f.insert(h,d),u.Wa[u.currentUser.toKey()]=f}(r,i.batchId,t),await Gs(r,i.changes),await Nc(r.remoteStore)}catch(i){const o=Vc(i,"Failed to persist write");t.reject(o)}}async function gD(n,e){const t=Ee(n);try{const r=await fj(t.localStore,e);e.targetChanges.forEach((i,o)=>{const u=t.Ka.get(o);u&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.Ba=!0:i.modifiedDocuments.size>0?Ae(u.Ba):i.removedDocuments.size>0&&(Ae(u.Ba),u.Ba=!1))}),await Gs(t,r,e)}catch(r){await uo(r)}}function YR(n,e,t){const r=Ee(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((o,u)=>{const h=u.view.sa(e);h.snapshot&&i.push(h.snapshot)}),function(u,h){const d=Ee(u);d.onlineState=h;let f=!1;d.queries.forEach((g,_)=>{for(const v of _.ta)v.sa(h)&&(f=!0)}),f&&Qb(d)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Jj(n,e,t){const r=Ee(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),o=i&&i.key;if(o){let u=new yt(_e.comparator);u=u.insert(o,vt.newNoDocument(o,Re.min()));const h=Me().add(o),d=new Pf(Re.min(),new Map,new yt(Ne),u,h);await gD(r,d),r.$a=r.$a.remove(o),r.Ka.delete(e),ew(r)}else await hc(r.localStore,e,!1).then(()=>pc(r,e,t)).catch(uo)}async function Zj(n,e){const t=Ee(n),r=e.batch.batchId;try{const i=await dj(t.localStore,e);Zb(t,r,null),Jb(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Gs(t,i)}catch(i){await uo(i)}}async function ez(n,e,t){const r=Ee(n);try{const i=await function(u,h){const d=Ee(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return d.mutationQueue.lookupMutationBatch(f,h).next(_=>(Ae(_!==null),g=_.keys(),d.mutationQueue.removeMutationBatch(f,_))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,g,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>d.localDocuments.getDocuments(f,g))})}(r.localStore,e);Zb(r,e,t),Jb(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Gs(r,i)}catch(i){await uo(i)}}async function tz(n,e){const t=Ee(n);fo(t.remoteStore)||pe(po,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(u){const h=Ee(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>h.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(r===ja)return void e.resolve();const i=t.Ga.get(r)||[];i.push(e),t.Ga.set(r,i)}catch(r){const i=Vc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function Jb(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function Zb(n,e,t){const r=Ee(n);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function pc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(r=>{n.Ua.containsKey(r)||yD(n,r)})}function yD(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(dc(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),ew(n))}function lE(n,e,t){for(const r of t)r instanceof dD?(n.Ua.addReference(r.key,e),nz(n,r)):r instanceof fD?(pe(po,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||yD(n,r.key)):we()}function nz(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(pe(po,"New document in limbo: "+t),n.Qa.add(r),ew(n))}function ew(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new _e(qe.fromString(e)),r=n.za.next();n.Ka.set(r,new $j(t)),n.$a=n.$a.insert(t,r),cy(n.remoteStore,new Ps(tr(xc(t.path)),r,"TargetPurposeLimboResolution",lr.ae))}}async function Gs(n,e,t){const r=Ee(n),i=[],o=[],u=[];r.ka.isEmpty()||(r.ka.forEach((h,d)=>{u.push(r.Ha(d,e,t).then(f=>{var g;if((f||t)&&r.isPrimaryClient){const _=f?!f.fromCache:(g=t==null?void 0:t.targetChanges.get(d.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(d.targetId,_?"current":"not-current")}if(f){i.push(f);const _=Bb.Yi(d.targetId,f);o.push(_)}}))}),await Promise.all(u),r.La.p_(i),await async function(d,f){const g=Ee(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>X.forEach(f,v=>X.forEach(v.Hi,T=>g.persistence.referenceDelegate.addReference(_,v.targetId,T)).next(()=>X.forEach(v.Ji,T=>g.persistence.referenceDelegate.removeReference(_,v.targetId,T)))))}catch(_){if(!co(_))throw _;pe(Fb,"Failed to update sequence numbers: "+_)}for(const _ of f){const v=_.targetId;if(!_.fromCache){const T=g.Ts.get(v),w=T.snapshotVersion,I=T.withLastLimboFreeSnapshotVersion(w);g.Ts=g.Ts.insert(v,I)}}}(r.localStore,o))}async function rz(n,e){const t=Ee(n);if(!t.currentUser.isEqual(e)){pe(po,"User change. New user:",e.toKey());const r=await WO(t.localStore,e);t.currentUser=e,function(o,u){o.Ga.forEach(h=>{h.forEach(d=>{d.reject(new de(ne.CANCELLED,u))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gs(t,r.Rs)}}function iz(n,e){const t=Ee(n),r=t.Ka.get(e);if(r&&r.Ba)return Me().add(r.key);{let i=Me();const o=t.qa.get(e);if(!o)return i;for(const u of o){const h=t.ka.get(u);i=i.unionWith(h.view.Sa)}return i}}async function sz(n,e){const t=Ee(n),r=await Tg(t.localStore,e.query,!0),i=e.view.Oa(r);return t.isPrimaryClient&&lE(t,e.targetId,i.Ma),i}async function az(n,e){const t=Ee(n);return JO(t.localStore,e).then(r=>Gs(t,r))}async function oz(n,e,t,r){const i=Ee(n),o=await function(h,d){const f=Ee(h),g=Ee(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",_=>g.Ln(_,d).next(v=>v?f.localDocuments.getDocuments(_,v):X.resolve(null)))}(i.localStore,e);o!==null?(t==="pending"?await Nc(i.remoteStore):t==="acknowledged"||t==="rejected"?(Zb(i,e,r||null),Jb(i,e),function(h,d){Ee(Ee(h).mutationQueue).qn(d)}(i.localStore,e)):we(),await Gs(i,o)):pe(po,"Cannot apply mutation batch with id: "+e)}async function lz(n,e){const t=Ee(n);if(hy(t),tw(t),e===!0&&t.ja!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await XR(t,r.toArray());t.ja=!0,await aE(t.remoteStore,!0);for(const o of i)cy(t.remoteStore,o)}else if(e===!1&&t.ja!==!1){const r=[];let i=Promise.resolve();t.qa.forEach((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(pc(t,u),hc(t.localStore,u,!0))),dc(t.remoteStore,u)}),await i,await XR(t,r),function(u){const h=Ee(u);h.Ka.forEach((d,f)=>{dc(h.remoteStore,f)}),h.Ua.Dr(),h.Ka=new Map,h.$a=new yt(_e.comparator)}(t),t.ja=!1,await aE(t.remoteStore,!1)}}async function XR(n,e,t){const r=Ee(n),i=[],o=[];for(const u of e){let h;const d=r.qa.get(u);if(d&&d.length!==0){h=await cc(r.localStore,tr(d[0]));for(const f of d){const g=r.ka.get(f),_=await sz(r,g);_.snapshot&&o.push(_.snapshot)}}else{const f=await XO(r.localStore,u);h=await cc(r.localStore,f),await Xb(r,_D(f),u,!1,h.resumeToken)}i.push(h)}return r.La.p_(o),i}function _D(n){return eO(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function uz(n){return function(t){return Ee(Ee(t).persistence).zi()}(Ee(n).localStore)}async function cz(n,e,t,r){const i=Ee(n);if(i.ja)return void pe(po,"Ignoring unexpected query state notification.");const o=i.qa.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=await JO(i.localStore,nO(o[0])),h=Pf.createSynthesizedRemoteEventForCurrentChange(e,t==="current",qt.EMPTY_BYTE_STRING);await Gs(i,u,h);break}case"rejected":await hc(i.localStore,e,!0),pc(i,e,r);break;default:we()}}async function hz(n,e,t){const r=hy(n);if(r.ja){for(const i of e){if(r.qa.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){pe(po,"Adding an already active target "+i);continue}const o=await XO(r.localStore,i),u=await cc(r.localStore,o);await Xb(r,_D(o),u.targetId,!1,u.resumeToken),cy(r.remoteStore,u)}for(const i of t)r.qa.has(i)&&await hc(r.localStore,i,!1).then(()=>{dc(r.remoteStore,i),pc(r,i)}).catch(uo)}}function hy(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=gD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Jj.bind(null,e),e.La.p_=Fj.bind(null,e.eventManager),e.La.Ja=jj.bind(null,e.eventManager),e}function tw(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Zj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ez.bind(null,e),e}function dz(n,e,t){const r=Ee(n);(async function(o,u,h){try{const d=await u.getMetadata();if(await function(T,w){const I=Ee(T),x=Qt(w.createTime);return I.persistence.runTransaction("hasNewerBundle","readonly",L=>I.Yr.getBundleMetadata(L,w.id)).then(L=>!!L&&L.createTime.compareTo(x)>=0)}(o.localStore,d))return await u.close(),h._completeWith(function(T){return{taskState:"Success",documentsLoaded:T.totalDocuments,bytesLoaded:T.totalBytes,totalDocuments:T.totalDocuments,totalBytes:T.totalBytes}}(d)),Promise.resolve(new Set);h._updateProgress(hD(d));const f=new qj(d,o.localStore,u.serializer);let g=await u.Ya();for(;g;){const v=await f.Aa(g);v&&h._updateProgress(v),g=await u.Ya()}const _=await f.complete();return await Gs(o,_.ma,void 0),await function(T,w){const I=Ee(T);return I.persistence.runTransaction("Save bundle","readwrite",x=>I.Yr.saveBundleMetadata(x,w))}(o.localStore,d),h._completeWith(_.progress),Promise.resolve(_.Va)}catch(d){return Wi(po,`Loading bundle failed with ${d}`),h._failWith(d),Promise.resolve(new Set)}})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class rf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Df(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return KO(this.persistence,new GO,e.initialUser,this.serializer)}Xa(e){return new Mb(uy.ri,this.serializer)}Za(e){return new rD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rf.provider={build:()=>new rf};class fz extends rf{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ae(this.persistence.referenceDelegate instanceof wg);const r=this.persistence.referenceDelegate.garbageCollector;return new FO(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new Mb(r=>wg.ri(r,t),this.serializer)}}class vD extends rf{constructor(e,t,r){super(),this.ru=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ru.initialize(this,e),await tw(this.ru.syncEngine),await Nc(this.ru.remoteStore),await this.persistence.Ci(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}eu(e){return KO(this.persistence,new GO,e.initialUser,this.serializer)}tu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new FO(r,e.asyncQueue,t)}nu(e,t){const r=new wF(t,this.persistence);return new bF(e.asyncQueue,r)}Xa(e){const t=Ub(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new Lb(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,iD(),zm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Za(e){return new rD}}class pz extends vD{constructor(e,t){super(e,t,!1),this.ru=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ru.syncEngine;this.sharedClientState instanceof h0&&(this.sharedClientState.syncEngine={uo:oz.bind(null,t),co:cz.bind(null,t),lo:hz.bind(null,t),zi:uz.bind(null,t),ao:az.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ci(async r=>{await lz(this.ru.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Za(e){const t=iD();if(!h0.D(t))throw new de(ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Ub(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new h0(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class sf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>YR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rz.bind(null,this.syncEngine),await aE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Bj}()}createDatastore(e){const t=Df(e.databaseInfo.databaseId),r=function(o){return new bj(o)}(e.databaseInfo);return function(o,u,h,d){return new Aj(o,u,h,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,u,h){return new Rj(r,i,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>YR(this.syncEngine,t,0),function(){return qR.D()?new qR:new yj}())}createSyncEngine(e,t){return function(i,o,u,h,d,f,g){const _=new Gj(i,o,u,h,d,f);return g&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=Ee(i);pe(vl,"RemoteStore shutting down."),o.W_.add(5),await Dc(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}sf.provider={build:()=>new sf};function JR(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Wt("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e,t){this.ou=e,this.serializer=t,this.metadata=new Vn,this.buffer=new Uint8Array,this._u=function(){return new TextDecoder("utf-8")}(),this.au().then(r=>{r&&r.Ea()?this.metadata.resolve(r.Ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Ia)}`))},r=>this.metadata.reject(r))}close(){return this.ou.cancel()}async getMetadata(){return this.metadata.promise}async Ya(){return await this.getMetadata(),this.au()}async au(){const e=await this.uu();if(e===null)return null;const t=this._u.decode(e),r=Number(t);isNaN(r)&&this.cu(`length string (${t}) is not valid number`);const i=await this.lu(r);return new zj(JSON.parse(i),e.length+r)}hu(){return this.buffer.findIndex(e=>e===123)}async uu(){for(;this.hu()<0&&!await this.Pu(););if(this.buffer.length===0)return null;const e=this.hu();e<0&&this.cu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async lu(e){for(;this.buffer.length<e;)await this.Pu()&&this.cu("Reached the end of bundle when more is expected.");const t=this._u.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}cu(e){throw this.ou.cancel(),new Error(`Invalid bundle format: ${e}`)}async Pu(){const e=await this.ou.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new de(ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(i,o){const u=Ee(i),h={documents:o.map(_=>tf(u.serializer,_))},d=await u.Co("BatchGetDocuments",u.serializer.databaseId,qe.emptyPath(),h,o.length),f=new Map;d.forEach(_=>{const v=C3(u.serializer,_);f.set(v.key.toString(),v)});const g=[];return o.forEach(_=>{const v=f.get(_.toString());Ae(!!v),g.push(v)}),g}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Oc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const i=_e.fromPath(r);this.mutations.push(new Ib(i,this.precondition(i)))}),await async function(r,i){const o=Ee(r),u={writes:i.map(h=>nf(o.serializer,h))};await o.So("Commit",o.serializer.databaseId,qe.emptyPath(),u)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw we();t=Re.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new de(ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Re.min())?At.exists(!1):At.updateTime(t):At.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Re.min()))throw new de(ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return At.updateTime(t)}return At.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this.Tu=r.maxAttempts,this.a_=new zb(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo(async()=>{const e=new gz(this.datastore),t=this.du(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Au(i)}))}).catch(r=>{this.Au(r)})})}du(e){try{const t=this.updateFunction(e);return!Sf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Au(e){this.Tu>0&&this.Ru(e)?(this.Tu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Eu(),Promise.resolve()))):this.deferred.reject(e)}Ru(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!mO(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo="FirestoreClient";class _z{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=An.UNAUTHENTICATED,this.clientId=EP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{pe(eo,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(pe(eo,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Vc(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function f0(n,e){n.asyncQueue.verifyOperationInProgress(),pe(eo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await WO(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function ZR(n,e){n.asyncQueue.verifyOperationInProgress();const t=await nw(n);pe(eo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>$R(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>$R(e.remoteStore,i)),n._onlineComponents=e}async function nw(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(eo,"Using user provided OfflineComponentProvider");try{await f0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Wi("Error using user provided cache. Falling back to memory cache: "+t),await f0(n,new rf)}}else pe(eo,"Using default OfflineComponentProvider"),await f0(n,new fz(void 0));return n._offlineComponents}async function fy(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(eo,"Using user provided OnlineComponentProvider"),await ZR(n,n._uninitializedComponentsProvider._online)):(pe(eo,"Using default OnlineComponentProvider"),await ZR(n,new sf))),n._onlineComponents}function ED(n){return nw(n).then(e=>e.persistence)}function rw(n){return nw(n).then(e=>e.localStore)}function bD(n){return fy(n).then(e=>e.remoteStore)}function iw(n){return fy(n).then(e=>e.syncEngine)}function vz(n){return fy(n).then(e=>e.datastore)}async function mc(n){const e=await fy(n),t=e.eventManager;return t.onListen=Kj.bind(null,e.syncEngine),t.onUnlisten=Qj.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Wj.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Yj.bind(null,e.syncEngine),t}function Ez(n){return n.asyncQueue.enqueue(async()=>{const e=await ED(n),t=await bD(n);return e.setNetworkEnabled(!0),function(i){const o=Ee(i);return o.W_.delete(0),Nf(o)}(t)})}function bz(n){return n.asyncQueue.enqueue(async()=>{const e=await ED(n),t=await bD(n);return e.setNetworkEnabled(!1),async function(i){const o=Ee(i);o.W_.add(0),await Dc(o),o.j_.set("Offline")}(t)})}function wz(n,e){const t=new Vn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,u){try{const h=await function(f,g){const _=Ee(f);return _.persistence.runTransaction("read document","readonly",v=>_.localDocuments.getDocument(v,g))}(i,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new de(ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const d=Vc(h,`Failed to get document '${o} from cache`);u.reject(d)}}(await rw(n),e,t)),t.promise}function wD(n,e,t={}){const r=new Vn;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,d,f){const g=new dy({next:v=>{g.su(),u.enqueueAndForget(()=>Wb(o,_));const T=v.docs.has(h);!T&&v.fromCache?f.reject(new de(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&v.fromCache&&d&&d.source==="server"?f.reject(new de(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),_=new Yb(xc(h.path),g,{includeMetadataChanges:!0,Ta:!0});return Kb(o,_)}(await mc(n),n.asyncQueue,e,t,r)),r.promise}function Tz(n,e){const t=new Vn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,u){try{const h=await Tg(i,o,!0),d=new pD(o,h.gs),f=d.ba(h.documents),g=d.applyChanges(f,!1);u.resolve(g.snapshot)}catch(h){const d=Vc(h,`Failed to execute query '${o} against cache`);u.reject(d)}}(await rw(n),e,t)),t.promise}function TD(n,e,t={}){const r=new Vn;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,d,f){const g=new dy({next:v=>{g.su(),u.enqueueAndForget(()=>Wb(o,_)),v.fromCache&&d.source==="server"?f.reject(new de(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),_=new Yb(h,g,{includeMetadataChanges:!0,Ta:!0});return Kb(o,_)}(await mc(n),n.asyncQueue,e,t,r)),r.promise}function Sz(n,e){const t=new dy(e);return n.asyncQueue.enqueueAndForget(async()=>function(i,o){Ee(i).ia.add(o),o.next()}(await mc(n),t)),()=>{t.su(),n.asyncQueue.enqueueAndForget(async()=>function(i,o){Ee(i).ia.delete(o)}(await mc(n),t))}}function Az(n,e,t,r){const i=function(u,h){let d;return d=typeof u=="string"?yO().encode(u):u,function(g,_){return new mz(g,_)}(function(g,_){if(g instanceof Uint8Array)return JR(g,_);if(g instanceof ArrayBuffer)return JR(new Uint8Array(g),_);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),h)}(t,Df(e));n.asyncQueue.enqueueAndForget(async()=>{dz(await iw(n),i,r)})}function Iz(n,e){return n.asyncQueue.enqueue(async()=>function(r,i){const o=Ee(r);return o.persistence.runTransaction("Get named query","readonly",u=>o.Yr.getNamedQuery(u,i))}(await rw(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(n,e,t){if(!t)throw new de(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function AD(n,e,t,r){if(e===!0&&r===!0)throw new de(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function t1(n){if(!_e.isDocumentKey(n))throw new de(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function n1(n){if(_e.isDocumentKey(n))throw new de(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function py(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":we()}function nt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new de(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=py(n);throw new de(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ID(n,e){if(e<=0)throw new de(ne.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="firestore.googleapis.com",r1=!0;class i1{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RD,this.ssl=r1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:r1;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=MO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<K3)throw new de(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new hF;switch(r.type){case"firstParty":return new mF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=e1.get(t);r&&(pe("ComponentProvider","Removing Datastore"),e1.delete(t),r.terminate())}(this),Promise.resolve()}}function Rz(n,e,t,r={}){var i;const o=(n=nt(n,kf))._getSettings(),u=`${e}:${t}`;if(o.host!==RD&&o.host!==u&&Wi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:u,ssl:!1})),r.mockUserToken){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=An.MOCK_USER;else{h=_L(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new de(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new An(f)}n._authCredentials=new dF(new vP(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nr=class CD{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new CD(this.firestore,e,this._query)}},kt=class xD{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xD(this.firestore,e,this._key)}},za=class PD extends nr{constructor(e,t,r){super(e,t,xc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new _e(e))}withConverter(e){return new PD(this.firestore,e,this._path)}};function OD(n,e,...t){if(n=xe(n),sw("collection","path",e),n instanceof kf){const r=qe.fromString(e,...t);return n1(r),new za(n,null,r)}{if(!(n instanceof kt||n instanceof za))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qe.fromString(e,...t));return n1(r),new za(n.firestore,null,r)}}function Cz(n,e){if(n=nt(n,kf),sw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new nr(n,null,function(r){return new qs(qe.emptyPath(),r)}(e))}function Rg(n,e,...t){if(n=xe(n),arguments.length===1&&(e=EP.newId()),sw("doc","path",e),n instanceof kf){const r=qe.fromString(e,...t);return t1(r),new kt(n,null,new _e(r))}{if(!(n instanceof kt||n instanceof za))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qe.fromString(e,...t));return t1(r),new kt(n.firestore,n instanceof za?n.converter:null,new _e(r))}}function DD(n,e){return n=xe(n),e=xe(e),(n instanceof kt||n instanceof za)&&(e instanceof kt||e instanceof za)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function ND(n,e){return n=xe(n),e=xe(e),n instanceof nr&&e instanceof nr&&n.firestore===e.firestore&&Rf(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="AsyncQueue";class a1{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new zb(this,"async_queue_retry"),this.Su=()=>{const r=zm();r&&pe(s1,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=zm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=zm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Vn;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!co(e))throw e;pe(s1,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(r);throw Wt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=Gb.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&we()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function uE(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}class xz{constructor(){this._progressObserver={},this._taskCompletionResolver=new Vn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pz=-1;let Yt=class extends kf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new a1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new a1(e),this._firestoreClient=void 0,await e}}};function Gn(n){if(n._terminated)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||kD(n),n._firestoreClient}function kD(n){var e,t,r;const i=n._freezeSettings(),o=function(h,d,f,g){return new XF(h,d,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,SD(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new _z(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}}(n._componentsProvider))}function Oz(n,e){Wi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return VD(n,sf.provider,{build:r=>new vD(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function Dz(n){Wi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();VD(n,sf.provider,{build:t=>new pz(t,e.cacheSizeBytes)})}function VD(n,e,t){if((n=nt(n,Yt))._firestoreClient||n._terminated)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new de(ne.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},kD(n)}function Nz(n){if(n._initialized&&!n._terminated)throw new de(ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Vn;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!zi.D())return Promise.resolve();const i=r+$O;await zi.delete(i)}(Ub(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function kz(n){return function(t){const r=new Vn;return t.asyncQueue.enqueueAndForget(async()=>tz(await iw(t),r)),r.promise}(Gn(n=nt(n,Yt)))}function Vz(n){return Ez(Gn(n=nt(n,Yt)))}function Mz(n){return bz(Gn(n=nt(n,Yt)))}function Lz(n,e){const t=Gn(n=nt(n,Yt)),r=new xz;return Az(t,n._databaseId,e,r),r}function Uz(n,e){return Iz(Gn(n=nt(n,Yt)),e).then(t=>t?new nr(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yi(qt.fromBase64String(e))}catch(t){throw new de(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yi(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let to=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Il=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bz=/^__.*__$/;class Fz{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new $s(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pc(e,this.data,t,this.fieldTransforms)}}class MD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new $s(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function LD(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class gy{constructor(e,t,r,i,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new gy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Cg(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(LD(this.Lu)&&Bz.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class jz{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Df(e)}ju(e,t,r,i=!1){return new gy({Lu:e,methodName:t,zu:r,path:St.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rl(n){const e=n._freezeSettings(),t=Df(n._databaseId);return new jz(n._databaseId,!!e.ignoreUndefinedProperties,t)}function yy(n,e,t,r,i,o={}){const u=n.ju(o.merge||o.mergeFields?2:0,e,t,i);fw("Data must be an object, but it was:",u,r);const h=FD(r,u);let d,f;if(o.merge)d=new ur(u.fieldMask),f=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const _ of o.mergeFields){const v=cE(e,_,t);if(!u.contains(v))throw new de(ne.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);zD(g,v)||g.push(v)}d=new ur(g),f=u.fieldTransforms.filter(_=>d.covers(_.field))}else d=null,f=u.fieldTransforms;return new Fz(new kn(h),d,f)}class Vf extends Il{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vf}}function UD(n,e,t){return new gy({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ow extends Il{_toFieldTransform(e){return new xf(e.path,new oc)}isEqual(e){return e instanceof ow}}class lw extends Il{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=UD(this,e,!0),r=this.Hu.map(o=>Cl(o,t)),i=new pl(r);return new xf(e.path,i)}isEqual(e){return e instanceof lw&&Gu(this.Hu,e.Hu)}}class uw extends Il{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=UD(this,e,!0),r=this.Hu.map(o=>Cl(o,t)),i=new ml(r);return new xf(e.path,i)}isEqual(e){return e instanceof uw&&Gu(this.Hu,e.Hu)}}class cw extends Il{constructor(e,t){super(e),this.Ju=t}_toFieldTransform(e){const t=new lc(e.serializer,lO(e.serializer,this.Ju));return new xf(e.path,t)}isEqual(e){return e instanceof cw&&this.Ju===e.Ju}}function hw(n,e,t,r){const i=n.ju(1,e,t);fw("Data must be an object, but it was:",i,r);const o=[],u=kn.empty();ho(r,(d,f)=>{const g=pw(e,d,t);f=xe(f);const _=i.Ku(g);if(f instanceof Vf)o.push(g);else{const v=Cl(f,_);v!=null&&(o.push(g),u.set(g,v))}});const h=new ur(o);return new MD(u,h,i.fieldTransforms)}function dw(n,e,t,r,i,o){const u=n.ju(1,e,t),h=[cE(e,r,t)],d=[i];if(o.length%2!=0)throw new de(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)h.push(cE(e,o[v])),d.push(o[v+1]);const f=[],g=kn.empty();for(let v=h.length-1;v>=0;--v)if(!zD(f,h[v])){const T=h[v];let w=d[v];w=xe(w);const I=u.Ku(T);if(w instanceof Vf)f.push(T);else{const x=Cl(w,I);x!=null&&(f.push(T),g.set(T,x))}}const _=new ur(f);return new MD(g,_,u.fieldTransforms)}function BD(n,e,t,r=!1){return Cl(t,n.ju(r?4:3,e))}function Cl(n,e){if(jD(n=xe(n)))return fw("Unsupported field value:",e,n),FD(n,e);if(n instanceof Il)return function(r,i){if(!LD(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let u=0;for(const h of r){let d=Cl(h,i.Uu(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=xe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=It.fromDate(r);return{timestampValue:uc(i.serializer,o)}}if(r instanceof It){const o=new It(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uc(i.serializer,o)}}if(r instanceof my)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yi)return{bytesValue:EO(i.serializer,r._byteString)};if(r instanceof kt){const o=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw i.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ob(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof aw)return function(u,h){return{mapValue:{fields:{[Eb]:{stringValue:bb},[ic]:{arrayValue:{values:u.toArray().map(f=>{if(typeof f!="number")throw h.Wu("VectorValues must only contain numeric values.");return Ab(h.serializer,f)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${py(r)}`)}(n,e)}function FD(n,e){const t={};return LP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ho(n,(r,i)=>{const o=Cl(i,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function jD(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof It||n instanceof my||n instanceof Yi||n instanceof kt||n instanceof Il||n instanceof aw)}function fw(n,e,t){if(!jD(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=py(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function cE(n,e,t){if((e=xe(e))instanceof to)return e._internalPath;if(typeof e=="string")return pw(n,e);throw Cg("Field path arguments must be of type string or ",n,!1,void 0,t)}const zz=new RegExp("[~\\*/\\[\\]]");function pw(n,e,t){if(e.search(zz)>=0)throw Cg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new to(...e.split("."))._internalPath}catch{throw Cg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Cg(n,e,t,r,i){const o=r&&!r.isEmpty(),u=i!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${r}`),u&&(d+=` in document ${i}`),d+=")"),new de(ne.INVALID_ARGUMENT,h+n+d)}function zD(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_y("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class qz extends af{data(){return super.data()}}function _y(n,e){return typeof e=="string"?pw(n,e):e instanceof to?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new de(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mw{}class Mf extends mw{}function Da(n,e,...t){let r=[];e instanceof mw&&r.push(e),r=r.concat(t),function(o){const u=o.filter(d=>d instanceof gw).length,h=o.filter(d=>d instanceof vy).length;if(u>1||u>0&&h>0)throw new de(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class vy extends Mf{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new vy(e,t,r)}_apply(e){const t=this._parse(e);return $D(e._query,t),new nr(e.firestore,e.converter,Y0(e._query,t))}_parse(e){const t=Rl(e.firestore);return function(o,u,h,d,f,g,_){let v;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new de(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){l1(_,g);const w=[];for(const I of _)w.push(o1(d,o,I));v={arrayValue:{values:w}}}else v=o1(d,o,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||l1(_,g),v=BD(h,u,_,g==="in"||g==="not-in");return He.create(f,g,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Hz(n,e,t){const r=e,i=_y("where",n);return vy._create(i,r,t)}class gw extends mw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new gw(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ot.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let u=i;const h=o.getFlattenedFilters();for(const d of h)$D(u,d),u=Y0(u,d)}(e._query,t),new nr(e.firestore,e.converter,Y0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yw extends Mf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new yw(e,t)}_apply(e){const t=function(i,o,u){if(i.startAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ef(o,u)}(e._query,this._field,this._direction);return new nr(e.firestore,e.converter,function(i,o){const u=i.explicitOrderBy.concat([o]);return new qs(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function $z(n,e="asc"){const t=e,r=_y("orderBy",n);return yw._create(r,t)}class Ey extends Mf{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Ey(e,t,r)}_apply(e){return new nr(e.firestore,e.converter,_g(e._query,this._limit,this._limitType))}}function Gz(n){return ID("limit",n),Ey._create("limit",n,"F")}function Kz(n){return ID("limitToLast",n),Ey._create("limitToLast",n,"L")}class by extends Mf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new by(e,t,r)}_apply(e){const t=HD(e,this.type,this._docOrFields,this._inclusive);return new nr(e.firestore,e.converter,function(i,o){return new qs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,t))}}function Wz(...n){return by._create("startAt",n,!0)}function Qz(...n){return by._create("startAfter",n,!1)}class wy extends Mf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new wy(e,t,r)}_apply(e){const t=HD(e,this.type,this._docOrFields,this._inclusive);return new nr(e.firestore,e.converter,function(i,o){return new qs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,t))}}function Yz(...n){return wy._create("endBefore",n,!1)}function Xz(...n){return wy._create("endAt",n,!0)}function HD(n,e,t,r){if(t[0]=xe(t[0]),t[0]instanceof af)return function(o,u,h,d,f){if(!d)throw new de(ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const g=[];for(const _ of zu(o))if(_.field.isKeyField())g.push(dl(u,d.key));else{const v=d.data.field(_.field);if(ny(v))throw new de(ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const T=_.field.canonicalString();throw new de(ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}g.push(v)}return new Ja(g,f)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Rl(n.firestore);return function(u,h,d,f,g,_){const v=u.explicitOrderBy;if(g.length>v.length)throw new de(ne.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let w=0;w<g.length;w++){const I=g[w];if(v[w].field.isKeyField()){if(typeof I!="string")throw new de(ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof I}`);if(!Tb(u)&&I.indexOf("/")!==-1)throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${I}' contains a slash.`);const x=u.path.child(qe.fromString(I));if(!_e.isDocumentKey(x))throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const L=new _e(x);T.push(dl(h,L))}else{const x=BD(d,f,I);T.push(x)}}return new Ja(T,_)}(n._query,n.firestore._databaseId,i,e,t,r)}}function o1(n,e,t){if(typeof(t=xe(t))=="string"){if(t==="")throw new de(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Tb(e)&&t.indexOf("/")!==-1)throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(qe.fromString(t));if(!_e.isDocumentKey(r))throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dl(n,new _e(r))}if(t instanceof kt)return dl(n,t._key);throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${py(t)}.`)}function l1(n,e){if(!Array.isArray(n)||n.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $D(n,e){const t=function(i,o){for(const u of i)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class _w{convertValue(e,t="none"){switch(Ya(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ho(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[ic].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(u=>wt(u.doubleValue));return new aw(o)}convertGeoPoint(e){return new my(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ry(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Xd(e));default:return null}}convertTimestamp(e){const t=Ms(e);return new It(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=qe.fromString(e);Ae(OO(r));const i=new Qa(r.get(1),r.get(3)),o=new _e(r.popFirst(5));return i.isEqual(t)||Wt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Jz extends _w{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Us=class extends af{constructor(e,t,r,i,o,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(_y("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Vd=class extends Us{data(e={}){return super.data(e)}},no=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new il(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Vd(this._firestore,this._userDataWriter,r.key,r,new il(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(h=>{const d=new Vd(i._firestore,i._userDataWriter,h.doc.key,h.doc,new il(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const d=new Vd(i._firestore,i._userDataWriter,h.doc.key,h.doc,new il(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,g=-1;return h.type!==0&&(f=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:Zz(h.type),doc:d,oldIndex:f,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function Zz(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}function GD(n,e){return n instanceof Us&&e instanceof Us?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof no&&e instanceof no&&n._firestore===e._firestore&&ND(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(n){n=nt(n,kt);const e=nt(n.firestore,Yt);return wD(Gn(e),n._key).then(t=>vw(e,n,t))}class xl extends _w{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,t)}}function t6(n){n=nt(n,kt);const e=nt(n.firestore,Yt),t=Gn(e),r=new xl(e);return wz(t,n._key).then(i=>new Us(e,r,n._key,i,new il(i!==null&&i.hasLocalMutations,!0),n.converter))}function n6(n){n=nt(n,kt);const e=nt(n.firestore,Yt);return wD(Gn(e),n._key,{source:"server"}).then(t=>vw(e,n,t))}function r6(n){n=nt(n,nr);const e=nt(n.firestore,Yt),t=Gn(e),r=new xl(e);return qD(n._query),TD(t,n._query).then(i=>new no(e,r,n,i))}function i6(n){n=nt(n,nr);const e=nt(n.firestore,Yt),t=Gn(e),r=new xl(e);return Tz(t,n._query).then(i=>new no(e,r,n,i))}function s6(n){n=nt(n,nr);const e=nt(n.firestore,Yt),t=Gn(e),r=new xl(e);return TD(t,n._query,{source:"server"}).then(i=>new no(e,r,n,i))}function u1(n,e,t){n=nt(n,kt);const r=nt(n.firestore,Yt),i=Ty(n.converter,e,t);return Lf(r,[yy(Rl(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,At.none())])}function c1(n,e,t,...r){n=nt(n,kt);const i=nt(n.firestore,Yt),o=Rl(i);let u;return u=typeof(e=xe(e))=="string"||e instanceof to?dw(o,"updateDoc",n._key,e,t,r):hw(o,"updateDoc",n._key,e),Lf(i,[u.toMutation(n._key,At.exists(!0))])}function a6(n){return Lf(nt(n.firestore,Yt),[new Oc(n._key,At.none())])}function o6(n,e){const t=nt(n.firestore,Yt),r=Rg(n),i=Ty(n.converter,e);return Lf(t,[yy(Rl(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,At.exists(!1))]).then(()=>r)}function KD(n,...e){var t,r,i;n=xe(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||uE(e[u])||(o=e[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(uE(e[u])){const _=e[u];e[u]=(t=_.next)===null||t===void 0?void 0:t.bind(_),e[u+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[u+2]=(i=_.complete)===null||i===void 0?void 0:i.bind(_)}let d,f,g;if(n instanceof kt)f=nt(n.firestore,Yt),g=xc(n._key.path),d={next:_=>{e[u]&&e[u](vw(f,n,_))},error:e[u+1],complete:e[u+2]};else{const _=nt(n,nr);f=nt(_.firestore,Yt),g=_._query;const v=new xl(f);d={next:T=>{e[u]&&e[u](new no(f,v,_,T))},error:e[u+1],complete:e[u+2]},qD(n._query)}return function(v,T,w,I){const x=new dy(I),L=new Yb(T,x,w);return v.asyncQueue.enqueueAndForget(async()=>Kb(await mc(v),L)),()=>{x.su(),v.asyncQueue.enqueueAndForget(async()=>Wb(await mc(v),L))}}(Gn(f),g,h,d)}function l6(n,e){return Sz(Gn(n=nt(n,Yt)),uE(e)?e:{next:e})}function Lf(n,e){return function(r,i){const o=new Vn;return r.asyncQueue.enqueueAndForget(async()=>Xj(await iw(r),i,o)),o.promise}(Gn(n),e)}function vw(n,e,t){const r=t.docs.get(e._key),i=new xl(n);return new Us(n,i,e._key,r,new il(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c6=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Rl(e)}set(e,t,r){this._verifyNotCommitted();const i=Ma(e,this._firestore),o=Ty(i.converter,t,r),u=yy(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(u.toMutation(i._key,At.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=Ma(e,this._firestore);let u;return u=typeof(t=xe(t))=="string"||t instanceof to?dw(this._dataReader,"WriteBatch.update",o._key,t,r,i):hw(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,At.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ma(e,this._firestore);return this._mutations=this._mutations.concat(new Oc(t._key,At.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new de(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Ma(n,e){if((n=xe(n)).firestore!==e)throw new de(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Rl(e)}get(e){const t=Ma(e,this._firestore),r=new Jz(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return we();const o=i[0];if(o.isFoundDocument())return new af(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new af(this._firestore,r,t._key,null,t.converter);throw we()})}set(e,t,r){const i=Ma(e,this._firestore),o=Ty(i.converter,t,r),u=yy(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const o=Ma(e,this._firestore);let u;return u=typeof(t=xe(t))=="string"||t instanceof to?dw(this._dataReader,"Transaction.update",o._key,t,r,i):hw(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=Ma(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d6=class extends h6{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ma(e,this._firestore),r=new xl(this._firestore);return super.get(e).then(i=>new Us(this._firestore,r,t._key,i._document,new il(!1,!1),t.converter))}};function f6(n,e,t){n=nt(n,Yt);const r=Object.assign(Object.assign({},u6),t);return function(o){if(o.maxAttempts<1)throw new de(ne.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,u,h){const d=new Vn;return o.asyncQueue.enqueueAndForget(async()=>{const f=await vz(o);new yz(o.asyncQueue,f,h,u,d).Iu()}),d.promise}(Gn(n),i=>e(new d6(n,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(){return new Vf("deleteField")}function m6(){return new ow("serverTimestamp")}function g6(...n){return new lw("arrayUnion",n)}function y6(...n){return new uw("arrayRemove",n)}function _6(n){return new cw("increment",n)}(function(e,t=!0){(function(i){Cc=i})(oo),Ga(new Gi("firestore",(r,{instanceIdentifier:i,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new Yt(new fF(r.getProvider("auth-internal")),new gF(u,r.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new de(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qa(f.options.projectId,g)}(u,i),u);return o=Object.assign({useFetchStreams:t},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),ui(zI,qI,e),ui(zI,qI,"esm2017")})();const v6="@firebase/firestore-compat",E6="0.3.43";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new de("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(){if(typeof Uint8Array>"u")throw new de("unimplemented","Uint8Arrays are not available in this environment.")}function d1(){if(!QF())throw new de("unimplemented","Blobs are unavailable in Firestore in this environment.")}let WD=class hE{constructor(e){this._delegate=e}static fromBase64String(e){return d1(),new hE(Yi.fromBase64String(e))}static fromUint8Array(e){return h1(),new hE(Yi.fromUint8Array(e))}toBase64(){return d1(),this._delegate.toBase64()}toUint8Array(){return h1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(n){return b6(n,["next","error","complete"])}function b6(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{enableIndexedDbPersistence(e,t){return Oz(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return Dz(e._delegate)}clearIndexedDbPersistence(e){return Nz(e._delegate)}}class QD{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Qa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Wi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){Rz(this._delegate,e,t,r)}enableNetwork(){return Vz(this._delegate)}disableNetwork(){return Mz(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,AD("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return kz(this._delegate)}onSnapshotsInSync(e){return l6(this._delegate,e)}get app(){if(!this._appCompat)throw new de("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new gc(this,OD(this._delegate,e))}catch(t){throw Zn(t,"collection()","Firestore.collection()")}}doc(e){try{return new Qr(this,Rg(this._delegate,e))}catch(t){throw Zn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Jn(this,Cz(this._delegate,e))}catch(t){throw Zn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return f6(this._delegate,t=>e(new YD(this,t)))}batch(){return Gn(this._delegate),new XD(new c6(this._delegate,e=>Lf(this._delegate,e)))}loadBundle(e){return Lz(this._delegate,e)}namedQuery(e){return Uz(this._delegate,e).then(t=>t?new Jn(this,t):null)}}class Sy extends _w{constructor(e){super(),this.firestore=e}convertBytes(e){return new WD(new Yi(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Qr.forKey(t,this.firestore,null)}}function T6(n){uF(n)}class YD{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Sy(e)}get(e){const t=sl(e);return this._delegate.get(t).then(r=>new of(this._firestore,new Us(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=sl(e);return r?(Ew("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=sl(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=sl(e);return this._delegate.delete(t),this}}class XD{constructor(e){this._delegate=e}set(e,t,r){const i=sl(e);return r?(Ew("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=sl(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=sl(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class El{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Vd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new lf(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=El.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new El(e,new Sy(e),t),i.set(t,o)),o}}El.INSTANCES=new WeakMap;class Qr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Sy(e)}static forPath(e,t,r){if(e.length%2!==0)throw new de("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Qr(t,new kt(t._delegate,r,new _e(e)))}static forKey(e,t,r){return new Qr(t,new kt(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new gc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new gc(this.firestore,OD(this._delegate,e))}catch(t){throw Zn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=xe(e),e instanceof kt?DD(this._delegate,e):!1}set(e,t){t=Ew("DocumentReference.set",t);try{return t?u1(this._delegate,e,t):u1(this._delegate,e)}catch(r){throw Zn(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?c1(this._delegate,e):c1(this._delegate,e,t,...r)}catch(i){throw Zn(i,"updateDoc()","DocumentReference.update()")}}delete(){return a6(this._delegate)}onSnapshot(...e){const t=JD(e),r=ZD(e,i=>new of(this.firestore,new Us(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return KD(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=t6(this._delegate):(e==null?void 0:e.source)==="server"?t=n6(this._delegate):t=e6(this._delegate),t.then(r=>new of(this.firestore,new Us(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Qr(this.firestore,e?this._delegate.withConverter(El.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Zn(n,e,t){return n.message=n.message.replace(e,t),n}function JD(n){for(const e of n)if(typeof e=="object"&&!dE(e))return e;return{}}function ZD(n,e){var t,r;let i;return dE(n[0])?i=n[0]:dE(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class of{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Qr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return GD(this._delegate,e._delegate)}}class lf extends of{data(e){const t=this._delegate.data(e);return this._delegate._converter||cF(t!==void 0),t}}class Jn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Sy(e)}where(e,t,r){try{return new Jn(this.firestore,Da(this._delegate,Hz(e,t,r)))}catch(i){throw Zn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Jn(this.firestore,Da(this._delegate,$z(e,t)))}catch(r){throw Zn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Jn(this.firestore,Da(this._delegate,Gz(e)))}catch(t){throw Zn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Jn(this.firestore,Da(this._delegate,Kz(e)))}catch(t){throw Zn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Jn(this.firestore,Da(this._delegate,Wz(...e)))}catch(t){throw Zn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Jn(this.firestore,Da(this._delegate,Qz(...e)))}catch(t){throw Zn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Jn(this.firestore,Da(this._delegate,Yz(...e)))}catch(t){throw Zn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Jn(this.firestore,Da(this._delegate,Xz(...e)))}catch(t){throw Zn(t,"endAt()","Query.endAt()")}}isEqual(e){return ND(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=i6(this._delegate):(e==null?void 0:e.source)==="server"?t=s6(this._delegate):t=r6(this._delegate),t.then(r=>new fE(this.firestore,new no(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=JD(e),r=ZD(e,i=>new fE(this.firestore,new no(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return KD(this._delegate,t,r)}withConverter(e){return new Jn(this.firestore,e?this._delegate.withConverter(El.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class S6{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new lf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class fE{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Jn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new lf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new S6(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new lf(this._firestore,r))})}isEqual(e){return GD(this._delegate,e._delegate)}}class gc extends Jn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Qr(this.firestore,e):null}doc(e){try{return e===void 0?new Qr(this.firestore,Rg(this._delegate)):new Qr(this.firestore,Rg(this._delegate,e))}catch(t){throw Zn(t,"doc()","CollectionReference.doc()")}}add(e){return o6(this._delegate,e).then(t=>new Qr(this.firestore,t))}isEqual(e){return DD(this._delegate,e._delegate)}withConverter(e){return new gc(this.firestore,e?this._delegate.withConverter(El.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function sl(n){return nt(n,kt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(...e){this._delegate=new to(...e)}static documentId(){return new bw(St.keyField().canonicalString())}isEqual(e){return e=xe(e),e instanceof to?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{static serverTimestamp(){const e=m6();return e._methodName="FieldValue.serverTimestamp",new tl(e)}static delete(){const e=p6();return e._methodName="FieldValue.delete",new tl(e)}static arrayUnion(...e){const t=g6(...e);return t._methodName="FieldValue.arrayUnion",new tl(t)}static arrayRemove(...e){const t=y6(...e);return t._methodName="FieldValue.arrayRemove",new tl(t)}static increment(e){const t=_6(e);return t._methodName="FieldValue.increment",new tl(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6={Firestore:QD,GeoPoint:my,Timestamp:It,Blob:WD,Transaction:YD,WriteBatch:XD,DocumentReference:Qr,DocumentSnapshot:of,Query:Jn,QueryDocumentSnapshot:lf,QuerySnapshot:fE,CollectionReference:gc,FieldPath:bw,FieldValue:tl,setLogLevel:T6,CACHE_SIZE_UNLIMITED:Pz};function I6(n,e){n.INTERNAL.registerComponent(new Gi("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},A6)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(n){I6(n,(e,t)=>new QD(e,t,new w6)),n.registerVersion(v6,E6)}R6(Sc);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=2e3;async function x6(n,e,t){var r;const{BuildInfo:i}=bl();ci(e.sessionId,"AuthEvent did not contain a session ID");const o=await k6(e.sessionId),u={};return vf()?u.ibi=i.packageName:_f()?u.apn=i.packageName:Rn(n,"operation-not-supported-in-this-environment"),i.displayName&&(u.appDisplayName=i.displayName),u.sessionId=o,L0(n,t,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,u)}async function P6(n){const{BuildInfo:e}=bl(),t={};vf()?t.iosBundleId=e.packageName:_f()?t.androidPackageName=e.packageName:Rn(n,"operation-not-supported-in-this-environment"),await cP(n,t)}function O6(n){const{cordova:e}=bl();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,g4()?"_blank":"_system","location=yes"),t(i)})})}async function D6(n,e,t){const{cordova:r}=bl();let i=()=>{};try{await new Promise((o,u)=>{let h=null;function d(){var _;o();const v=(_=r.plugins.browsertab)===null||_===void 0?void 0:_.close;typeof v=="function"&&v(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function f(){h||(h=window.setTimeout(()=>{u(mn(n,"redirect-cancelled-by-user"))},C6))}function g(){(document==null?void 0:document.visibilityState)==="visible"&&f()}e.addPassiveListener(d),document.addEventListener("resume",f,!1),_f()&&document.addEventListener("visibilitychange",g,!1),i=()=>{e.removePassiveListener(d),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",g,!1),h&&window.clearTimeout(h)}})}finally{i()}}function N6(n){var e,t,r,i,o,u,h,d,f,g;const _=bl();me(typeof((e=_==null?void 0:_.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),me(typeof((t=_==null?void 0:_.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),me(typeof((o=(i=(r=_==null?void 0:_.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me(typeof((d=(h=(u=_==null?void 0:_.cordova)===null||u===void 0?void 0:u.plugins)===null||h===void 0?void 0:h.browsertab)===null||d===void 0?void 0:d.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me(typeof((g=(f=_==null?void 0:_.cordova)===null||f===void 0?void 0:f.InAppBrowser)===null||g===void 0?void 0:g.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function k6(n){const e=V6(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function V6(n){if(ci(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=20;class L6 extends lP{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function U6(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:j6(),postBody:null,tenantId:n.tenantId,error:mn(n,"no-auth-event")}}function B6(n,e){return pE()._set(mE(n),e)}async function f1(n){const e=await pE()._get(mE(n));return e&&await pE()._remove(mE(n)),e}function F6(n,e){var t,r;const i=q6(e);if(i.includes("/__/auth/callback")){const o=qm(i),u=o.firebaseError?z6(decodeURIComponent(o.firebaseError)):null,h=(r=(t=u==null?void 0:u.code)===null||t===void 0?void 0:t.split("auth/"))===null||r===void 0?void 0:r[1],d=h?mn(h):null;return d?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}function j6(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<M6;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function pE(){return Ir(Kg)}function mE(n){return ol("authEvent",n.config.apiKey,n.name)}function z6(n){try{return JSON.parse(n)}catch{return null}}function q6(n){const e=qm(n),t=e.link?decodeURIComponent(e.link):void 0,r=qm(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return qm(i).link||i||r||t||n}function qm(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return Mu(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=500;class $6{constructor(){this._redirectPersistence=Ka,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Xg,this._overrideRedirectResult=hb}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new L6(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Rn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){N6(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),_B(),await this._originValidation(e);const u=U6(e,r,i);await B6(e,u);const h=await x6(e,u,t),d=await O6(h);return D6(e,o,d)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=P6(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:o}=bl(),u=setTimeout(async()=>{await f1(e),t.onEvent(p1())},H6),h=async g=>{clearTimeout(u);const _=await f1(e);let v=null;_&&(g!=null&&g.url)&&(v=F6(_,g.url)),t.onEvent(v||p1())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,h);const d=i,f=`${o.packageName.toLowerCase()}://`;bl().handleOpenURL=async g=>{if(g.toLowerCase().startsWith(f)&&h({url:g}),typeof d=="function")try{d(g)}catch(_){console.error(_)}}}}const G6=$6;function p1(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:mn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(n,e){Mt(n)._logFramework(e)}var W6="@firebase/auth-compat",Q6="0.5.18";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=1e3;function Md(){var n;return((n=self==null?void 0:self.location)===null||n===void 0?void 0:n.protocol)||null}function X6(){return Md()==="http:"||Md()==="https:"}function eN(n=Vt()){return!!((Md()==="file:"||Md()==="ionic:"||Md()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function J6(){return HE()||qE()}function Z6(){return tx()&&(document==null?void 0:document.documentMode)===11}function e9(n=Vt()){return/Edge\/\d+/.test(n)}function t9(n=Vt()){return Z6()||e9(n)}function tN(){try{const n=self.localStorage,e=wf();if(n)return n.setItem(e,"1"),n.removeItem(e),t9()?Fd():!0}catch{return ww()&&Fd()}return!1}function ww(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function p0(){return(X6()||ex()||eN())&&!J6()&&tN()&&!ww()}function nN(){return eN()&&typeof document<"u"}async function n9(){return nN()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},Y6);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function r9(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr={LOCAL:"local",NONE:"none",SESSION:"session"},nd=me,rN="persistence";function i9(n,e){if(nd(Object.values(Sr).includes(e),n,"invalid-persistence-type"),HE()){nd(e!==Sr.SESSION,n,"unsupported-persistence-type");return}if(qE()){nd(e===Sr.NONE,n,"unsupported-persistence-type");return}if(ww()){nd(e===Sr.NONE||e===Sr.LOCAL&&Fd(),n,"unsupported-persistence-type");return}nd(e===Sr.NONE||tN(),n,"unsupported-persistence-type")}async function gE(n){await n._initializationPromise;const e=iN(),t=ol(rN,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistence())}function s9(n,e){const t=iN();if(!t)return[];const r=ol(rN,n,e);switch(t.getItem(r)){case Sr.NONE:return[Qu];case Sr.LOCAL:return[Xu,Ka];case Sr.SESSION:return[Ka];default:return[]}}function iN(){var n;try{return((n=r9())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9=me;class La{constructor(){this.browserResolver=Ir(hP),this.cordovaResolver=Ir(G6),this.underlyingResolver=null,this._redirectPersistence=Ka,this._completeRedirectFn=Xg,this._overrideRedirectResult=hb}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return nN()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return a9(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await n9();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(n){return n.unwrap()}function o9(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(n){return aN(n)}function u9(n,e){var t;const r=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new c9(n,N5(n,e))}else if(r){const i=aN(e),o=e;i&&(o.credential=i,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}function aN(n){const{_tokenResponse:e}=n instanceof er?n.customData:n;if(!e)return null;if(!(n instanceof er)&&"temporaryProof"in e&&"phoneNumber"in e)return hl.credentialFromResult(n);const t=e.providerId;if(!t||t===Qh.PASSWORD)return null;let r;switch(t){case Qh.GOOGLE:r=Vi;break;case Qh.FACEBOOK:r=ki;break;case Qh.GITHUB:r=Mi;break;case Qh.TWITTER:r=Li;break;default:const{oauthIdToken:i,oauthAccessToken:o,oauthTokenSecret:u,pendingToken:h,nonce:d}=e;return!o&&!u&&!i&&!h?null:h?t.startsWith("saml.")?Yu._create(t,h):Ki._fromParams({providerId:t,signInMethod:t,pendingToken:h,idToken:i,accessToken:o}):new Fu(t).credential({idToken:i,accessToken:o,rawNonce:d})}return n instanceof er?r.credentialFromError(n):r.credentialFromResult(n)}function or(n,e){return e.catch(t=>{throw t instanceof er&&u9(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:l9(t),additionalUserInfo:P5(t),user:Os.getOrCreate(i)}})}async function yE(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>or(n,t.confirm(r))}}class c9{constructor(e,t){this.resolver=t,this.auth=o9(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return or(sN(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this._delegate=e,this.multiFactor=M5(e)}static getOrCreate(e){return Os.USER_MAP.has(e)||Os.USER_MAP.set(e,new Os(e)),Os.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return or(this.auth,$x(this._delegate,e))}async linkWithPhoneNumber(e,t){return yE(this.auth,sB(this._delegate,e,t))}async linkWithPopup(e){return or(this.auth,pB(this._delegate,e,La))}async linkWithRedirect(e){return await gE(Mt(this.auth)),TB(this._delegate,e,La)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return or(this.auth,Gx(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return yE(this.auth,aB(this._delegate,e,t))}reauthenticateWithPopup(e){return or(this.auth,fB(this._delegate,e,La))}async reauthenticateWithRedirect(e){return await gE(Mt(this.auth)),bB(this._delegate,e,La)}sendEmailVerification(e){return v5(this._delegate,e)}async unlink(e){return await o5(this._delegate,e),this}updateEmail(e){return T5(this._delegate,e)}updatePassword(e){return S5(this._delegate,e)}updatePhoneNumber(e){return oB(this._delegate,e)}updateProfile(e){return w5(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return E5(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Os.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=me;let _E=class{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;rd(r,"invalid-api-key",{appName:e.name}),rd(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?La:void 0;this._delegate=t.initialize({options:{persistence:h9(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(XU),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Os.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Lx(this._delegate,e,t)}applyActionCode(e){return d5(this._delegate,e)}checkActionCode(e){return Kx(this._delegate,e)}confirmPasswordReset(e,t){return h5(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return or(this._delegate,Wx(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return _5(this._delegate,e)}isSignInWithEmailLink(e){return m5(this._delegate,e)}async getRedirectResult(){rd(p0(),this._delegate,"operation-not-supported-in-this-environment");const e=await AB(this._delegate,La);return e?or(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){K6(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:o,complete:u}=m1(e,t,r);return this._delegate.onAuthStateChanged(i,o,u)}onIdTokenChanged(e,t,r){const{next:i,error:o,complete:u}=m1(e,t,r);return this._delegate.onIdTokenChanged(i,o,u)}sendSignInLinkToEmail(e,t){return p5(this._delegate,e,t)}sendPasswordResetEmail(e,t){return c5(this._delegate,e,t||void 0)}async setPersistence(e){i9(this._delegate,e);let t;switch(e){case Sr.SESSION:t=Ka;break;case Sr.LOCAL:t=await Ir(Xu)._isAvailable()?Xu:Kg;break;case Sr.NONE:t=Qu;break;default:return Rn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return or(this._delegate,a5(this._delegate))}signInWithCredential(e){return or(this._delegate,$g(this._delegate,e))}signInWithCustomToken(e){return or(this._delegate,u5(this._delegate,e))}signInWithEmailAndPassword(e,t){return or(this._delegate,Qx(this._delegate,e,t))}signInWithEmailLink(e,t){return or(this._delegate,g5(this._delegate,e,t))}signInWithPhoneNumber(e,t){return yE(this._delegate,iB(this._delegate,e,t))}async signInWithPopup(e){return rd(p0(),this._delegate,"operation-not-supported-in-this-environment"),or(this._delegate,dB(this._delegate,e,La))}async signInWithRedirect(e){return rd(p0(),this._delegate,"operation-not-supported-in-this-environment"),await gE(this._delegate),vB(this._delegate,e,La)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return f5(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};_E.Persistence=Sr;function m1(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:u=>i(u&&Os.getOrCreate(u)),error:e,complete:t}}function h9(n,e){const t=s9(n,e);if(typeof self<"u"&&!t.includes(Xu)&&t.push(Xu),typeof window<"u")for(const r of[Kg,Ka])t.includes(r)||t.push(r);return t.includes(Qu)||t.push(Qu),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{static credential(e,t){return hl.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new hl(sN(Sc.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Tw.PHONE_SIGN_IN_METHOD=hl.PHONE_SIGN_IN_METHOD;Tw.PROVIDER_ID=hl.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9=me;class f9{constructor(e,t,r=Sc.app()){var i;d9((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new nB(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9="auth-compat";function m9(n){n.INTERNAL.registerComponent(new Gi(p9,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new _E(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:_u.EMAIL_SIGNIN,PASSWORD_RESET:_u.PASSWORD_RESET,RECOVER_EMAIL:_u.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:_u.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:_u.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:_u.VERIFY_EMAIL}},EmailAuthProvider:lo,FacebookAuthProvider:ki,GithubAuthProvider:Mi,GoogleAuthProvider:Vi,OAuthProvider:Fu,SAMLAuthProvider:ag,PhoneAuthProvider:Tw,PhoneMultiFactorGenerator:dP,RecaptchaVerifier:f9,TwitterAuthProvider:Li,Auth:_E,AuthCredential:Ic,Error:er}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(W6,Q6)}m9(Sc);const g9={apiKey:"AIzaSyApGOO7gxp07NWEluPvtGpl5oUMe53LtjE",authDomain:"clone-2025-ece77.firebaseapp.com",projectId:"clone-2025-ece77",storageBucket:"clone-2025-ece77.firebasestorage.app",messagingSenderId:"811541589947",appId:"1:811541589947:web:a22f283f101d4be53a9e9e"},oN=Sc.initializeApp(g9),xg=oF(oN),lN=oN.firestore(),y9=()=>{var i;const[{user:n,basket:e},t]=W.useContext(Fs),r=e==null?void 0:e.reduce((o,u)=>u.amount+o,0);return q.jsxs("section",{className:Is.fixed,children:[q.jsx("section",{children:q.jsxs("div",{className:Is.header_container,children:[q.jsxs("div",{className:Is.logo_container,children:[q.jsx(li,{to:"/",children:q.jsx("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"amazon logo"})}),q.jsxs("div",{className:Is.delivery,children:[q.jsx("span",{children:q.jsx(eL,{})}),q.jsxs("div",{children:[q.jsx("p",{children:"Delivering to"}),q.jsx("span",{children:"Ethiopia"})]})]})]}),q.jsxs("div",{className:Is.search,children:[q.jsx("select",{name:"",id:"",children:q.jsx("option",{value:"",children:"All"})}),q.jsx("input",{type:"text",placeholder:"Search Amazon"}),q.jsx(ZM,{size:39})]}),q.jsxs("div",{className:Is.order_container,children:[q.jsx("div",{children:q.jsxs(li,{to:"",className:Is.language,children:[q.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/en/thumb/a/a4/Flag_of_the_United_States.svg/1024px-Flag_of_the_United_States.svg.png",alt:""}),q.jsx("select",{name:"",id:"",children:q.jsx("option",{value:"",children:"EN"})})]})}),q.jsx(li,{to:!n&&"/auth",children:q.jsx("div",{children:n?q.jsxs(q.Fragment,{children:[q.jsxs("p",{children:["Hello ",(i=n==null?void 0:n.email)==null?void 0:i.split("@")[0]]}),q.jsx("span",{onClick:()=>xg.signOut(),children:"Sign Out"})]}):q.jsxs(q.Fragment,{children:[q.jsx("p",{children:"Hello, sign In"}),q.jsx("span",{children:"Account & Lists"})]})})}),q.jsxs(li,{to:"/orders",children:[q.jsx("p",{children:"Returns"}),q.jsx("span",{children:"& Orders"})]}),q.jsxs(li,{to:"/cart",className:Is.cart,children:[q.jsx(sL,{size:35}),q.jsx("span",{children:r})]})]})]})}),q.jsx(iL,{})]})},Mc=({children:n})=>q.jsxs("div",{children:[q.jsx(y9,{}),n]});var m0={},id={},Em={},bm={},g0={exports:{}},y0,g1;function _9(){if(g1)return y0;g1=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return y0=n,y0}var _0,y1;function v9(){if(y1)return _0;y1=1;var n=_9();function e(){}function t(){}return t.resetWarningCache=e,_0=function(){function r(u,h,d,f,g,_){if(_!==n){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},_0}var _1;function uN(){return _1||(_1=1,g0.exports=v9()()),g0.exports}var v1;function E9(){return v1||(v1=1,function(n){(function(e,t){t(n,so(),uN())})(bm,function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=w;var i=u(t),o=u(r);function u(M){return M&&M.__esModule?M:{default:M}}var h=Object.assign||function(M){for(var U=1;U<arguments.length;U++){var $=arguments[U];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(M[j]=$[j])}return M};function d(M,U){var $={};for(var j in M)U.indexOf(j)>=0||Object.prototype.hasOwnProperty.call(M,j)&&($[j]=M[j]);return $}function f(M,U){if(!(M instanceof U))throw new TypeError("Cannot call a class as a function")}var g=function(){function M(U,$){for(var j=0;j<$.length;j++){var H=$[j];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(U,H.key,H)}}return function(U,$,j){return $&&M(U.prototype,$),j&&M(U,j),U}}();function _(M,U){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:M}function v(M,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);M.prototype=Object.create(U&&U.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(M,U):M.__proto__=U)}var T=!1;function w(M){T=M}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){w(!0)}}))}catch{}function I(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return T?M:M.capture}function x(M){if("touches"in M){var U=M.touches[0],$=U.pageX,j=U.pageY;return{x:$,y:j}}var H=M.screenX,V=M.screenY;return{x:H,y:V}}var L=function(M){v(U,M);function U(){var $;f(this,U);for(var j=arguments.length,H=Array(j),V=0;V<j;V++)H[V]=arguments[V];var C=_(this,($=U.__proto__||Object.getPrototypeOf(U)).call.apply($,[this].concat(H)));return C._handleSwipeStart=C._handleSwipeStart.bind(C),C._handleSwipeMove=C._handleSwipeMove.bind(C),C._handleSwipeEnd=C._handleSwipeEnd.bind(C),C._onMouseDown=C._onMouseDown.bind(C),C._onMouseMove=C._onMouseMove.bind(C),C._onMouseUp=C._onMouseUp.bind(C),C._setSwiperRef=C._setSwiperRef.bind(C),C}return g(U,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,I({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,I({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(j){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(j))}},{key:"_onMouseMove",value:function(j){this.mouseDown&&this._handleSwipeMove(j)}},{key:"_onMouseUp",value:function(j){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(j)}},{key:"_handleSwipeStart",value:function(j){var H=x(j),V=H.x,C=H.y;this.moveStart={x:V,y:C},this.props.onSwipeStart(j)}},{key:"_handleSwipeMove",value:function(j){if(this.moveStart){var H=x(j),V=H.x,C=H.y,R=V-this.moveStart.x,b=C-this.moveStart.y;this.moving=!0;var P=this.props.onSwipeMove({x:R,y:b},j);P&&j.cancelable&&j.preventDefault(),this.movePosition={deltaX:R,deltaY:b}}}},{key:"_handleSwipeEnd",value:function(j){this.props.onSwipeEnd(j);var H=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-H?this.props.onSwipeLeft(1,j):this.movePosition.deltaX>H&&this.props.onSwipeRight(1,j),this.movePosition.deltaY<-H?this.props.onSwipeUp(1,j):this.movePosition.deltaY>H&&this.props.onSwipeDown(1,j)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(j){this.swiper=j,this.props.innerRef(j)}},{key:"render",value:function(){var j=this.props;j.tagName;var H=j.className,V=j.style,C=j.children;j.allowMouseEvents,j.onSwipeUp,j.onSwipeDown,j.onSwipeLeft,j.onSwipeRight,j.onSwipeStart,j.onSwipeMove,j.onSwipeEnd,j.innerRef,j.tolerance;var R=d(j,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,h({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:H,style:V},R),C)}}]),U}(t.Component);L.displayName="ReactSwipe",L.propTypes={tagName:o.default.string,className:o.default.string,style:o.default.object,children:o.default.node,allowMouseEvents:o.default.bool,onSwipeUp:o.default.func,onSwipeDown:o.default.func,onSwipeLeft:o.default.func,onSwipeRight:o.default.func,onSwipeStart:o.default.func,onSwipeMove:o.default.func,onSwipeEnd:o.default.func,innerRef:o.default.func,tolerance:o.default.number.isRequired},L.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=L})}(bm)),bm}var E1;function cN(){return E1||(E1=1,function(n){(function(e,t){t(n,E9())})(Em,function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var r=i(t);function i(o){return o&&o.__esModule?o:{default:o}}e.default=r.default})}(Em)),Em}var sd={},v0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var b1;function b9(){return b1||(b1=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",u=0;u<arguments.length;u++){var h=arguments[u];h&&(o=i(o,r(h)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var u="";for(var h in o)e.call(o,h)&&o[h]&&(u=i(u,h));return u}function i(o,u){return u?o?o+" "+u:o+u:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(v0)),v0.exports}var w1;function hN(){if(w1)return sd;w1=1,Object.defineProperty(sd,"__esModule",{value:!0}),sd.default=void 0;var n=e(b9());function e(i){return i&&i.__esModule?i:{default:i}}function t(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var r={ROOT:function(o){return(0,n.default)(t({"carousel-root":!0},o||"",!!o))},CAROUSEL:function(o){return(0,n.default)({carousel:!0,"carousel-slider":o})},WRAPPER:function(o,u){return(0,n.default)({"thumbs-wrapper":!o,"slider-wrapper":o,"axis-horizontal":u==="horizontal","axis-vertical":u!=="horizontal"})},SLIDER:function(o,u){return(0,n.default)({thumbs:!o,slider:o,animated:!u})},ITEM:function(o,u,h){return(0,n.default)({thumb:!o,slide:o,selected:u,previous:h})},ARROW_PREV:function(o){return(0,n.default)({"control-arrow control-prev":!0,"control-disabled":o})},ARROW_NEXT:function(o){return(0,n.default)({"control-arrow control-next":!0,"control-disabled":o})},DOT:function(o){return(0,n.default)({dot:!0,selected:o})}};return sd.default=r,sd}var ad={},od={},T1;function w9(){if(T1)return od;T1=1,Object.defineProperty(od,"__esModule",{value:!0}),od.outerWidth=void 0;var n=function(t){var r=t.offsetWidth,i=getComputedStyle(t);return r+=parseInt(i.marginLeft)+parseInt(i.marginRight),r};return od.outerWidth=n,od}var ld={},S1;function Sw(){if(S1)return ld;S1=1,Object.defineProperty(ld,"__esModule",{value:!0}),ld.default=void 0;var n=function(t,r,i){var o=t===0?t:t+r,u=i==="horizontal"?[o,0,0]:[0,o,0],h="translate3d",d="("+u.join(",")+")";return h+d};return ld.default=n,ld}var ud={},A1;function dN(){if(A1)return ud;A1=1,Object.defineProperty(ud,"__esModule",{value:!0}),ud.default=void 0;var n=function(){return window};return ud.default=n,ud}var I1;function fN(){if(I1)return ad;I1=1,Object.defineProperty(ad,"__esModule",{value:!0}),ad.default=void 0;var n=d(so()),e=u(hN()),t=w9(),r=u(Sw()),i=u(cN()),o=u(dN());function u(C){return C&&C.__esModule?C:{default:C}}function h(){if(typeof WeakMap!="function")return null;var C=new WeakMap;return h=function(){return C},C}function d(C){if(C&&C.__esModule)return C;if(C===null||f(C)!=="object"&&typeof C!="function")return{default:C};var R=h();if(R&&R.has(C))return R.get(C);var b={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var O in C)if(Object.prototype.hasOwnProperty.call(C,O)){var D=P?Object.getOwnPropertyDescriptor(C,O):null;D&&(D.get||D.set)?Object.defineProperty(b,O,D):b[O]=C[O]}return b.default=C,R&&R.set(C,b),b}function f(C){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(b){return typeof b}:f=function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},f(C)}function g(){return g=Object.assign||function(C){for(var R=1;R<arguments.length;R++){var b=arguments[R];for(var P in b)Object.prototype.hasOwnProperty.call(b,P)&&(C[P]=b[P])}return C},g.apply(this,arguments)}function _(C,R){if(!(C instanceof R))throw new TypeError("Cannot call a class as a function")}function v(C,R){for(var b=0;b<R.length;b++){var P=R[b];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(C,P.key,P)}}function T(C,R,b){return R&&v(C.prototype,R),C}function w(C,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(R&&R.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),R&&I(C,R)}function I(C,R){return I=Object.setPrototypeOf||function(P,O){return P.__proto__=O,P},I(C,R)}function x(C){var R=U();return function(){var P=$(C),O;if(R){var D=$(this).constructor;O=Reflect.construct(P,arguments,D)}else O=P.apply(this,arguments);return L(this,O)}}function L(C,R){return R&&(f(R)==="object"||typeof R=="function")?R:M(C)}function M(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function $(C){return $=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)},$(C)}function j(C,R,b){return R in C?Object.defineProperty(C,R,{value:b,enumerable:!0,configurable:!0,writable:!0}):C[R]=b,C}var H=function(R){return R.hasOwnProperty("key")},V=function(C){w(b,C);var R=x(b);function b(P){var O;return _(this,b),O=R.call(this,P),j(M(O),"itemsWrapperRef",void 0),j(M(O),"itemsListRef",void 0),j(M(O),"thumbsRef",void 0),j(M(O),"setItemsWrapperRef",function(D){O.itemsWrapperRef=D}),j(M(O),"setItemsListRef",function(D){O.itemsListRef=D}),j(M(O),"setThumbsRef",function(D,te){O.thumbsRef||(O.thumbsRef=[]),O.thumbsRef[te]=D}),j(M(O),"updateSizes",function(){if(!(!O.props.children||!O.itemsWrapperRef||!O.thumbsRef)){var D=n.Children.count(O.props.children),te=O.itemsWrapperRef.clientWidth,B=O.props.thumbWidth?O.props.thumbWidth:(0,t.outerWidth)(O.thumbsRef[0]),ee=Math.floor(te/B),ie=ee<D,ue=ie?D-ee:0;O.setState(function(Te,z){return{itemSize:B,visibleItems:ee,firstItem:ie?O.getFirstItem(z.selectedItem):0,lastPosition:ue,showArrows:ie}})}}),j(M(O),"handleClickItem",function(D,te,B){if(!H(B)||B.key==="Enter"){var ee=O.props.onSelectItem;typeof ee=="function"&&ee(D,te)}}),j(M(O),"onSwipeStart",function(){O.setState({swiping:!0})}),j(M(O),"onSwipeEnd",function(){O.setState({swiping:!1})}),j(M(O),"onSwipeMove",function(D){var te=D.x;if(!O.state.itemSize||!O.itemsWrapperRef||!O.state.visibleItems)return!1;var B=0,ee=n.Children.count(O.props.children),ie=-(O.state.firstItem*100)/O.state.visibleItems,ue=Math.max(ee-O.state.visibleItems,0),Te=-ue*100/O.state.visibleItems;ie===B&&te>0&&(te=0),ie===Te&&te<0&&(te=0);var z=O.itemsWrapperRef.clientWidth,ae=ie+100/(z/te);return O.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(be){O.itemsListRef.style[be]=(0,r.default)(ae,"%",O.props.axis)}),!0}),j(M(O),"slideRight",function(D){O.moveTo(O.state.firstItem-(typeof D=="number"?D:1))}),j(M(O),"slideLeft",function(D){O.moveTo(O.state.firstItem+(typeof D=="number"?D:1))}),j(M(O),"moveTo",function(D){D=D<0?0:D,D=D>=O.state.lastPosition?O.state.lastPosition:D,O.setState({firstItem:D})}),O.state={selectedItem:P.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},O}return T(b,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(O){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==O.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(O){var D=O;return O>=this.state.lastPosition&&(D=this.state.lastPosition),O<this.state.firstItem+this.state.visibleItems&&(D=this.state.firstItem),O<this.state.firstItem&&(D=O),D}},{key:"renderItems",value:function(){var O=this;return this.props.children.map(function(D,te){var B=e.default.ITEM(!1,te===O.state.selectedItem),ee={key:te,ref:function(ue){return O.setThumbsRef(ue,te)},className:B,onClick:O.handleClickItem.bind(O,te,O.props.children[te]),onKeyDown:O.handleClickItem.bind(O,te,O.props.children[te]),"aria-label":"".concat(O.props.labels.item," ").concat(te+1),style:{width:O.props.thumbWidth}};return n.default.createElement("li",g({},ee,{role:"button",tabIndex:0}),D)})}},{key:"render",value:function(){var O=this;if(!this.props.children)return null;var D=n.Children.count(this.props.children)>1,te=this.state.showArrows&&this.state.firstItem>0,B=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,ee={},ie=-this.state.firstItem*(this.state.itemSize||0),ue=(0,r.default)(ie,"px",this.props.axis),Te=this.props.transitionTime+"ms";return ee={WebkitTransform:ue,MozTransform:ue,MsTransform:ue,OTransform:ue,transform:ue,msTransform:ue,WebkitTransitionDuration:Te,MozTransitionDuration:Te,MsTransitionDuration:Te,OTransitionDuration:Te,transitionDuration:Te,msTransitionDuration:Te},n.default.createElement("div",{className:e.default.CAROUSEL(!1)},n.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},n.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!te),onClick:function(){return O.slideRight()},"aria-label":this.props.labels.leftArrow}),D?n.default.createElement(i.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:ee,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):n.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(ae){return O.setItemsListRef(ae)},style:ee},this.renderItems()),n.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!B),onClick:function(){return O.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),b}(n.Component);return ad.default=V,j(V,"displayName","Thumbs"),j(V,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),ad}var cd={},R1;function T9(){if(R1)return cd;R1=1,Object.defineProperty(cd,"__esModule",{value:!0}),cd.default=void 0;var n=function(){return document};return cd.default=n,cd}var br={},C1;function pN(){if(C1)return br;C1=1,Object.defineProperty(br,"__esModule",{value:!0}),br.setPosition=br.getPosition=br.isKeyboardEvent=br.defaultStatusFormatter=br.noop=void 0;var n=so(),e=t(Sw());function t(d){return d&&d.__esModule?d:{default:d}}var r=function(){};br.noop=r;var i=function(f,g){return"".concat(f," of ").concat(g)};br.defaultStatusFormatter=i;var o=function(f){return f?f.hasOwnProperty("key"):!1};br.isKeyboardEvent=o;var u=function(f,g){if(g.infiniteLoop&&++f,f===0)return 0;var _=n.Children.count(g.children);if(g.centerMode&&g.axis==="horizontal"){var v=-f*g.centerSlidePercentage,T=_-1;return f&&(f!==T||g.infiniteLoop)?v+=(100-g.centerSlidePercentage)/2:f===T&&(v+=100-g.centerSlidePercentage),v}return-f*100};br.getPosition=u;var h=function(f,g){var _={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(v){_[v]=(0,e.default)(f,"%",g)}),_};return br.setPosition=h,br}var ai={},x1;function S9(){if(x1)return ai;x1=1,Object.defineProperty(ai,"__esModule",{value:!0}),ai.fadeAnimationHandler=ai.slideStopSwipingHandler=ai.slideSwipeAnimationHandler=ai.slideAnimationHandler=void 0;var n=so(),e=r(Sw()),t=pN();function r(_){return _&&_.__esModule?_:{default:_}}function i(_,v){var T=Object.keys(_);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(_);v&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(_,I).enumerable})),T.push.apply(T,w)}return T}function o(_){for(var v=1;v<arguments.length;v++){var T=arguments[v]!=null?arguments[v]:{};v%2?i(Object(T),!0).forEach(function(w){u(_,w,T[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(T)):i(Object(T)).forEach(function(w){Object.defineProperty(_,w,Object.getOwnPropertyDescriptor(T,w))})}return _}function u(_,v,T){return v in _?Object.defineProperty(_,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):_[v]=T,_}var h=function(v,T){var w={},I=T.selectedItem,x=I,L=n.Children.count(v.children)-1,M=v.infiniteLoop&&(I<0||I>L);if(M)return x<0?v.centerMode&&v.centerSlidePercentage&&v.axis==="horizontal"?w.itemListStyle=(0,t.setPosition)(-(L+2)*v.centerSlidePercentage-(100-v.centerSlidePercentage)/2,v.axis):w.itemListStyle=(0,t.setPosition)(-(L+2)*100,v.axis):x>L&&(w.itemListStyle=(0,t.setPosition)(0,v.axis)),w;var U=(0,t.getPosition)(I,v),$=(0,e.default)(U,"%",v.axis),j=v.transitionTime+"ms";return w.itemListStyle={WebkitTransform:$,msTransform:$,OTransform:$,transform:$},T.swiping||(w.itemListStyle=o(o({},w.itemListStyle),{},{WebkitTransitionDuration:j,MozTransitionDuration:j,OTransitionDuration:j,transitionDuration:j,msTransitionDuration:j})),w};ai.slideAnimationHandler=h;var d=function(v,T,w,I){var x={},L=T.axis==="horizontal",M=n.Children.count(T.children),U=0,$=(0,t.getPosition)(w.selectedItem,T),j=T.infiniteLoop?(0,t.getPosition)(M-1,T)-100:(0,t.getPosition)(M-1,T),H=L?v.x:v.y,V=H;$===U&&H>0&&(V=0),$===j&&H<0&&(V=0);var C=$+100/(w.itemSize/V),R=Math.abs(H)>T.swipeScrollTolerance;return T.infiniteLoop&&R&&(w.selectedItem===0&&C>-100?C-=M*100:w.selectedItem===M-1&&C<-M*100&&(C+=M*100)),(!T.preventMovementUntilSwipeScrollTolerance||R||w.swipeMovementStarted)&&(w.swipeMovementStarted||I({swipeMovementStarted:!0}),x.itemListStyle=(0,t.setPosition)(C,T.axis)),R&&!w.cancelClick&&I({cancelClick:!0}),x};ai.slideSwipeAnimationHandler=d;var f=function(v,T){var w=(0,t.getPosition)(T.selectedItem,v),I=(0,t.setPosition)(w,v.axis);return{itemListStyle:I}};ai.slideStopSwipingHandler=f;var g=function(v,T){var w=v.transitionTime+"ms",I="ease-in-out",x={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:I,msTransitionTimingFunction:I,MozTransitionTimingFunction:I,WebkitTransitionTimingFunction:I,OTransitionTimingFunction:I};return T.swiping||(x=o(o({},x),{},{WebkitTransitionDuration:w,MozTransitionDuration:w,OTransitionDuration:w,transitionDuration:w,msTransitionDuration:w})),{slideStyle:x,selectedStyle:o(o({},x),{},{opacity:1,position:"relative"}),prevStyle:o({},x)}};return ai.fadeAnimationHandler=g,ai}var P1;function A9(){if(P1)return id;P1=1,Object.defineProperty(id,"__esModule",{value:!0}),id.default=void 0;var n=g(so()),e=d(cN()),t=d(hN()),r=d(fN()),i=d(T9()),o=d(dN()),u=pN(),h=S9();function d(P){return P&&P.__esModule?P:{default:P}}function f(){if(typeof WeakMap!="function")return null;var P=new WeakMap;return f=function(){return P},P}function g(P){if(P&&P.__esModule)return P;if(P===null||_(P)!=="object"&&typeof P!="function")return{default:P};var O=f();if(O&&O.has(P))return O.get(P);var D={},te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var B in P)if(Object.prototype.hasOwnProperty.call(P,B)){var ee=te?Object.getOwnPropertyDescriptor(P,B):null;ee&&(ee.get||ee.set)?Object.defineProperty(D,B,ee):D[B]=P[B]}return D.default=P,O&&O.set(P,D),D}function _(P){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_=function(D){return typeof D}:_=function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},_(P)}function v(){return v=Object.assign||function(P){for(var O=1;O<arguments.length;O++){var D=arguments[O];for(var te in D)Object.prototype.hasOwnProperty.call(D,te)&&(P[te]=D[te])}return P},v.apply(this,arguments)}function T(P,O){var D=Object.keys(P);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(P);O&&(te=te.filter(function(B){return Object.getOwnPropertyDescriptor(P,B).enumerable})),D.push.apply(D,te)}return D}function w(P){for(var O=1;O<arguments.length;O++){var D=arguments[O]!=null?arguments[O]:{};O%2?T(Object(D),!0).forEach(function(te){R(P,te,D[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(D)):T(Object(D)).forEach(function(te){Object.defineProperty(P,te,Object.getOwnPropertyDescriptor(D,te))})}return P}function I(P,O){if(!(P instanceof O))throw new TypeError("Cannot call a class as a function")}function x(P,O){for(var D=0;D<O.length;D++){var te=O[D];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(P,te.key,te)}}function L(P,O,D){return O&&x(P.prototype,O),P}function M(P,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(O&&O.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),O&&U(P,O)}function U(P,O){return U=Object.setPrototypeOf||function(te,B){return te.__proto__=B,te},U(P,O)}function $(P){var O=V();return function(){var te=C(P),B;if(O){var ee=C(this).constructor;B=Reflect.construct(te,arguments,ee)}else B=te.apply(this,arguments);return j(this,B)}}function j(P,O){return O&&(_(O)==="object"||typeof O=="function")?O:H(P)}function H(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function C(P){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)},C(P)}function R(P,O,D){return O in P?Object.defineProperty(P,O,{value:D,enumerable:!0,configurable:!0,writable:!0}):P[O]=D,P}var b=function(P){M(D,P);var O=$(D);function D(te){var B;I(this,D),B=O.call(this,te),R(H(B),"thumbsRef",void 0),R(H(B),"carouselWrapperRef",void 0),R(H(B),"listRef",void 0),R(H(B),"itemsRef",void 0),R(H(B),"timer",void 0),R(H(B),"animationHandler",void 0),R(H(B),"setThumbsRef",function(ie){B.thumbsRef=ie}),R(H(B),"setCarouselWrapperRef",function(ie){B.carouselWrapperRef=ie}),R(H(B),"setListRef",function(ie){B.listRef=ie}),R(H(B),"setItemsRef",function(ie,ue){B.itemsRef||(B.itemsRef=[]),B.itemsRef[ue]=ie}),R(H(B),"autoPlay",function(){n.Children.count(B.props.children)<=1||(B.clearAutoPlay(),B.props.autoPlay&&(B.timer=setTimeout(function(){B.increment()},B.props.interval)))}),R(H(B),"clearAutoPlay",function(){B.timer&&clearTimeout(B.timer)}),R(H(B),"resetAutoPlay",function(){B.clearAutoPlay(),B.autoPlay()}),R(H(B),"stopOnHover",function(){B.setState({isMouseEntered:!0},B.clearAutoPlay)}),R(H(B),"startOnLeave",function(){B.setState({isMouseEntered:!1},B.autoPlay)}),R(H(B),"isFocusWithinTheCarousel",function(){return B.carouselWrapperRef?!!((0,i.default)().activeElement===B.carouselWrapperRef||B.carouselWrapperRef.contains((0,i.default)().activeElement)):!1}),R(H(B),"navigateWithKeyboard",function(ie){if(B.isFocusWithinTheCarousel()){var ue=B.props.axis,Te=ue==="horizontal",z={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},ae=Te?z.ArrowRight:z.ArrowDown,be=Te?z.ArrowLeft:z.ArrowUp;ae===ie.keyCode?B.increment():be===ie.keyCode&&B.decrement()}}),R(H(B),"updateSizes",function(){if(!(!B.state.initialized||!B.itemsRef||B.itemsRef.length===0)){var ie=B.props.axis==="horizontal",ue=B.itemsRef[0];if(ue){var Te=ie?ue.clientWidth:ue.clientHeight;B.setState({itemSize:Te}),B.thumbsRef&&B.thumbsRef.updateSizes()}}}),R(H(B),"setMountState",function(){B.setState({hasMount:!0}),B.updateSizes()}),R(H(B),"handleClickItem",function(ie,ue){if(n.Children.count(B.props.children)!==0){if(B.state.cancelClick){B.setState({cancelClick:!1});return}B.props.onClickItem(ie,ue),ie!==B.state.selectedItem&&B.setState({selectedItem:ie})}}),R(H(B),"handleOnChange",function(ie,ue){n.Children.count(B.props.children)<=1||B.props.onChange(ie,ue)}),R(H(B),"handleClickThumb",function(ie,ue){B.props.onClickThumb(ie,ue),B.moveTo(ie)}),R(H(B),"onSwipeStart",function(ie){B.setState({swiping:!0}),B.props.onSwipeStart(ie)}),R(H(B),"onSwipeEnd",function(ie){B.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),B.props.onSwipeEnd(ie),B.clearAutoPlay(),B.state.autoPlay&&B.autoPlay()}),R(H(B),"onSwipeMove",function(ie,ue){B.props.onSwipeMove(ue);var Te=B.props.swipeAnimationHandler(ie,B.props,B.state,B.setState.bind(H(B)));return B.setState(w({},Te)),!!Object.keys(Te).length}),R(H(B),"decrement",function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;B.moveTo(B.state.selectedItem-(typeof ie=="number"?ie:1))}),R(H(B),"increment",function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;B.moveTo(B.state.selectedItem+(typeof ie=="number"?ie:1))}),R(H(B),"moveTo",function(ie){if(typeof ie=="number"){var ue=n.Children.count(B.props.children)-1;ie<0&&(ie=B.props.infiniteLoop?ue:0),ie>ue&&(ie=B.props.infiniteLoop?0:ue),B.selectItem({selectedItem:ie}),B.state.autoPlay&&B.state.isMouseEntered===!1&&B.resetAutoPlay()}}),R(H(B),"onClickNext",function(){B.increment(1)}),R(H(B),"onClickPrev",function(){B.decrement(1)}),R(H(B),"onSwipeForward",function(){B.increment(1),B.props.emulateTouch&&B.setState({cancelClick:!0})}),R(H(B),"onSwipeBackwards",function(){B.decrement(1),B.props.emulateTouch&&B.setState({cancelClick:!0})}),R(H(B),"changeItem",function(ie){return function(ue){(!(0,u.isKeyboardEvent)(ue)||ue.key==="Enter")&&B.moveTo(ie)}}),R(H(B),"selectItem",function(ie){B.setState(w({previousItem:B.state.selectedItem},ie),function(){B.setState(B.animationHandler(B.props,B.state))}),B.handleOnChange(ie.selectedItem,n.Children.toArray(B.props.children)[ie.selectedItem])}),R(H(B),"getInitialImage",function(){var ie=B.props.selectedItem,ue=B.itemsRef&&B.itemsRef[ie],Te=ue&&ue.getElementsByTagName("img")||[];return Te[0]}),R(H(B),"getVariableItemHeight",function(ie){var ue=B.itemsRef&&B.itemsRef[ie];if(B.state.hasMount&&ue&&ue.children.length){var Te=ue.children[0].getElementsByTagName("img")||[];if(Te.length>0){var z=Te[0];if(!z.complete){var ae=function ye(){B.forceUpdate(),z.removeEventListener("load",ye)};z.addEventListener("load",ae)}}var be=Te[0]||ue.children[0],ve=be.clientHeight;return ve>0?ve:null}return null});var ee={initialized:!1,previousItem:te.selectedItem,selectedItem:te.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:te.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return B.animationHandler=typeof te.animationHandler=="function"&&te.animationHandler||te.animationHandler==="fade"&&h.fadeAnimationHandler||h.slideAnimationHandler,B.state=w(w({},ee),B.animationHandler(te,ee)),B}return L(D,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(B,ee){!B.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!B.autoFocus&&this.props.autoFocus&&this.forceFocus(),ee.swiping&&!this.state.swiping&&this.setState(w({},this.props.stopSwipingHandler(this.props,this.state))),(B.selectedItem!==this.props.selectedItem||B.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),B.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var B=this;this.bindEvents(),this.state.autoPlay&&n.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var ee=B.getInitialImage();ee&&!ee.complete?ee.addEventListener("load",B.setMountState):B.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var B=this.carouselWrapperRef;this.props.stopOnHover&&B&&(B.addEventListener("mouseenter",this.stopOnHover),B.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var B=this.carouselWrapperRef;this.props.stopOnHover&&B&&(B.removeEventListener("mouseenter",this.stopOnHover),B.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,i.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var B=this.getInitialImage();B&&B.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,i.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var B;(B=this.carouselWrapperRef)===null||B===void 0||B.focus()}},{key:"renderItems",value:function(B){var ee=this;return this.props.children?n.Children.map(this.props.children,function(ie,ue){var Te=ue===ee.state.selectedItem,z=ue===ee.state.previousItem,ae=Te&&ee.state.selectedStyle||z&&ee.state.prevStyle||ee.state.slideStyle||{};ee.props.centerMode&&ee.props.axis==="horizontal"&&(ae=w(w({},ae),{},{minWidth:ee.props.centerSlidePercentage+"%"})),ee.state.swiping&&ee.state.swipeMovementStarted&&(ae=w(w({},ae),{},{pointerEvents:"none"}));var be={ref:function(ye){return ee.setItemsRef(ye,ue)},key:"itemKey"+ue+(B?"clone":""),className:t.default.ITEM(!0,ue===ee.state.selectedItem,ue===ee.state.previousItem),onClick:ee.handleClickItem.bind(ee,ue,ie),style:ae};return n.default.createElement("li",be,ee.props.renderItem(ie,{isSelected:ue===ee.state.selectedItem,isPrevious:ue===ee.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var B=this,ee=this.props,ie=ee.showIndicators,ue=ee.labels,Te=ee.renderIndicator,z=ee.children;return ie?n.default.createElement("ul",{className:"control-dots"},n.Children.map(z,function(ae,be){return Te&&Te(B.changeItem(be),be===B.state.selectedItem,be,ue.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?n.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,n.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||n.Children.count(this.props.children)===0?null:n.default.createElement(r.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var B=this;if(!this.props.children||n.Children.count(this.props.children)===0)return null;var ee=this.props.swipeable&&n.Children.count(this.props.children)>1,ie=this.props.axis==="horizontal",ue=this.props.showArrows&&n.Children.count(this.props.children)>1,Te=ue&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,z=ue&&(this.state.selectedItem<n.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,ae=this.renderItems(!0),be=ae.shift(),ve=ae.pop(),ye={className:t.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},Oe={};if(ie){if(ye.onSwipeLeft=this.onSwipeForward,ye.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var De=this.getVariableItemHeight(this.state.selectedItem);Oe.height=De||"auto"}}else ye.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,ye.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,ye.style=w(w({},ye.style),{},{height:this.state.itemSize}),Oe.height=this.state.itemSize;return n.default.createElement("div",{"aria-label":this.props.ariaLabel,className:t.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},n.default.createElement("div",{className:t.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,Te,this.props.labels.leftArrow),n.default.createElement("div",{className:t.default.WRAPPER(!0,this.props.axis),style:Oe},ee?n.default.createElement(e.default,v({tagName:"ul",innerRef:this.setListRef},ye,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&ve,this.renderItems(),this.props.infiniteLoop&&be):n.default.createElement("ul",{className:t.default.SLIDER(!0,this.state.swiping),ref:function(ze){return B.setListRef(ze)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&ve,this.renderItems(),this.props.infiniteLoop&&be)),this.props.renderArrowNext(this.onClickNext,z,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),D}(n.default.Component);return id.default=b,R(b,"displayName","Carousel"),R(b,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:u.noop,onClickThumb:u.noop,onChange:u.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(O,D,te){return n.default.createElement("button",{type:"button","aria-label":te,className:t.default.ARROW_PREV(!D),onClick:O})},renderArrowNext:function(O,D,te){return n.default.createElement("button",{type:"button","aria-label":te,className:t.default.ARROW_NEXT(!D),onClick:O})},renderIndicator:function(O,D,te,B){return n.default.createElement("li",{className:t.default.DOT(D),onClick:O,onKeyDown:O,value:te,key:te,role:"button",tabIndex:0,"aria-label":"".concat(B," ").concat(te+1)})},renderItem:function(O){return O},renderThumbs:function(O){var D=n.Children.map(O,function(te){var B=te;if(te.type!=="img"&&(B=n.Children.toArray(te.props.children).find(function(ee){return ee.type==="img"})),!!B)return B});return D.filter(function(te){return te}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):D},statusFormatter:u.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:h.slideSwipeAnimationHandler,stopSwipingHandler:h.slideStopSwipingHandler}),id}var O1={},D1;function I9(){return D1||(D1=1),O1}var N1;function R9(){return N1||(N1=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"CarouselProps",{enumerable:!0,get:function(){return t.CarouselProps}}),Object.defineProperty(n,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(A9()),t=I9(),r=i(fN());function i(o){return o&&o.__esModule?o:{default:o}}}(m0)),m0}var C9=R9();const x9="/Amazon-Clone-2025/assets/10001-BPr44Ttk.jpg",P9="/Amazon-Clone-2025/assets/10002-C_dsjNeq.jpg",O9="/Amazon-Clone-2025/assets/10003-CO6XiwvK.jpg",D9="/Amazon-Clone-2025/assets/10004-bl35EseN.jpg",N9="/Amazon-Clone-2025/assets/10005-X-_6zMIx.jpg",k9=[x9,P9,O9,D9,N9],V9="_hero_img_12op7_1",M9={hero_img:V9},L9=()=>q.jsxs("div",{children:[q.jsx(C9.Carousel,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,children:k9.map((n,e)=>q.jsx("img",{src:n},e))}),q.jsx("div",{className:M9.hero_img})]}),U9=[{title:"Electronics",name:"electronics",imgLink:"https://fakestoreapi.com/img/81Zt42ioCgL._AC_SX679_.jpg"},{title:"Jewelery",name:"jewelery",imgLink:"https://fakestoreapi.com/img/71YAIFU48IL._AC_UL640_QL65_ML3_.jpg"},{title:"Men's Clothing",name:"men's clothing",imgLink:"https://fakestoreapi.com/img/71li-ujtlUL._AC_UX679_.jpg"},{title:"Discover fashion trends",name:"women's clothing",imgLink:"https://fakestoreapi.com/img/61pHAEJ4NML._AC_UX679_.jpg"}],B9="_category_18p5g_1",F9="_category_container_18p5g_53",mN={category:B9,category_container:F9},j9=({data:n})=>q.jsx("div",{className:mN.category,children:q.jsxs(li,{to:`/category/${n.name}`,children:[q.jsx("span",{children:q.jsx("h2",{children:n==null?void 0:n.title})}),q.jsx("img",{src:n==null?void 0:n.imgLink,alt:""}),q.jsx("p",{children:"shop now"})]})}),z9=()=>q.jsx("section",{className:mN.category_container,children:U9.map((n,e)=>q.jsx(j9,{data:n},e))});function gN(n,e){return function(){return n.apply(e,arguments)}}const{toString:q9}=Object.prototype,{getPrototypeOf:Aw}=Object,Ay=(n=>e=>{const t=q9.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),hi=n=>(n=n.toLowerCase(),e=>Ay(e)===n),Iy=n=>e=>typeof e===n,{isArray:Lc}=Array,uf=Iy("undefined");function H9(n){return n!==null&&!uf(n)&&n.constructor!==null&&!uf(n.constructor)&&Rr(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const yN=hi("ArrayBuffer");function $9(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&yN(n.buffer),e}const G9=Iy("string"),Rr=Iy("function"),_N=Iy("number"),Ry=n=>n!==null&&typeof n=="object",K9=n=>n===!0||n===!1,Hm=n=>{if(Ay(n)!=="object")return!1;const e=Aw(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},W9=hi("Date"),Q9=hi("File"),Y9=hi("Blob"),X9=hi("FileList"),J9=n=>Ry(n)&&Rr(n.pipe),Z9=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Rr(n.append)&&((e=Ay(n))==="formdata"||e==="object"&&Rr(n.toString)&&n.toString()==="[object FormData]"))},eq=hi("URLSearchParams"),[tq,nq,rq,iq]=["ReadableStream","Request","Response","Headers"].map(hi),sq=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Uf(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Lc(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),u=o.length;let h;for(r=0;r<u;r++)h=o[r],e.call(null,n[h],h,n)}}function vN(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const al=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,EN=n=>!uf(n)&&n!==al;function vE(){const{caseless:n}=EN(this)&&this||{},e={},t=(r,i)=>{const o=n&&vN(e,i)||i;Hm(e[o])&&Hm(r)?e[o]=vE(e[o],r):Hm(r)?e[o]=vE({},r):Lc(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Uf(arguments[r],t);return e}const aq=(n,e,t,{allOwnKeys:r}={})=>(Uf(e,(i,o)=>{t&&Rr(i)?n[o]=gN(i,t):n[o]=i},{allOwnKeys:r}),n),oq=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),lq=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},uq=(n,e,t,r)=>{let i,o,u;const h={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),o=i.length;o-- >0;)u=i[o],(!r||r(u,n,e))&&!h[u]&&(e[u]=n[u],h[u]=!0);n=t!==!1&&Aw(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},cq=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},hq=n=>{if(!n)return null;if(Lc(n))return n;let e=n.length;if(!_N(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},dq=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Aw(Uint8Array)),fq=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(n,o[0],o[1])}},pq=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},mq=hi("HTMLFormElement"),gq=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),k1=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),yq=hi("RegExp"),bN=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Uf(t,(i,o)=>{let u;(u=e(i,o,n))!==!1&&(r[o]=u||i)}),Object.defineProperties(n,r)},_q=n=>{bN(n,(e,t)=>{if(Rr(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Rr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},vq=(n,e)=>{const t={},r=i=>{i.forEach(o=>{t[o]=!0})};return Lc(n)?r(n):r(String(n).split(e)),t},Eq=()=>{},bq=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function wq(n){return!!(n&&Rr(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const Tq=n=>{const e=new Array(10),t=(r,i)=>{if(Ry(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=Lc(r)?[]:{};return Uf(r,(u,h)=>{const d=t(u,i+1);!uf(d)&&(o[h]=d)}),e[i]=void 0,o}}return r};return t(n,0)},Sq=hi("AsyncFunction"),Aq=n=>n&&(Ry(n)||Rr(n))&&Rr(n.then)&&Rr(n.catch),wN=((n,e)=>n?setImmediate:e?((t,r)=>(al.addEventListener("message",({source:i,data:o})=>{i===al&&o===t&&r.length&&r.shift()()},!1),i=>{r.push(i),al.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Rr(al.postMessage)),Iq=typeof queueMicrotask<"u"?queueMicrotask.bind(al):typeof process<"u"&&process.nextTick||wN,se={isArray:Lc,isArrayBuffer:yN,isBuffer:H9,isFormData:Z9,isArrayBufferView:$9,isString:G9,isNumber:_N,isBoolean:K9,isObject:Ry,isPlainObject:Hm,isReadableStream:tq,isRequest:nq,isResponse:rq,isHeaders:iq,isUndefined:uf,isDate:W9,isFile:Q9,isBlob:Y9,isRegExp:yq,isFunction:Rr,isStream:J9,isURLSearchParams:eq,isTypedArray:dq,isFileList:X9,forEach:Uf,merge:vE,extend:aq,trim:sq,stripBOM:oq,inherits:lq,toFlatObject:uq,kindOf:Ay,kindOfTest:hi,endsWith:cq,toArray:hq,forEachEntry:fq,matchAll:pq,isHTMLForm:mq,hasOwnProperty:k1,hasOwnProp:k1,reduceDescriptors:bN,freezeMethods:_q,toObjectSet:vq,toCamelCase:gq,noop:Eq,toFiniteNumber:bq,findKey:vN,global:al,isContextDefined:EN,isSpecCompliantForm:wq,toJSONObject:Tq,isAsyncFn:Sq,isThenable:Aq,setImmediate:wN,asap:Iq};function Ve(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}se.inherits(Ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}});const TN=Ve.prototype,SN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{SN[n]={value:n}});Object.defineProperties(Ve,SN);Object.defineProperty(TN,"isAxiosError",{value:!0});Ve.from=(n,e,t,r,i,o)=>{const u=Object.create(TN);return se.toFlatObject(n,u,function(d){return d!==Error.prototype},h=>h!=="isAxiosError"),Ve.call(u,n.message,e,t,r,i),u.cause=n,u.name=n.name,o&&Object.assign(u,o),u};const Rq=null;function EE(n){return se.isPlainObject(n)||se.isArray(n)}function AN(n){return se.endsWith(n,"[]")?n.slice(0,-2):n}function V1(n,e,t){return n?n.concat(e).map(function(i,o){return i=AN(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function Cq(n){return se.isArray(n)&&!n.some(EE)}const xq=se.toFlatObject(se,{},null,function(e){return/^is[A-Z]/.test(e)});function Cy(n,e,t){if(!se.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=se.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(I,x){return!se.isUndefined(x[I])});const r=t.metaTokens,i=t.visitor||g,o=t.dots,u=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(e);if(!se.isFunction(i))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(se.isDate(w))return w.toISOString();if(!d&&se.isBlob(w))throw new Ve("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(w)||se.isTypedArray(w)?d&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function g(w,I,x){let L=w;if(w&&!x&&typeof w=="object"){if(se.endsWith(I,"{}"))I=r?I:I.slice(0,-2),w=JSON.stringify(w);else if(se.isArray(w)&&Cq(w)||(se.isFileList(w)||se.endsWith(I,"[]"))&&(L=se.toArray(w)))return I=AN(I),L.forEach(function(U,$){!(se.isUndefined(U)||U===null)&&e.append(u===!0?V1([I],$,o):u===null?I:I+"[]",f(U))}),!1}return EE(w)?!0:(e.append(V1(x,I,o),f(w)),!1)}const _=[],v=Object.assign(xq,{defaultVisitor:g,convertValue:f,isVisitable:EE});function T(w,I){if(!se.isUndefined(w)){if(_.indexOf(w)!==-1)throw Error("Circular reference detected in "+I.join("."));_.push(w),se.forEach(w,function(L,M){(!(se.isUndefined(L)||L===null)&&i.call(e,L,se.isString(M)?M.trim():M,I,v))===!0&&T(L,I?I.concat(M):[M])}),_.pop()}}if(!se.isObject(n))throw new TypeError("data must be an object");return T(n),e}function M1(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Iw(n,e){this._pairs=[],n&&Cy(n,this,e)}const IN=Iw.prototype;IN.append=function(e,t){this._pairs.push([e,t])};IN.toString=function(e){const t=e?function(r){return e.call(this,r,M1)}:M1;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function Pq(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function RN(n,e,t){if(!e)return n;const r=t&&t.encode||Pq;se.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let o;if(i?o=i(e,t):o=se.isURLSearchParams(e)?e.toString():new Iw(e,t).toString(r),o){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class L1{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){se.forEach(this.handlers,function(r){r!==null&&e(r)})}}const CN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Oq=typeof URLSearchParams<"u"?URLSearchParams:Iw,Dq=typeof FormData<"u"?FormData:null,Nq=typeof Blob<"u"?Blob:null,kq={isBrowser:!0,classes:{URLSearchParams:Oq,FormData:Dq,Blob:Nq},protocols:["http","https","file","blob","url","data"]},Rw=typeof window<"u"&&typeof document<"u",bE=typeof navigator=="object"&&navigator||void 0,Vq=Rw&&(!bE||["ReactNative","NativeScript","NS"].indexOf(bE.product)<0),Mq=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Lq=Rw&&window.location.href||"http://localhost",Uq=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Rw,hasStandardBrowserEnv:Vq,hasStandardBrowserWebWorkerEnv:Mq,navigator:bE,origin:Lq},Symbol.toStringTag,{value:"Module"})),Hn={...Uq,...kq};function Bq(n,e){return Cy(n,new Hn.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,o){return Hn.isNode&&se.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function Fq(n){return se.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function jq(n){const e={},t=Object.keys(n);let r;const i=t.length;let o;for(r=0;r<i;r++)o=t[r],e[o]=n[o];return e}function xN(n){function e(t,r,i,o){let u=t[o++];if(u==="__proto__")return!0;const h=Number.isFinite(+u),d=o>=t.length;return u=!u&&se.isArray(i)?i.length:u,d?(se.hasOwnProp(i,u)?i[u]=[i[u],r]:i[u]=r,!h):((!i[u]||!se.isObject(i[u]))&&(i[u]=[]),e(t,r,i[u],o)&&se.isArray(i[u])&&(i[u]=jq(i[u])),!h)}if(se.isFormData(n)&&se.isFunction(n.entries)){const t={};return se.forEachEntry(n,(r,i)=>{e(Fq(r),i,t,0)}),t}return null}function zq(n,e,t){if(se.isString(n))try{return(e||JSON.parse)(n),se.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Bf={transitional:CN,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=se.isObject(e);if(o&&se.isHTMLForm(e)&&(e=new FormData(e)),se.isFormData(e))return i?JSON.stringify(xN(e)):e;if(se.isArrayBuffer(e)||se.isBuffer(e)||se.isStream(e)||se.isFile(e)||se.isBlob(e)||se.isReadableStream(e))return e;if(se.isArrayBufferView(e))return e.buffer;if(se.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Bq(e,this.formSerializer).toString();if((h=se.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Cy(h?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),zq(e)):e}],transformResponse:[function(e){const t=this.transitional||Bf.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(se.isResponse(e)||se.isReadableStream(e))return e;if(e&&se.isString(e)&&(r&&!this.responseType||i)){const u=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(h){if(u)throw h.name==="SyntaxError"?Ve.from(h,Ve.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Hn.classes.FormData,Blob:Hn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],n=>{Bf.headers[n]={}});const qq=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Hq=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(u){i=u.indexOf(":"),t=u.substring(0,i).trim().toLowerCase(),r=u.substring(i+1).trim(),!(!t||e[t]&&qq[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},U1=Symbol("internals");function hd(n){return n&&String(n).trim().toLowerCase()}function $m(n){return n===!1||n==null?n:se.isArray(n)?n.map($m):String(n)}function $q(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const Gq=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function E0(n,e,t,r,i){if(se.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!se.isString(e)){if(se.isString(r))return e.indexOf(r)!==-1;if(se.isRegExp(r))return r.test(e)}}function Kq(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function Wq(n,e){const t=se.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,o,u){return this[r].call(this,e,i,o,u)},configurable:!0})})}let hr=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function o(h,d,f){const g=hd(d);if(!g)throw new Error("header name must be a non-empty string");const _=se.findKey(i,g);(!_||i[_]===void 0||f===!0||f===void 0&&i[_]!==!1)&&(i[_||d]=$m(h))}const u=(h,d)=>se.forEach(h,(f,g)=>o(f,g,d));if(se.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(se.isString(e)&&(e=e.trim())&&!Gq(e))u(Hq(e),t);else if(se.isHeaders(e))for(const[h,d]of e.entries())o(d,h,r);else e!=null&&o(t,e,r);return this}get(e,t){if(e=hd(e),e){const r=se.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return $q(i);if(se.isFunction(t))return t.call(this,i,r);if(se.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=hd(e),e){const r=se.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||E0(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function o(u){if(u=hd(u),u){const h=se.findKey(r,u);h&&(!t||E0(r,r[h],h,t))&&(delete r[h],i=!0)}}return se.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const o=t[r];(!e||E0(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,r={};return se.forEach(this,(i,o)=>{const u=se.findKey(r,o);if(u){t[u]=$m(i),delete t[o];return}const h=e?Kq(o):String(o).trim();h!==o&&delete t[o],t[h]=$m(i),r[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return se.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&se.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[U1]=this[U1]={accessors:{}}).accessors,i=this.prototype;function o(u){const h=hd(u);r[h]||(Wq(i,u),r[h]=!0)}return se.isArray(e)?e.forEach(o):o(e),this}};hr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.reduceDescriptors(hr.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});se.freezeMethods(hr);function b0(n,e){const t=this||Bf,r=e||t,i=hr.from(r.headers);let o=r.data;return se.forEach(n,function(h){o=h.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function PN(n){return!!(n&&n.__CANCEL__)}function Uc(n,e,t){Ve.call(this,n??"canceled",Ve.ERR_CANCELED,e,t),this.name="CanceledError"}se.inherits(Uc,Ve,{__CANCEL__:!0});function ON(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Ve("Request failed with status code "+t.status,[Ve.ERR_BAD_REQUEST,Ve.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Qq(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Yq(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,o=0,u;return e=e!==void 0?e:1e3,function(d){const f=Date.now(),g=r[o];u||(u=f),t[i]=d,r[i]=f;let _=o,v=0;for(;_!==i;)v+=t[_++],_=_%n;if(i=(i+1)%n,i===o&&(o=(o+1)%n),f-u<e)return;const T=g&&f-g;return T?Math.round(v*1e3/T):void 0}}function Xq(n,e){let t=0,r=1e3/e,i,o;const u=(f,g=Date.now())=>{t=g,i=null,o&&(clearTimeout(o),o=null),n.apply(null,f)};return[(...f)=>{const g=Date.now(),_=g-t;_>=r?u(f,g):(i=f,o||(o=setTimeout(()=>{o=null,u(i)},r-_)))},()=>i&&u(i)]}const Pg=(n,e,t=3)=>{let r=0;const i=Yq(50,250);return Xq(o=>{const u=o.loaded,h=o.lengthComputable?o.total:void 0,d=u-r,f=i(d),g=u<=h;r=u;const _={loaded:u,total:h,progress:h?u/h:void 0,bytes:d,rate:f||void 0,estimated:f&&h&&g?(h-u)/f:void 0,event:o,lengthComputable:h!=null,[e?"download":"upload"]:!0};n(_)},t)},B1=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},F1=n=>(...e)=>se.asap(()=>n(...e)),Jq=Hn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Hn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Hn.origin),Hn.navigator&&/(msie|trident)/i.test(Hn.navigator.userAgent)):()=>!0,Zq=Hn.hasStandardBrowserEnv?{write(n,e,t,r,i,o){const u=[n+"="+encodeURIComponent(e)];se.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),se.isString(r)&&u.push("path="+r),se.isString(i)&&u.push("domain="+i),o===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function eH(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function tH(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function DN(n,e,t){let r=!eH(e);return n&&r||t==!1?tH(n,e):e}const j1=n=>n instanceof hr?{...n}:n;function wl(n,e){e=e||{};const t={};function r(f,g,_,v){return se.isPlainObject(f)&&se.isPlainObject(g)?se.merge.call({caseless:v},f,g):se.isPlainObject(g)?se.merge({},g):se.isArray(g)?g.slice():g}function i(f,g,_,v){if(se.isUndefined(g)){if(!se.isUndefined(f))return r(void 0,f,_,v)}else return r(f,g,_,v)}function o(f,g){if(!se.isUndefined(g))return r(void 0,g)}function u(f,g){if(se.isUndefined(g)){if(!se.isUndefined(f))return r(void 0,f)}else return r(void 0,g)}function h(f,g,_){if(_ in e)return r(f,g);if(_ in n)return r(void 0,f)}const d={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(f,g,_)=>i(j1(f),j1(g),_,!0)};return se.forEach(Object.keys(Object.assign({},n,e)),function(g){const _=d[g]||i,v=_(n[g],e[g],g);se.isUndefined(v)&&_!==h||(t[g]=v)}),t}const NN=n=>{const e=wl({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:u,auth:h}=e;e.headers=u=hr.from(u),e.url=RN(DN(e.baseURL,e.url),n.params,n.paramsSerializer),h&&u.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let d;if(se.isFormData(t)){if(Hn.hasStandardBrowserEnv||Hn.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((d=u.getContentType())!==!1){const[f,...g]=d?d.split(";").map(_=>_.trim()).filter(Boolean):[];u.setContentType([f||"multipart/form-data",...g].join("; "))}}if(Hn.hasStandardBrowserEnv&&(r&&se.isFunction(r)&&(r=r(e)),r||r!==!1&&Jq(e.url))){const f=i&&o&&Zq.read(o);f&&u.set(i,f)}return e},nH=typeof XMLHttpRequest<"u",rH=nH&&function(n){return new Promise(function(t,r){const i=NN(n);let o=i.data;const u=hr.from(i.headers).normalize();let{responseType:h,onUploadProgress:d,onDownloadProgress:f}=i,g,_,v,T,w;function I(){T&&T(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function L(){if(!x)return;const U=hr.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),j={data:!h||h==="text"||h==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:U,config:n,request:x};ON(function(V){t(V),I()},function(V){r(V),I()},j),x=null}"onloadend"in x?x.onloadend=L:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(L)},x.onabort=function(){x&&(r(new Ve("Request aborted",Ve.ECONNABORTED,n,x)),x=null)},x.onerror=function(){r(new Ve("Network Error",Ve.ERR_NETWORK,n,x)),x=null},x.ontimeout=function(){let $=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const j=i.transitional||CN;i.timeoutErrorMessage&&($=i.timeoutErrorMessage),r(new Ve($,j.clarifyTimeoutError?Ve.ETIMEDOUT:Ve.ECONNABORTED,n,x)),x=null},o===void 0&&u.setContentType(null),"setRequestHeader"in x&&se.forEach(u.toJSON(),function($,j){x.setRequestHeader(j,$)}),se.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),h&&h!=="json"&&(x.responseType=i.responseType),f&&([v,w]=Pg(f,!0),x.addEventListener("progress",v)),d&&x.upload&&([_,T]=Pg(d),x.upload.addEventListener("progress",_),x.upload.addEventListener("loadend",T)),(i.cancelToken||i.signal)&&(g=U=>{x&&(r(!U||U.type?new Uc(null,n,x):U),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const M=Qq(i.url);if(M&&Hn.protocols.indexOf(M)===-1){r(new Ve("Unsupported protocol "+M+":",Ve.ERR_BAD_REQUEST,n));return}x.send(o||null)})},iH=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const o=function(f){if(!i){i=!0,h();const g=f instanceof Error?f:this.reason;r.abort(g instanceof Ve?g:new Uc(g instanceof Error?g.message:g))}};let u=e&&setTimeout(()=>{u=null,o(new Ve(`timeout ${e} of ms exceeded`,Ve.ETIMEDOUT))},e);const h=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),n=null)};n.forEach(f=>f.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>se.asap(h),d}},sH=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},aH=async function*(n,e){for await(const t of oH(n))yield*sH(t,e)},oH=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},z1=(n,e,t,r)=>{const i=aH(n,e);let o=0,u,h=d=>{u||(u=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:f,value:g}=await i.next();if(f){h(),d.close();return}let _=g.byteLength;if(t){let v=o+=_;t(v)}d.enqueue(new Uint8Array(g))}catch(f){throw h(f),f}},cancel(d){return h(d),i.return()}},{highWaterMark:2})},xy=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",kN=xy&&typeof ReadableStream=="function",lH=xy&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),VN=(n,...e)=>{try{return!!n(...e)}catch{return!1}},uH=kN&&VN(()=>{let n=!1;const e=new Request(Hn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),q1=64*1024,wE=kN&&VN(()=>se.isReadableStream(new Response("").body)),Og={stream:wE&&(n=>n.body)};xy&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Og[e]&&(Og[e]=se.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Ve(`Response type '${e}' is not supported`,Ve.ERR_NOT_SUPPORT,r)})})})(new Response);const cH=async n=>{if(n==null)return 0;if(se.isBlob(n))return n.size;if(se.isSpecCompliantForm(n))return(await new Request(Hn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(se.isArrayBufferView(n)||se.isArrayBuffer(n))return n.byteLength;if(se.isURLSearchParams(n)&&(n=n+""),se.isString(n))return(await lH(n)).byteLength},hH=async(n,e)=>{const t=se.toFiniteNumber(n.getContentLength());return t??cH(e)},dH=xy&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:o,timeout:u,onDownloadProgress:h,onUploadProgress:d,responseType:f,headers:g,withCredentials:_="same-origin",fetchOptions:v}=NN(n);f=f?(f+"").toLowerCase():"text";let T=iH([i,o&&o.toAbortSignal()],u),w;const I=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let x;try{if(d&&uH&&t!=="get"&&t!=="head"&&(x=await hH(g,r))!==0){let j=new Request(e,{method:"POST",body:r,duplex:"half"}),H;if(se.isFormData(r)&&(H=j.headers.get("content-type"))&&g.setContentType(H),j.body){const[V,C]=B1(x,Pg(F1(d)));r=z1(j.body,q1,V,C)}}se.isString(_)||(_=_?"include":"omit");const L="credentials"in Request.prototype;w=new Request(e,{...v,signal:T,method:t.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:L?_:void 0});let M=await fetch(w);const U=wE&&(f==="stream"||f==="response");if(wE&&(h||U&&I)){const j={};["status","statusText","headers"].forEach(R=>{j[R]=M[R]});const H=se.toFiniteNumber(M.headers.get("content-length")),[V,C]=h&&B1(H,Pg(F1(h),!0))||[];M=new Response(z1(M.body,q1,V,()=>{C&&C(),I&&I()}),j)}f=f||"text";let $=await Og[se.findKey(Og,f)||"text"](M,n);return!U&&I&&I(),await new Promise((j,H)=>{ON(j,H,{data:$,headers:hr.from(M.headers),status:M.status,statusText:M.statusText,config:n,request:w})})}catch(L){throw I&&I(),L&&L.name==="TypeError"&&/fetch/i.test(L.message)?Object.assign(new Ve("Network Error",Ve.ERR_NETWORK,n,w),{cause:L.cause||L}):Ve.from(L,L&&L.code,n,w)}}),TE={http:Rq,xhr:rH,fetch:dH};se.forEach(TE,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const H1=n=>`- ${n}`,fH=n=>se.isFunction(n)||n===null||n===!1,MN={getAdapter:n=>{n=se.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let o=0;o<e;o++){t=n[o];let u;if(r=t,!fH(t)&&(r=TE[(u=String(t)).toLowerCase()],r===void 0))throw new Ve(`Unknown adapter '${u}'`);if(r)break;i[u||"#"+o]=r}if(!r){const o=Object.entries(i).map(([h,d])=>`adapter ${h} `+(d===!1?"is not supported by the environment":"is not available in the build"));let u=e?o.length>1?`since :
`+o.map(H1).join(`
`):" "+H1(o[0]):"as no adapter specified";throw new Ve("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:TE};function w0(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Uc(null,n)}function $1(n){return w0(n),n.headers=hr.from(n.headers),n.data=b0.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),MN.getAdapter(n.adapter||Bf.adapter)(n).then(function(r){return w0(n),r.data=b0.call(n,n.transformResponse,r),r.headers=hr.from(r.headers),r},function(r){return PN(r)||(w0(n),r&&r.response&&(r.response.data=b0.call(n,n.transformResponse,r.response),r.response.headers=hr.from(r.response.headers))),Promise.reject(r)})}const LN="1.8.1",Py={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Py[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const G1={};Py.transitional=function(e,t,r){function i(o,u){return"[Axios v"+LN+"] Transitional option '"+o+"'"+u+(r?". "+r:"")}return(o,u,h)=>{if(e===!1)throw new Ve(i(u," has been removed"+(t?" in "+t:"")),Ve.ERR_DEPRECATED);return t&&!G1[u]&&(G1[u]=!0,console.warn(i(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,u,h):!0}};Py.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function pH(n,e,t){if(typeof n!="object")throw new Ve("options must be an object",Ve.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const o=r[i],u=e[o];if(u){const h=n[o],d=h===void 0||u(h,o,n);if(d!==!0)throw new Ve("option "+o+" must be "+d,Ve.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ve("Unknown option "+o,Ve.ERR_BAD_OPTION)}}const Gm={assertOptions:pH,validators:Py},Ci=Gm.validators;let cl=class{constructor(e){this.defaults=e,this.interceptors={request:new L1,response:new L1}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=wl(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:o}=t;r!==void 0&&Gm.assertOptions(r,{silentJSONParsing:Ci.transitional(Ci.boolean),forcedJSONParsing:Ci.transitional(Ci.boolean),clarifyTimeoutError:Ci.transitional(Ci.boolean)},!1),i!=null&&(se.isFunction(i)?t.paramsSerializer={serialize:i}:Gm.assertOptions(i,{encode:Ci.function,serialize:Ci.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Gm.assertOptions(t,{baseUrl:Ci.spelling("baseURL"),withXsrfToken:Ci.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=o&&se.merge(o.common,o[t.method]);o&&se.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),t.headers=hr.concat(u,o);const h=[];let d=!0;this.interceptors.request.forEach(function(I){typeof I.runWhen=="function"&&I.runWhen(t)===!1||(d=d&&I.synchronous,h.unshift(I.fulfilled,I.rejected))});const f=[];this.interceptors.response.forEach(function(I){f.push(I.fulfilled,I.rejected)});let g,_=0,v;if(!d){const w=[$1.bind(this),void 0];for(w.unshift.apply(w,h),w.push.apply(w,f),v=w.length,g=Promise.resolve(t);_<v;)g=g.then(w[_++],w[_++]);return g}v=h.length;let T=t;for(_=0;_<v;){const w=h[_++],I=h[_++];try{T=w(T)}catch(x){I.call(this,x);break}}try{g=$1.call(this,T)}catch(w){return Promise.reject(w)}for(_=0,v=f.length;_<v;)g=g.then(f[_++],f[_++]);return g}getUri(e){e=wl(this.defaults,e);const t=DN(e.baseURL,e.url,e.allowAbsoluteUrls);return RN(t,e.params,e.paramsSerializer)}};se.forEach(["delete","get","head","options"],function(e){cl.prototype[e]=function(t,r){return this.request(wl(r||{},{method:e,url:t,data:(r||{}).data}))}});se.forEach(["post","put","patch"],function(e){function t(r){return function(o,u,h){return this.request(wl(h||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}cl.prototype[e]=t(),cl.prototype[e+"Form"]=t(!0)});let mH=class UN{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const u=new Promise(h=>{r.subscribe(h),o=h}).then(i);return u.cancel=function(){r.unsubscribe(o)},u},e(function(o,u,h){r.reason||(r.reason=new Uc(o,u,h),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new UN(function(i){e=i}),cancel:e}}};function gH(n){return function(t){return n.apply(null,t)}}function yH(n){return se.isObject(n)&&n.isAxiosError===!0}const SE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(SE).forEach(([n,e])=>{SE[e]=n});function BN(n){const e=new cl(n),t=gN(cl.prototype.request,e);return se.extend(t,cl.prototype,e,{allOwnKeys:!0}),se.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return BN(wl(n,i))},t}const Rt=BN(Bf);Rt.Axios=cl;Rt.CanceledError=Uc;Rt.CancelToken=mH;Rt.isCancel=PN;Rt.VERSION=LN;Rt.toFormData=Cy;Rt.AxiosError=Ve;Rt.Cancel=Rt.CanceledError;Rt.all=function(e){return Promise.all(e)};Rt.spread=gH;Rt.isAxiosError=yH;Rt.mergeConfig=wl;Rt.AxiosHeaders=hr;Rt.formToJSON=n=>xN(se.isHTMLForm(n)?new FormData(n):n);Rt.getAdapter=MN.getAdapter;Rt.HttpStatusCode=SE;Rt.default=Rt;const{Axios:RK,AxiosError:CK,CanceledError:xK,isCancel:PK,CancelToken:OK,VERSION:DK,all:NK,Cancel:kK,isAxiosError:VK,spread:MK,toFormData:LK,AxiosHeaders:UK,HttpStatusCode:BK,formToJSON:FK,getAdapter:jK,mergeConfig:zK}=Rt;var _H=uN();const Dt=ME(_H);function FN(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=FN(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Ld(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=FN(n))&&(r&&(r+=" "),r+=e);return r}function jN(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}const vH={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function zN(n,e,t=void 0){const r={};for(const i in n){const o=n[i];let u="",h=!0;for(let d=0;d<o.length;d+=1){const f=o[d];f&&(u+=(h===!0?"":" ")+e(f),h=!1,t&&t[f]&&(u+=" "+t[f]))}r[i]=u}return r}const EH=W.createContext(),bH=()=>W.useContext(EH)??!1;function K1(n){try{return n.matches(":focus-visible")}catch{}return!1}var T0={exports:{}},ht={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W1;function wH(){if(W1)return ht;W1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),T=Symbol.for("react.client.reference");function w(I){if(typeof I=="object"&&I!==null){var x=I.$$typeof;switch(x){case n:switch(I=I.type,I){case t:case i:case r:case d:case f:return I;default:switch(I=I&&I.$$typeof,I){case u:case h:case _:case g:return I;case o:return I;default:return x}}case e:return x}}}return ht.ContextConsumer=o,ht.ContextProvider=u,ht.Element=n,ht.ForwardRef=h,ht.Fragment=t,ht.Lazy=_,ht.Memo=g,ht.Portal=e,ht.Profiler=i,ht.StrictMode=r,ht.Suspense=d,ht.SuspenseList=f,ht.isContextConsumer=function(I){return w(I)===o},ht.isContextProvider=function(I){return w(I)===u},ht.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===n},ht.isForwardRef=function(I){return w(I)===h},ht.isFragment=function(I){return w(I)===t},ht.isLazy=function(I){return w(I)===_},ht.isMemo=function(I){return w(I)===g},ht.isPortal=function(I){return w(I)===e},ht.isProfiler=function(I){return w(I)===i},ht.isStrictMode=function(I){return w(I)===r},ht.isSuspense=function(I){return w(I)===d},ht.isSuspenseList=function(I){return w(I)===f},ht.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===t||I===i||I===r||I===d||I===f||I===v||typeof I=="object"&&I!==null&&(I.$$typeof===_||I.$$typeof===g||I.$$typeof===u||I.$$typeof===o||I.$$typeof===h||I.$$typeof===T||I.getModuleId!==void 0)},ht.typeOf=w,ht}var Q1;function TH(){return Q1||(Q1=1,T0.exports=wH()),T0.exports}var qN=TH();function Rs(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function HN(n){if(W.isValidElement(n)||qN.isValidElementType(n)||!Rs(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=HN(n[t])}),e}function Cr(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return Rs(n)&&Rs(e)&&Object.keys(e).forEach(i=>{W.isValidElement(e[i])||qN.isValidElementType(e[i])?r[i]=e[i]:Rs(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&Rs(n[i])?r[i]=Cr(n[i],e[i],t):t.clone?r[i]=Rs(e[i])?HN(e[i]):e[i]:r[i]=e[i]}),r}function Tl(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function ro(n){if(typeof n!="string")throw new Error(Tl(7));return n.charAt(0).toUpperCase()+n.slice(1)}function SH(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let Y1=0;function AH(n){const[e,t]=W.useState(n),r=n||e;return W.useEffect(()=>{e==null&&(Y1+=1,t(`mui-${Y1}`))},[e]),r}const IH={...x0},X1=IH.useId;function $N(n){if(X1!==void 0){const e=X1();return n??e}return AH(n)}function RH({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=W.useRef(n!==void 0),[o,u]=W.useState(e),h=i?n:o,d=W.useCallback(f=>{i||u(f)},[]);return[h,d]}function CH(...n){return W.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{SH(t,e)})},n)}function AE(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=r;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const o=n[i],u=e[i];if(!u)t[i]=o||{};else if(!o)t[i]=u;else{t[i]={...u};for(const h in o)if(Object.prototype.hasOwnProperty.call(o,h)){const d=h;t[i][d]=AE(o[d],u[d])}}}else t[i]===void 0&&(t[i]=n[i])}return t}const J1=n=>n,xH=()=>{let n=J1;return{configure(e){n=e},generate(e){return n(e)},reset(){n=J1}}},PH=xH(),OH={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Cw(n,e,t="Mui"){const r=OH[e];return r?`${t}-${r}`:`${PH.generate(n)}-${e}`}function GN(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=Cw(n,i,t)}),r}function Ud(n,e){return e?Cr(n,e,{clone:!1}):n}function DH(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var u,h;const o=/min-width:\s*([0-9.]+)/;return+(((u=r.match(o))==null?void 0:u[1])||0)-+(((h=i.match(o))==null?void 0:h[1])||0)});return t.length?t.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function NH(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function kH(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,o=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(o)}function VH(n){const e=(o,u)=>o.replace("@media",u?`@container ${u}`:"@container");function t(o,u){o.up=(...h)=>e(n.breakpoints.up(...h),u),o.down=(...h)=>e(n.breakpoints.down(...h),u),o.between=(...h)=>e(n.breakpoints.between(...h),u),o.only=(...h)=>e(n.breakpoints.only(...h),u),o.not=(...h)=>{const d=e(n.breakpoints.not(...h),u);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},i=o=>(t(r,o),r);return t(i),{...n,containerQueries:i}}const Oy={xs:0,sm:600,md:900,lg:1200,xl:1536},Z1={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${Oy[n]}px)`},MH={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:Oy[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Bs(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const o=r.breakpoints||Z1;return e.reduce((u,h,d)=>(u[o.up(o.keys[d])]=t(e[d]),u),{})}if(typeof e=="object"){const o=r.breakpoints||Z1;return Object.keys(e).reduce((u,h)=>{if(NH(o.keys,h)){const d=kH(r.containerQueries?r:MH,h);d&&(u[d]=t(e[h],h))}else if(Object.keys(o.values||Oy).includes(h)){const d=o.up(h);u[d]=t(e[h],h)}else{const d=h;u[d]=e[d]}return u},{})}return t(e)}function LH(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const o=n.up(i);return r[o]={},r},{}))||{}}function UH(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function Dy(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function Dg(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=Dy(n,t)||r,e&&(i=e(i,r,n)),i}function Xt(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,o=u=>{if(u[e]==null)return null;const h=u[e],d=u.theme,f=Dy(d,r)||{};return Bs(u,h,_=>{let v=Dg(f,i,_);return _===v&&typeof _=="string"&&(v=Dg(f,i,`${e}${_==="default"?"":ro(_)}`,_)),t===!1?v:{[t]:v}})};return o.propTypes={},o.filterProps=[e],o}function BH(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const FH={m:"margin",p:"padding"},jH={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},eC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},zH=BH(n=>{if(n.length>2)if(eC[n])n=eC[n];else return[n];const[e,t]=n.split(""),r=FH[e],i=jH[t]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),xw=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Pw=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...xw,...Pw];function Ff(n,e,t,r){const i=Dy(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const u=Math.abs(o),h=i[u];return o>=0?h:typeof h=="number"?-h:`-${h}`}:typeof i=="function"?i:()=>{}}function Ow(n){return Ff(n,"spacing",8)}function jf(n,e){return typeof e=="string"||e==null?e:n(e)}function qH(n,e){return t=>n.reduce((r,i)=>(r[i]=jf(e,t),r),{})}function HH(n,e,t,r){if(!e.includes(t))return null;const i=zH(t),o=qH(i,r),u=n[t];return Bs(n,u,o)}function KN(n,e){const t=Ow(n.theme);return Object.keys(n).map(r=>HH(n,e,r,t)).reduce(Ud,{})}function jt(n){return KN(n,xw)}jt.propTypes={};jt.filterProps=xw;function zt(n){return KN(n,Pw)}zt.propTypes={};zt.filterProps=Pw;function Ny(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),t=r=>Object.keys(r).reduce((i,o)=>e[o]?Ud(i,e[o](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Wr(n){return typeof n!="number"?n:`${n}px solid`}function Jr(n,e){return Xt({prop:n,themeKey:"borders",transform:e})}const $H=Jr("border",Wr),GH=Jr("borderTop",Wr),KH=Jr("borderRight",Wr),WH=Jr("borderBottom",Wr),QH=Jr("borderLeft",Wr),YH=Jr("borderColor"),XH=Jr("borderTopColor"),JH=Jr("borderRightColor"),ZH=Jr("borderBottomColor"),e7=Jr("borderLeftColor"),t7=Jr("outline",Wr),n7=Jr("outlineColor"),ky=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Ff(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:jf(e,r)});return Bs(n,n.borderRadius,t)}return null};ky.propTypes={};ky.filterProps=["borderRadius"];Ny($H,GH,KH,WH,QH,YH,XH,JH,ZH,e7,ky,t7,n7);const Vy=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Ff(n.theme,"spacing",8),t=r=>({gap:jf(e,r)});return Bs(n,n.gap,t)}return null};Vy.propTypes={};Vy.filterProps=["gap"];const My=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Ff(n.theme,"spacing",8),t=r=>({columnGap:jf(e,r)});return Bs(n,n.columnGap,t)}return null};My.propTypes={};My.filterProps=["columnGap"];const Ly=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Ff(n.theme,"spacing",8),t=r=>({rowGap:jf(e,r)});return Bs(n,n.rowGap,t)}return null};Ly.propTypes={};Ly.filterProps=["rowGap"];const r7=Xt({prop:"gridColumn"}),i7=Xt({prop:"gridRow"}),s7=Xt({prop:"gridAutoFlow"}),a7=Xt({prop:"gridAutoColumns"}),o7=Xt({prop:"gridAutoRows"}),l7=Xt({prop:"gridTemplateColumns"}),u7=Xt({prop:"gridTemplateRows"}),c7=Xt({prop:"gridTemplateAreas"}),h7=Xt({prop:"gridArea"});Ny(Vy,My,Ly,r7,i7,s7,a7,o7,l7,u7,c7,h7);function Hu(n,e){return e==="grey"?e:n}const d7=Xt({prop:"color",themeKey:"palette",transform:Hu}),f7=Xt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Hu}),p7=Xt({prop:"backgroundColor",themeKey:"palette",transform:Hu});Ny(d7,f7,p7);function Ar(n){return n<=1&&n!==0?`${n*100}%`:n}const m7=Xt({prop:"width",transform:Ar}),Dw=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,o,u,h,d;const r=((u=(o=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:u[t])||Oy[t];return r?((d=(h=n.theme)==null?void 0:h.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Ar(t)}};return Bs(n,n.maxWidth,e)}return null};Dw.filterProps=["maxWidth"];const g7=Xt({prop:"minWidth",transform:Ar}),y7=Xt({prop:"height",transform:Ar}),_7=Xt({prop:"maxHeight",transform:Ar}),v7=Xt({prop:"minHeight",transform:Ar});Xt({prop:"size",cssProperty:"width",transform:Ar});Xt({prop:"size",cssProperty:"height",transform:Ar});const E7=Xt({prop:"boxSizing"});Ny(m7,Dw,g7,y7,_7,v7,E7);const Uy={border:{themeKey:"borders",transform:Wr},borderTop:{themeKey:"borders",transform:Wr},borderRight:{themeKey:"borders",transform:Wr},borderBottom:{themeKey:"borders",transform:Wr},borderLeft:{themeKey:"borders",transform:Wr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Wr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:ky},color:{themeKey:"palette",transform:Hu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Hu},backgroundColor:{themeKey:"palette",transform:Hu},p:{style:zt},pt:{style:zt},pr:{style:zt},pb:{style:zt},pl:{style:zt},px:{style:zt},py:{style:zt},padding:{style:zt},paddingTop:{style:zt},paddingRight:{style:zt},paddingBottom:{style:zt},paddingLeft:{style:zt},paddingX:{style:zt},paddingY:{style:zt},paddingInline:{style:zt},paddingInlineStart:{style:zt},paddingInlineEnd:{style:zt},paddingBlock:{style:zt},paddingBlockStart:{style:zt},paddingBlockEnd:{style:zt},m:{style:jt},mt:{style:jt},mr:{style:jt},mb:{style:jt},ml:{style:jt},mx:{style:jt},my:{style:jt},margin:{style:jt},marginTop:{style:jt},marginRight:{style:jt},marginBottom:{style:jt},marginLeft:{style:jt},marginX:{style:jt},marginY:{style:jt},marginInline:{style:jt},marginInlineStart:{style:jt},marginInlineEnd:{style:jt},marginBlock:{style:jt},marginBlockStart:{style:jt},marginBlockEnd:{style:jt},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Vy},rowGap:{style:Ly},columnGap:{style:My},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ar},maxWidth:{style:Dw},minWidth:{transform:Ar},height:{transform:Ar},maxHeight:{transform:Ar},minHeight:{transform:Ar},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function b7(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function w7(n,e){return typeof n=="function"?n(e):n}function T7(){function n(t,r,i,o){const u={[t]:r,theme:i},h=o[t];if(!h)return{[t]:r};const{cssProperty:d=t,themeKey:f,transform:g,style:_}=h;if(r==null)return null;if(f==="typography"&&r==="inherit")return{[t]:r};const v=Dy(i,f)||{};return _?_(u):Bs(u,r,w=>{let I=Dg(v,g,w);return w===I&&typeof w=="string"&&(I=Dg(v,g,`${t}${w==="default"?"":ro(w)}`,w)),d===!1?I:{[d]:I}})}function e(t){const{sx:r,theme:i={}}=t||{};if(!r)return null;const o=i.unstable_sxConfig??Uy;function u(h){let d=h;if(typeof h=="function")d=h(i);else if(typeof h!="object")return h;if(!d)return null;const f=LH(i.breakpoints),g=Object.keys(f);let _=f;return Object.keys(d).forEach(v=>{const T=w7(d[v],i);if(T!=null)if(typeof T=="object")if(o[v])_=Ud(_,n(v,T,i,o));else{const w=Bs({theme:i},T,I=>({[v]:I}));b7(w,T)?_[v]=e({sx:T,theme:i}):_=Ud(_,w)}else _=Ud(_,n(v,T,i,o))}),DH(i,UH(g,_))}return Array.isArray(r)?r.map(u):u(r)}return e}const yc=T7();yc.filterProps=["sx"];function IE(){return IE=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},IE.apply(null,arguments)}function S7(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function A7(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var I7=function(){function n(t){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(A7(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=S7(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),zn="-ms-",Ng="-moz-",rt="-webkit-",WN="comm",Nw="rule",kw="decl",R7="@import",QN="@keyframes",C7="@layer",x7=Math.abs,By=String.fromCharCode,P7=Object.assign;function O7(n,e){return Nn(n,0)^45?(((e<<2^Nn(n,0))<<2^Nn(n,1))<<2^Nn(n,2))<<2^Nn(n,3):0}function YN(n){return n.trim()}function D7(n,e){return(n=e.exec(n))?n[0]:n}function it(n,e,t){return n.replace(e,t)}function RE(n,e){return n.indexOf(e)}function Nn(n,e){return n.charCodeAt(e)|0}function cf(n,e,t){return n.slice(e,t)}function Di(n){return n.length}function Vw(n){return n.length}function wm(n,e){return e.push(n),n}function N7(n,e){return n.map(e).join("")}var Fy=1,_c=1,XN=0,dr=0,an=0,Bc="";function jy(n,e,t,r,i,o,u){return{value:n,root:e,parent:t,type:r,props:i,children:o,line:Fy,column:_c,length:u,return:""}}function dd(n,e){return P7(jy("",null,null,"",null,null,0),n,{length:-n.length},e)}function k7(){return an}function V7(){return an=dr>0?Nn(Bc,--dr):0,_c--,an===10&&(_c=1,Fy--),an}function xr(){return an=dr<XN?Nn(Bc,dr++):0,_c++,an===10&&(_c=1,Fy++),an}function Hi(){return Nn(Bc,dr)}function Km(){return dr}function zf(n,e){return cf(Bc,n,e)}function hf(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function JN(n){return Fy=_c=1,XN=Di(Bc=n),dr=0,[]}function ZN(n){return Bc="",n}function Wm(n){return YN(zf(dr-1,CE(n===91?n+2:n===40?n+1:n)))}function M7(n){for(;(an=Hi())&&an<33;)xr();return hf(n)>2||hf(an)>3?"":" "}function L7(n,e){for(;--e&&xr()&&!(an<48||an>102||an>57&&an<65||an>70&&an<97););return zf(n,Km()+(e<6&&Hi()==32&&xr()==32))}function CE(n){for(;xr();)switch(an){case n:return dr;case 34:case 39:n!==34&&n!==39&&CE(an);break;case 40:n===41&&CE(n);break;case 92:xr();break}return dr}function U7(n,e){for(;xr()&&n+an!==57;)if(n+an===84&&Hi()===47)break;return"/*"+zf(e,dr-1)+"*"+By(n===47?n:xr())}function B7(n){for(;!hf(Hi());)xr();return zf(n,dr)}function F7(n){return ZN(Qm("",null,null,null,[""],n=JN(n),0,[0],n))}function Qm(n,e,t,r,i,o,u,h,d){for(var f=0,g=0,_=u,v=0,T=0,w=0,I=1,x=1,L=1,M=0,U="",$=i,j=o,H=r,V=U;x;)switch(w=M,M=xr()){case 40:if(w!=108&&Nn(V,_-1)==58){RE(V+=it(Wm(M),"&","&\f"),"&\f")!=-1&&(L=-1);break}case 34:case 39:case 91:V+=Wm(M);break;case 9:case 10:case 13:case 32:V+=M7(w);break;case 92:V+=L7(Km()-1,7);continue;case 47:switch(Hi()){case 42:case 47:wm(j7(U7(xr(),Km()),e,t),d);break;default:V+="/"}break;case 123*I:h[f++]=Di(V)*L;case 125*I:case 59:case 0:switch(M){case 0:case 125:x=0;case 59+g:L==-1&&(V=it(V,/\f/g,"")),T>0&&Di(V)-_&&wm(T>32?nC(V+";",r,t,_-1):nC(it(V," ","")+";",r,t,_-2),d);break;case 59:V+=";";default:if(wm(H=tC(V,e,t,f,g,i,h,U,$=[],j=[],_),o),M===123)if(g===0)Qm(V,e,H,H,$,o,_,h,j);else switch(v===99&&Nn(V,3)===110?100:v){case 100:case 108:case 109:case 115:Qm(n,H,H,r&&wm(tC(n,H,H,0,0,i,h,U,i,$=[],_),j),i,j,_,h,r?$:j);break;default:Qm(V,H,H,H,[""],j,0,h,j)}}f=g=T=0,I=L=1,U=V="",_=u;break;case 58:_=1+Di(V),T=w;default:if(I<1){if(M==123)--I;else if(M==125&&I++==0&&V7()==125)continue}switch(V+=By(M),M*I){case 38:L=g>0?1:(V+="\f",-1);break;case 44:h[f++]=(Di(V)-1)*L,L=1;break;case 64:Hi()===45&&(V+=Wm(xr())),v=Hi(),g=_=Di(U=V+=B7(Km())),M++;break;case 45:w===45&&Di(V)==2&&(I=0)}}return o}function tC(n,e,t,r,i,o,u,h,d,f,g){for(var _=i-1,v=i===0?o:[""],T=Vw(v),w=0,I=0,x=0;w<r;++w)for(var L=0,M=cf(n,_+1,_=x7(I=u[w])),U=n;L<T;++L)(U=YN(I>0?v[L]+" "+M:it(M,/&\f/g,v[L])))&&(d[x++]=U);return jy(n,e,t,i===0?Nw:h,d,f,g)}function j7(n,e,t){return jy(n,e,t,WN,By(k7()),cf(n,2,-2),0)}function nC(n,e,t,r){return jy(n,e,t,kw,cf(n,0,r),cf(n,r+1,-1),r)}function $u(n,e){for(var t="",r=Vw(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function z7(n,e,t,r){switch(n.type){case C7:if(n.children.length)break;case R7:case kw:return n.return=n.return||n.value;case WN:return"";case QN:return n.return=n.value+"{"+$u(n.children,r)+"}";case Nw:n.value=n.props.join(",")}return Di(t=$u(n.children,r))?n.return=n.value+"{"+t+"}":""}function q7(n){var e=Vw(n);return function(t,r,i,o){for(var u="",h=0;h<e;h++)u+=n[h](t,r,i,o)||"";return u}}function H7(n){return function(e){e.root||(e=e.return)&&n(e)}}function ek(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var $7=function(e,t,r){for(var i=0,o=0;i=o,o=Hi(),i===38&&o===12&&(t[r]=1),!hf(o);)xr();return zf(e,dr)},G7=function(e,t){var r=-1,i=44;do switch(hf(i)){case 0:i===38&&Hi()===12&&(t[r]=1),e[r]+=$7(dr-1,t,r);break;case 2:e[r]+=Wm(i);break;case 4:if(i===44){e[++r]=Hi()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=By(i)}while(i=xr());return e},K7=function(e,t){return ZN(G7(JN(e),t))},rC=new WeakMap,W7=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!rC.get(r))&&!i){rC.set(e,!0);for(var o=[],u=K7(t,o),h=r.props,d=0,f=0;d<u.length;d++)for(var g=0;g<h.length;g++,f++)e.props[f]=o[d]?u[d].replace(/&\f/g,h[g]):h[g]+" "+u[d]}}},Q7=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function tk(n,e){switch(O7(n,e)){case 5103:return rt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return rt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return rt+n+Ng+n+zn+n+n;case 6828:case 4268:return rt+n+zn+n+n;case 6165:return rt+n+zn+"flex-"+n+n;case 5187:return rt+n+it(n,/(\w+).+(:[^]+)/,rt+"box-$1$2"+zn+"flex-$1$2")+n;case 5443:return rt+n+zn+"flex-item-"+it(n,/flex-|-self/,"")+n;case 4675:return rt+n+zn+"flex-line-pack"+it(n,/align-content|flex-|-self/,"")+n;case 5548:return rt+n+zn+it(n,"shrink","negative")+n;case 5292:return rt+n+zn+it(n,"basis","preferred-size")+n;case 6060:return rt+"box-"+it(n,"-grow","")+rt+n+zn+it(n,"grow","positive")+n;case 4554:return rt+it(n,/([^-])(transform)/g,"$1"+rt+"$2")+n;case 6187:return it(it(it(n,/(zoom-|grab)/,rt+"$1"),/(image-set)/,rt+"$1"),n,"")+n;case 5495:case 3959:return it(n,/(image-set\([^]*)/,rt+"$1$`$1");case 4968:return it(it(n,/(.+:)(flex-)?(.*)/,rt+"box-pack:$3"+zn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+rt+n+n;case 4095:case 3583:case 4068:case 2532:return it(n,/(.+)-inline(.+)/,rt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Di(n)-1-e>6)switch(Nn(n,e+1)){case 109:if(Nn(n,e+4)!==45)break;case 102:return it(n,/(.+:)(.+)-([^]+)/,"$1"+rt+"$2-$3$1"+Ng+(Nn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~RE(n,"stretch")?tk(it(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Nn(n,e+1)!==115)break;case 6444:switch(Nn(n,Di(n)-3-(~RE(n,"!important")&&10))){case 107:return it(n,":",":"+rt)+n;case 101:return it(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+rt+(Nn(n,14)===45?"inline-":"")+"box$3$1"+rt+"$2$3$1"+zn+"$2box$3")+n}break;case 5936:switch(Nn(n,e+11)){case 114:return rt+n+zn+it(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return rt+n+zn+it(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return rt+n+zn+it(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return rt+n+zn+n+n}return n}var Y7=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case kw:e.return=tk(e.value,e.length);break;case QN:return $u([dd(e,{value:it(e.value,"@","@"+rt)})],i);case Nw:if(e.length)return N7(e.props,function(o){switch(D7(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return $u([dd(e,{props:[it(o,/:(read-\w+)/,":"+Ng+"$1")]})],i);case"::placeholder":return $u([dd(e,{props:[it(o,/:(plac\w+)/,":"+rt+"input-$1")]}),dd(e,{props:[it(o,/:(plac\w+)/,":"+Ng+"$1")]}),dd(e,{props:[it(o,/:(plac\w+)/,zn+"input-$1")]})],i)}return""})}},X7=[Y7],J7=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(I){var x=I.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(I),I.setAttribute("data-s",""))})}var i=e.stylisPlugins||X7,o={},u,h=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(I){for(var x=I.getAttribute("data-emotion").split(" "),L=1;L<x.length;L++)o[x[L]]=!0;h.push(I)});var d,f=[W7,Q7];{var g,_=[z7,H7(function(I){g.insert(I)})],v=q7(f.concat(i,_)),T=function(x){return $u(F7(x),v)};d=function(x,L,M,U){g=M,T(x?x+"{"+L.styles+"}":L.styles),U&&(w.inserted[L.name]=!0)}}var w={key:t,sheet:new I7({key:t,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:d};return w.sheet.hydrate(h),w},Z7=!0;function e8(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var nk=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||Z7===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},t8=function(e,t,r){nk(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function n8(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var r8={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},i8=/[A-Z]|^ms/g,s8=/_EMO_([^_]+?)_([^]*?)_EMO_/g,rk=function(e){return e.charCodeAt(1)===45},iC=function(e){return e!=null&&typeof e!="boolean"},S0=ek(function(n){return rk(n)?n:n.replace(i8,"-$&").toLowerCase()}),sC=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(s8,function(r,i,o){return Ni={name:i,styles:o,next:Ni},i})}return r8[e]!==1&&!rk(e)&&typeof t=="number"&&t!==0?t+"px":t};function df(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Ni={name:i.name,styles:i.styles,next:Ni},i.name;var o=t;if(o.styles!==void 0){var u=o.next;if(u!==void 0)for(;u!==void 0;)Ni={name:u.name,styles:u.styles,next:Ni},u=u.next;var h=o.styles+";";return h}return a8(n,e,t)}case"function":{if(n!==void 0){var d=Ni,f=t(n);return Ni=d,df(n,e,f)}break}}var g=t;if(e==null)return g;var _=e[g];return _!==void 0?_:g}function a8(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=df(n,e,t[i])+";";else for(var o in t){var u=t[o];if(typeof u!="object"){var h=u;e!=null&&e[h]!==void 0?r+=o+"{"+e[h]+"}":iC(h)&&(r+=S0(o)+":"+sC(o,h)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(e==null||e[u[0]]===void 0))for(var d=0;d<u.length;d++)iC(u[d])&&(r+=S0(o)+":"+sC(o,u[d])+";");else{var f=df(n,e,u);switch(o){case"animation":case"animationName":{r+=S0(o)+":"+f+";";break}default:r+=o+"{"+f+"}"}}}return r}var aC=/label:\s*([^\s;{]+)\s*(;|$)/g,Ni;function ik(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";Ni=void 0;var o=n[0];if(o==null||o.raw===void 0)r=!1,i+=df(t,e,o);else{var u=o;i+=u[0]}for(var h=1;h<n.length;h++)if(i+=df(t,e,n[h]),r){var d=o;i+=d[h]}aC.lastIndex=0;for(var f="",g;(g=aC.exec(i))!==null;)f+="-"+g[1];var _=n8(i)+f;return{name:_,styles:i,next:Ni}}var o8=function(e){return e()},l8=x0.useInsertionEffect?x0.useInsertionEffect:!1,u8=l8||o8,sk=W.createContext(typeof HTMLElement<"u"?J7({key:"css"}):null);sk.Provider;var c8=function(e){return W.forwardRef(function(t,r){var i=W.useContext(sk);return e(t,i,r)})},h8=W.createContext({}),d8=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,f8=ek(function(n){return d8.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),p8=f8,m8=function(e){return e!=="theme"},oC=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?p8:m8},lC=function(e,t,r){var i;if(t){var o=t.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(u){return e.__emotion_forwardProp(u)&&o(u)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},g8=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return nk(t,r,i),u8(function(){return t8(t,r,i)}),null},y8=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,u;t!==void 0&&(o=t.label,u=t.target);var h=lC(e,t,r),d=h||oC(i),f=!d("as");return function(){var g=arguments,_=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&_.push("label:"+o+";"),g[0]==null||g[0].raw===void 0)_.push.apply(_,g);else{var v=g[0];_.push(v[0]);for(var T=g.length,w=1;w<T;w++)_.push(g[w],v[w])}var I=c8(function(x,L,M){var U=f&&x.as||i,$="",j=[],H=x;if(x.theme==null){H={};for(var V in x)H[V]=x[V];H.theme=W.useContext(h8)}typeof x.className=="string"?$=e8(L.registered,j,x.className):x.className!=null&&($=x.className+" ");var C=ik(_.concat(j),L.registered,H);$+=L.key+"-"+C.name,u!==void 0&&($+=" "+u);var R=f&&h===void 0?oC(U):d,b={};for(var P in x)f&&P==="as"||R(P)&&(b[P]=x[P]);return b.className=$,M&&(b.ref=M),W.createElement(W.Fragment,null,W.createElement(g8,{cache:L,serialized:C,isStringTag:typeof U=="string"}),W.createElement(U,b))});return I.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",I.defaultProps=e.defaultProps,I.__emotion_real=I,I.__emotion_base=i,I.__emotion_styles=_,I.__emotion_forwardProp=h,Object.defineProperty(I,"toString",{value:function(){return"."+u}}),I.withComponent=function(x,L){var M=n(x,IE({},t,L,{shouldForwardProp:lC(I,L,!0)}));return M.apply(void 0,_)},I}},_8=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],xE=y8.bind(null);_8.forEach(function(n){xE[n]=xE(n)});/**
 * @mui/styled-engine v6.4.3
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function v8(n,e){return xE(n,e)}function E8(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const uC=[];function cC(n){return uC[0]=n,ik(uC)}const b8=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function w8(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,o=b8(e),u=Object.keys(o);function h(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t})`}function d(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-r/100}${t})`}function f(v,T){const w=u.indexOf(T);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t}) and (max-width:${(w!==-1&&typeof e[u[w]]=="number"?e[u[w]]:T)-r/100}${t})`}function g(v){return u.indexOf(v)+1<u.length?f(v,u[u.indexOf(v)+1]):h(v)}function _(v){const T=u.indexOf(v);return T===0?h(u[1]):T===u.length-1?d(u[T]):f(v,u[u.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:u,values:o,up:h,down:d,between:f,only:g,not:_,unit:t,...i}}const T8={borderRadius:4};function ak(n=8,e=Ow({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(o=>{const u=e(o);return typeof u=="number"?`${u}px`:u}).join(" ");return t.mui=!0,t}function S8(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function ok(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:o={},...u}=n,h=w8(t),d=ak(i);let f=Cr({breakpoints:h,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...T8,...o}},u);return f=VH(f),f.applyStyles=S8,f=e.reduce((g,_)=>Cr(g,_),f),f.unstable_sxConfig={...Uy,...u==null?void 0:u.unstable_sxConfig},f.unstable_sx=function(_){return yc({sx:_,theme:this})},f}function lk(n){const{variants:e,...t}=n,r={variants:e,style:cC(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=cC(i.style))}),r}const A8=ok();function A0(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function I8(n){return n?(e,t)=>t[n]:null}function R8(n,e,t){n.theme=P8(n.theme)?t:n.theme[e]||n.theme}function Ym(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>Ym(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:i,...o}=t;r=o}return uk(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function uk(n,e,t=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const u=e[o];if(typeof u.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!u.props(r))continue}else for(const h in u.props)if(n[h]!==u.props[h]&&((i=n.ownerState)==null?void 0:i[h])!==u.props[h])continue e;typeof u.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(u.style(r))):t.push(u.style)}return t}function C8(n={}){const{themeId:e,defaultTheme:t=A8,rootShouldForwardProp:r=A0,slotShouldForwardProp:i=A0}=n;function o(h){R8(h,e,t)}return(h,d={})=>{E8(h,j=>j.filter(H=>H!==yc));const{name:f,slot:g,skipVariantsResolver:_,skipSx:v,overridesResolver:T=I8(D8(g)),...w}=d,I=_!==void 0?_:g&&g!=="Root"&&g!=="root"||!1,x=v||!1;let L=A0;g==="Root"||g==="root"?L=r:g?L=i:O8(h)&&(L=void 0);const M=v8(h,{shouldForwardProp:L,label:x8(),...w}),U=j=>{if(typeof j=="function"&&j.__emotion_real!==j)return function(V){return Ym(V,j)};if(Rs(j)){const H=lk(j);return H.variants?function(C){return Ym(C,H)}:H.style}return j},$=(...j)=>{const H=[],V=j.map(U),C=[];if(H.push(o),f&&T&&C.push(function(O){var ee,ie;const te=(ie=(ee=O.theme.components)==null?void 0:ee[f])==null?void 0:ie.styleOverrides;if(!te)return null;const B={};for(const ue in te)B[ue]=Ym(O,te[ue]);return T(O,B)}),f&&!I&&C.push(function(O){var B,ee;const D=O.theme,te=(ee=(B=D==null?void 0:D.components)==null?void 0:B[f])==null?void 0:ee.variants;return te?uk(O,te):null}),x||C.push(yc),Array.isArray(V[0])){const P=V.shift(),O=new Array(H.length).fill(""),D=new Array(C.length).fill("");let te;te=[...O,...P,...D],te.raw=[...O,...P.raw,...D],H.unshift(te)}const R=[...H,...V,...C],b=M(...R);return h.muiName&&(b.muiName=h.muiName),b};return M.withConfig&&($.withConfig=M.withConfig),$}}function x8(n,e){return void 0}function P8(n){for(const e in n)return!1;return!0}function O8(n){return typeof n=="string"&&n.charCodeAt(0)>96}function D8(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function Mw(n,e=0,t=1){return jN(n,e,t)}function N8(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function io(n){if(n.type)return n;if(n.charAt(0)==="#")return io(N8(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Tl(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Tl(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:t,values:r,colorSpace:i}}const k8=n=>{const e=io(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},Td=(n,e)=>{try{return k8(n)}catch{return n}};function zy(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function ck(n){n=io(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),u=(f,g=(f+t/30)%12)=>i-o*Math.max(Math.min(g-3,9-g,1),-1);let h="rgb";const d=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return n.type==="hsla"&&(h+="a",d.push(e[3])),zy({type:h,values:d})}function PE(n){n=io(n);let e=n.type==="hsl"||n.type==="hsla"?io(ck(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function V8(n,e){const t=PE(n),r=PE(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function M8(n,e){return n=io(n),e=Mw(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,zy(n)}function Tm(n,e,t){try{return M8(n,e)}catch{return n}}function Lw(n,e){if(n=io(n),e=Mw(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return zy(n)}function ft(n,e,t){try{return Lw(n,e)}catch{return n}}function Uw(n,e){if(n=io(n),e=Mw(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return zy(n)}function pt(n,e,t){try{return Uw(n,e)}catch{return n}}function L8(n,e=.15){return PE(n)>.5?Lw(n,e):Uw(n,e)}function Sm(n,e,t){try{return L8(n,e)}catch{return n}}const U8=W.createContext(void 0);function B8(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?AE(i.defaultProps,r):!i.styleOverrides&&!i.variants?AE(i,r):r}function F8({props:n,name:e}){const t=W.useContext(U8);return B8({props:n,name:e,theme:{components:t}})}const hC={theme:void 0};function j8(n){let e,t;return function(i){let o=e;return(o===void 0||i.theme!==t)&&(hC.theme=i.theme,o=lk(n(hC)),e=o,t=i.theme),o}}function z8(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const dC=(n,e,t,r=[])=>{let i=n;e.forEach((o,u)=>{u===e.length-1?Array.isArray(i)?i[Number(o)]=t:i&&typeof i=="object"&&(i[o]=t):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},q8=(n,e,t)=>{function r(i,o=[],u=[]){Object.entries(i).forEach(([h,d])=>{(!t||t&&!t([...o,h]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...o,h],Array.isArray(d)?[...u,h]:u):e([...o,h],d,u))})}r(n)},H8=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function I0(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},o={},u={};return q8(n,(h,d,f)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(h,d))){const g=`--${t?`${t}-`:""}${h.join("-")}`,_=H8(h,d);Object.assign(i,{[g]:_}),dC(o,h,`var(${g})`,f),dC(u,h,`var(${g}, ${_})`,f)}},h=>h[0]==="vars"),{css:i,vars:o,varsWithDefaults:u}}function $8(n,e={}){const{getSelector:t=x,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:u,defaultColorScheme:h="light",...d}=n,{vars:f,css:g,varsWithDefaults:_}=I0(d,e);let v=_;const T={},{[h]:w,...I}=o;if(Object.entries(I||{}).forEach(([U,$])=>{const{vars:j,css:H,varsWithDefaults:V}=I0($,e);v=Cr(v,V),T[U]={css:H,vars:j}}),w){const{css:U,vars:$,varsWithDefaults:j}=I0(w,e);v=Cr(v,j),T[h]={css:U,vars:$}}function x(U,$){var H,V;let j=i;if(i==="class"&&(j=".%s"),i==="data"&&(j="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(j=`[${i}="%s"]`),U){if(j==="media")return n.defaultColorScheme===U?":root":{[`@media (prefers-color-scheme: ${((V=(H=o[U])==null?void 0:H.palette)==null?void 0:V.mode)||U})`]:{":root":$}};if(j)return n.defaultColorScheme===U?`:root, ${j.replace("%s",String(U))}`:j.replace("%s",String(U))}return":root"}return{vars:v,generateThemeVars:()=>{let U={...f};return Object.entries(T).forEach(([,{vars:$}])=>{U=Cr(U,$)}),U},generateStyleSheets:()=>{var C,R;const U=[],$=n.defaultColorScheme||"light";function j(b,P){Object.keys(P).length&&U.push(typeof b=="string"?{[b]:{...P}}:b)}j(t(void 0,{...g}),g);const{[$]:H,...V}=T;if(H){const{css:b}=H,P=(R=(C=o[$])==null?void 0:C.palette)==null?void 0:R.mode,O=!r&&P?{colorScheme:P,...b}:{...b};j(t($,{...O}),O)}return Object.entries(V).forEach(([b,{css:P}])=>{var te,B;const O=(B=(te=o[b])==null?void 0:te.palette)==null?void 0:B.mode,D=!r&&O?{colorScheme:O,...P}:{...P};j(t(b,{...D}),D)}),U}}}function G8(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const ff={black:"#000",white:"#fff"},K8={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Au={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Iu={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},fd={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Ru={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Cu={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},xu={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function hk(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ff.white,default:ff.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const W8=hk();function dk(){return{text:{primary:ff.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ff.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const fC=dk();function pC(n,e,t,r){const i=r.light||r,o=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=Uw(n.main,i):e==="dark"&&(n.dark=Lw(n.main,o)))}function Q8(n="light"){return n==="dark"?{main:Ru[200],light:Ru[50],dark:Ru[400]}:{main:Ru[700],light:Ru[400],dark:Ru[800]}}function Y8(n="light"){return n==="dark"?{main:Au[200],light:Au[50],dark:Au[400]}:{main:Au[500],light:Au[300],dark:Au[700]}}function X8(n="light"){return n==="dark"?{main:Iu[500],light:Iu[300],dark:Iu[700]}:{main:Iu[700],light:Iu[400],dark:Iu[800]}}function J8(n="light"){return n==="dark"?{main:Cu[400],light:Cu[300],dark:Cu[700]}:{main:Cu[700],light:Cu[500],dark:Cu[900]}}function Z8(n="light"){return n==="dark"?{main:xu[400],light:xu[300],dark:xu[700]}:{main:xu[800],light:xu[500],dark:xu[900]}}function e$(n="light"){return n==="dark"?{main:fd[400],light:fd[300],dark:fd[700]}:{main:"#ed6c02",light:fd[500],dark:fd[900]}}function Bw(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,o=n.primary||Q8(e),u=n.secondary||Y8(e),h=n.error||X8(e),d=n.info||J8(e),f=n.success||Z8(e),g=n.warning||e$(e);function _(I){return V8(I,fC.text.primary)>=t?fC.text.primary:W8.text.primary}const v=({color:I,name:x,mainShade:L=500,lightShade:M=300,darkShade:U=700})=>{if(I={...I},!I.main&&I[L]&&(I.main=I[L]),!I.hasOwnProperty("main"))throw new Error(Tl(11,x?` (${x})`:"",L));if(typeof I.main!="string")throw new Error(Tl(12,x?` (${x})`:"",JSON.stringify(I.main)));return pC(I,"light",M,r),pC(I,"dark",U,r),I.contrastText||(I.contrastText=_(I.main)),I};let T;return e==="light"?T=hk():e==="dark"&&(T=dk()),Cr({common:{...ff},mode:e,primary:v({color:o,name:"primary"}),secondary:v({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:h,name:"error"}),warning:v({color:g,name:"warning"}),info:v({color:d,name:"info"}),success:v({color:f,name:"success"}),grey:K8,contrastThreshold:t,getContrastText:_,augmentColor:v,tonalOffset:r,...T},i)}function t$(n){const e={};return Object.entries(n).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function n$(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function r$(n){return Math.round(n*1e5)/1e5}const mC={textTransform:"uppercase"},gC='"Roboto", "Helvetica", "Arial", sans-serif';function i$(n,e){const{fontFamily:t=gC,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:u=500,fontWeightBold:h=700,htmlFontSize:d=16,allVariants:f,pxToRem:g,..._}=typeof e=="function"?e(n):e,v=r/14,T=g||(x=>`${x/d*v}rem`),w=(x,L,M,U,$)=>({fontFamily:t,fontWeight:x,fontSize:T(L),lineHeight:M,...t===gC?{letterSpacing:`${r$(U/L)}em`}:{},...$,...f}),I={h1:w(i,96,1.167,-1.5),h2:w(i,60,1.2,-.5),h3:w(o,48,1.167,0),h4:w(o,34,1.235,.25),h5:w(o,24,1.334,0),h6:w(u,20,1.6,.15),subtitle1:w(o,16,1.75,.15),subtitle2:w(u,14,1.57,.1),body1:w(o,16,1.5,.15),body2:w(o,14,1.43,.15),button:w(u,14,1.75,.4,mC),caption:w(o,12,1.66,.4),overline:w(o,12,2.66,1,mC),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Cr({htmlFontSize:d,pxToRem:T,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:u,fontWeightBold:h,...I},_,{clone:!1})}const s$=.2,a$=.14,o$=.12;function bt(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${s$})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${a$})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${o$})`].join(",")}const l$=["none",bt(0,2,1,-1,0,1,1,0,0,1,3,0),bt(0,3,1,-2,0,2,2,0,0,1,5,0),bt(0,3,3,-2,0,3,4,0,0,1,8,0),bt(0,2,4,-1,0,4,5,0,0,1,10,0),bt(0,3,5,-1,0,5,8,0,0,1,14,0),bt(0,3,5,-1,0,6,10,0,0,1,18,0),bt(0,4,5,-2,0,7,10,1,0,2,16,1),bt(0,5,5,-3,0,8,10,1,0,3,14,2),bt(0,5,6,-3,0,9,12,1,0,3,16,2),bt(0,6,6,-3,0,10,14,1,0,4,18,3),bt(0,6,7,-4,0,11,15,1,0,4,20,3),bt(0,7,8,-4,0,12,17,2,0,5,22,4),bt(0,7,8,-4,0,13,19,2,0,5,24,4),bt(0,7,9,-4,0,14,21,2,0,5,26,4),bt(0,8,9,-5,0,15,22,2,0,6,28,5),bt(0,8,10,-5,0,16,24,2,0,6,30,5),bt(0,8,11,-5,0,17,26,2,0,6,32,5),bt(0,9,11,-5,0,18,28,2,0,7,34,6),bt(0,9,12,-6,0,19,29,2,0,7,36,6),bt(0,10,13,-6,0,20,31,3,0,8,38,7),bt(0,10,13,-6,0,21,33,3,0,8,40,7),bt(0,10,14,-6,0,22,35,3,0,8,42,7),bt(0,11,14,-7,0,23,36,3,0,9,44,8),bt(0,11,15,-7,0,24,38,3,0,9,46,8)],u$={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},c$={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function yC(n){return`${Math.round(n)}ms`}function h$(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function d$(n){const e={...u$,...n.easing},t={...c$,...n.duration};return{getAutoHeightDuration:h$,create:(i=["all"],o={})=>{const{duration:u=t.standard,easing:h=e.easeInOut,delay:d=0,...f}=o;return(Array.isArray(i)?i:[i]).map(g=>`${g} ${typeof u=="string"?u:yC(u)} ${h} ${typeof d=="string"?d:yC(d)}`).join(",")},...n,easing:e,duration:t}}const f$={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function p$(n){return Rs(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function fk(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[u,h]=i[o];!p$(h)||u.startsWith("unstable_")?delete r[u]:Rs(h)&&(r[u]={...h},t(r[u]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function OE(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:o={},transitions:u={},typography:h={},shape:d,...f}=n;if(n.vars)throw new Error(Tl(20));const g=Bw(o),_=ok(n);let v=Cr(_,{mixins:n$(_.breakpoints,r),palette:g,shadows:l$.slice(),typography:i$(g,h),transitions:d$(u),zIndex:{...f$}});return v=Cr(v,f),v=e.reduce((T,w)=>Cr(T,w),v),v.unstable_sxConfig={...Uy,...f==null?void 0:f.unstable_sxConfig},v.unstable_sx=function(w){return yc({sx:w,theme:this})},v.toRuntimeSource=fk,v}function m$(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const g$=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=m$(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function pk(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function mk(n){return n==="dark"?g$:[]}function y$(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,o=Bw(e);return{palette:o,opacity:{...pk(o.mode),...t},overlays:r||mk(o.mode),...i}}function _$(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const v$=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],E$=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const u={};return v$(n.cssVarPrefix).forEach(h=>{u[h]=t[h],delete t[h]}),o==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:u}}:o?{[o.replace("%s",e)]:u,[`${r}, ${o.replace("%s",e)}`]:t}:{[r]:{...t,...u}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(o)return o.replace("%s",String(e))}return r};function b$(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function oe(n,e,t){!n[e]&&t&&(n[e]=t)}function Sd(n){return typeof n!="string"||!n.startsWith("hsl")?n:ck(n)}function Ss(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Td(Sd(n[e])))}function w$(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const xi=n=>{try{return n()}catch{}},T$=(n="mui")=>z8(n);function R0(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=y$({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...u}=OE({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:o,opacity:{...pk(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||mk(i)},u}function S$(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:u=_$,colorSchemeSelector:h=t.light&&t.dark?"media":void 0,rootSelector:d=":root",...f}=n,g=Object.keys(t)[0],_=r||(t.light&&g!=="light"?"light":g),v=T$(o),{[_]:T,light:w,dark:I,...x}=t,L={...x};let M=T;if((_==="dark"&&!("dark"in t)||_==="light"&&!("light"in t))&&(M=!0),!M)throw new Error(Tl(21,_));const U=R0(L,M,f,_);w&&!L.light&&R0(L,w,void 0,"light"),I&&!L.dark&&R0(L,I,void 0,"dark");let $={defaultColorScheme:_,...U,cssVarPrefix:o,colorSchemeSelector:h,rootSelector:d,getCssVar:v,colorSchemes:L,font:{...t$(U.typography),...U.font},spacing:w$(f.spacing)};Object.keys($.colorSchemes).forEach(R=>{const b=$.colorSchemes[R].palette,P=O=>{const D=O.split("-"),te=D[1],B=D[2];return v(O,b[te][B])};if(b.mode==="light"&&(oe(b.common,"background","#fff"),oe(b.common,"onBackground","#000")),b.mode==="dark"&&(oe(b.common,"background","#000"),oe(b.common,"onBackground","#fff")),b$(b,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),b.mode==="light"){oe(b.Alert,"errorColor",ft(b.error.light,.6)),oe(b.Alert,"infoColor",ft(b.info.light,.6)),oe(b.Alert,"successColor",ft(b.success.light,.6)),oe(b.Alert,"warningColor",ft(b.warning.light,.6)),oe(b.Alert,"errorFilledBg",P("palette-error-main")),oe(b.Alert,"infoFilledBg",P("palette-info-main")),oe(b.Alert,"successFilledBg",P("palette-success-main")),oe(b.Alert,"warningFilledBg",P("palette-warning-main")),oe(b.Alert,"errorFilledColor",xi(()=>b.getContrastText(b.error.main))),oe(b.Alert,"infoFilledColor",xi(()=>b.getContrastText(b.info.main))),oe(b.Alert,"successFilledColor",xi(()=>b.getContrastText(b.success.main))),oe(b.Alert,"warningFilledColor",xi(()=>b.getContrastText(b.warning.main))),oe(b.Alert,"errorStandardBg",pt(b.error.light,.9)),oe(b.Alert,"infoStandardBg",pt(b.info.light,.9)),oe(b.Alert,"successStandardBg",pt(b.success.light,.9)),oe(b.Alert,"warningStandardBg",pt(b.warning.light,.9)),oe(b.Alert,"errorIconColor",P("palette-error-main")),oe(b.Alert,"infoIconColor",P("palette-info-main")),oe(b.Alert,"successIconColor",P("palette-success-main")),oe(b.Alert,"warningIconColor",P("palette-warning-main")),oe(b.AppBar,"defaultBg",P("palette-grey-100")),oe(b.Avatar,"defaultBg",P("palette-grey-400")),oe(b.Button,"inheritContainedBg",P("palette-grey-300")),oe(b.Button,"inheritContainedHoverBg",P("palette-grey-A100")),oe(b.Chip,"defaultBorder",P("palette-grey-400")),oe(b.Chip,"defaultAvatarColor",P("palette-grey-700")),oe(b.Chip,"defaultIconColor",P("palette-grey-700")),oe(b.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),oe(b.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),oe(b.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),oe(b.LinearProgress,"primaryBg",pt(b.primary.main,.62)),oe(b.LinearProgress,"secondaryBg",pt(b.secondary.main,.62)),oe(b.LinearProgress,"errorBg",pt(b.error.main,.62)),oe(b.LinearProgress,"infoBg",pt(b.info.main,.62)),oe(b.LinearProgress,"successBg",pt(b.success.main,.62)),oe(b.LinearProgress,"warningBg",pt(b.warning.main,.62)),oe(b.Skeleton,"bg",`rgba(${P("palette-text-primaryChannel")} / 0.11)`),oe(b.Slider,"primaryTrack",pt(b.primary.main,.62)),oe(b.Slider,"secondaryTrack",pt(b.secondary.main,.62)),oe(b.Slider,"errorTrack",pt(b.error.main,.62)),oe(b.Slider,"infoTrack",pt(b.info.main,.62)),oe(b.Slider,"successTrack",pt(b.success.main,.62)),oe(b.Slider,"warningTrack",pt(b.warning.main,.62));const O=Sm(b.background.default,.8);oe(b.SnackbarContent,"bg",O),oe(b.SnackbarContent,"color",xi(()=>b.getContrastText(O))),oe(b.SpeedDialAction,"fabHoverBg",Sm(b.background.paper,.15)),oe(b.StepConnector,"border",P("palette-grey-400")),oe(b.StepContent,"border",P("palette-grey-400")),oe(b.Switch,"defaultColor",P("palette-common-white")),oe(b.Switch,"defaultDisabledColor",P("palette-grey-100")),oe(b.Switch,"primaryDisabledColor",pt(b.primary.main,.62)),oe(b.Switch,"secondaryDisabledColor",pt(b.secondary.main,.62)),oe(b.Switch,"errorDisabledColor",pt(b.error.main,.62)),oe(b.Switch,"infoDisabledColor",pt(b.info.main,.62)),oe(b.Switch,"successDisabledColor",pt(b.success.main,.62)),oe(b.Switch,"warningDisabledColor",pt(b.warning.main,.62)),oe(b.TableCell,"border",pt(Tm(b.divider,1),.88)),oe(b.Tooltip,"bg",Tm(b.grey[700],.92))}if(b.mode==="dark"){oe(b.Alert,"errorColor",pt(b.error.light,.6)),oe(b.Alert,"infoColor",pt(b.info.light,.6)),oe(b.Alert,"successColor",pt(b.success.light,.6)),oe(b.Alert,"warningColor",pt(b.warning.light,.6)),oe(b.Alert,"errorFilledBg",P("palette-error-dark")),oe(b.Alert,"infoFilledBg",P("palette-info-dark")),oe(b.Alert,"successFilledBg",P("palette-success-dark")),oe(b.Alert,"warningFilledBg",P("palette-warning-dark")),oe(b.Alert,"errorFilledColor",xi(()=>b.getContrastText(b.error.dark))),oe(b.Alert,"infoFilledColor",xi(()=>b.getContrastText(b.info.dark))),oe(b.Alert,"successFilledColor",xi(()=>b.getContrastText(b.success.dark))),oe(b.Alert,"warningFilledColor",xi(()=>b.getContrastText(b.warning.dark))),oe(b.Alert,"errorStandardBg",ft(b.error.light,.9)),oe(b.Alert,"infoStandardBg",ft(b.info.light,.9)),oe(b.Alert,"successStandardBg",ft(b.success.light,.9)),oe(b.Alert,"warningStandardBg",ft(b.warning.light,.9)),oe(b.Alert,"errorIconColor",P("palette-error-main")),oe(b.Alert,"infoIconColor",P("palette-info-main")),oe(b.Alert,"successIconColor",P("palette-success-main")),oe(b.Alert,"warningIconColor",P("palette-warning-main")),oe(b.AppBar,"defaultBg",P("palette-grey-900")),oe(b.AppBar,"darkBg",P("palette-background-paper")),oe(b.AppBar,"darkColor",P("palette-text-primary")),oe(b.Avatar,"defaultBg",P("palette-grey-600")),oe(b.Button,"inheritContainedBg",P("palette-grey-800")),oe(b.Button,"inheritContainedHoverBg",P("palette-grey-700")),oe(b.Chip,"defaultBorder",P("palette-grey-700")),oe(b.Chip,"defaultAvatarColor",P("palette-grey-300")),oe(b.Chip,"defaultIconColor",P("palette-grey-300")),oe(b.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),oe(b.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),oe(b.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),oe(b.LinearProgress,"primaryBg",ft(b.primary.main,.5)),oe(b.LinearProgress,"secondaryBg",ft(b.secondary.main,.5)),oe(b.LinearProgress,"errorBg",ft(b.error.main,.5)),oe(b.LinearProgress,"infoBg",ft(b.info.main,.5)),oe(b.LinearProgress,"successBg",ft(b.success.main,.5)),oe(b.LinearProgress,"warningBg",ft(b.warning.main,.5)),oe(b.Skeleton,"bg",`rgba(${P("palette-text-primaryChannel")} / 0.13)`),oe(b.Slider,"primaryTrack",ft(b.primary.main,.5)),oe(b.Slider,"secondaryTrack",ft(b.secondary.main,.5)),oe(b.Slider,"errorTrack",ft(b.error.main,.5)),oe(b.Slider,"infoTrack",ft(b.info.main,.5)),oe(b.Slider,"successTrack",ft(b.success.main,.5)),oe(b.Slider,"warningTrack",ft(b.warning.main,.5));const O=Sm(b.background.default,.98);oe(b.SnackbarContent,"bg",O),oe(b.SnackbarContent,"color",xi(()=>b.getContrastText(O))),oe(b.SpeedDialAction,"fabHoverBg",Sm(b.background.paper,.15)),oe(b.StepConnector,"border",P("palette-grey-600")),oe(b.StepContent,"border",P("palette-grey-600")),oe(b.Switch,"defaultColor",P("palette-grey-300")),oe(b.Switch,"defaultDisabledColor",P("palette-grey-600")),oe(b.Switch,"primaryDisabledColor",ft(b.primary.main,.55)),oe(b.Switch,"secondaryDisabledColor",ft(b.secondary.main,.55)),oe(b.Switch,"errorDisabledColor",ft(b.error.main,.55)),oe(b.Switch,"infoDisabledColor",ft(b.info.main,.55)),oe(b.Switch,"successDisabledColor",ft(b.success.main,.55)),oe(b.Switch,"warningDisabledColor",ft(b.warning.main,.55)),oe(b.TableCell,"border",ft(Tm(b.divider,1),.68)),oe(b.Tooltip,"bg",Tm(b.grey[700],.92))}Ss(b.background,"default"),Ss(b.background,"paper"),Ss(b.common,"background"),Ss(b.common,"onBackground"),Ss(b,"divider"),Object.keys(b).forEach(O=>{const D=b[O];O!=="tonalOffset"&&D&&typeof D=="object"&&(D.main&&oe(b[O],"mainChannel",Td(Sd(D.main))),D.light&&oe(b[O],"lightChannel",Td(Sd(D.light))),D.dark&&oe(b[O],"darkChannel",Td(Sd(D.dark))),D.contrastText&&oe(b[O],"contrastTextChannel",Td(Sd(D.contrastText))),O==="text"&&(Ss(b[O],"primary"),Ss(b[O],"secondary")),O==="action"&&(D.active&&Ss(b[O],"active"),D.selected&&Ss(b[O],"selected")))})}),$=e.reduce((R,b)=>Cr(R,b),$);const j={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:u,getSelector:E$($)},{vars:H,generateThemeVars:V,generateStyleSheets:C}=$8($,j);return $.vars=H,Object.entries($.colorSchemes[$.defaultColorScheme]).forEach(([R,b])=>{$[R]=b}),$.generateThemeVars=V,$.generateStyleSheets=C,$.generateSpacing=function(){return ak(f.spacing,Ow(this))},$.getColorSchemeSelector=G8(h),$.spacing=$.generateSpacing(),$.shouldSkipGeneratingVar=u,$.unstable_sxConfig={...Uy,...f==null?void 0:f.unstable_sxConfig},$.unstable_sx=function(b){return yc({sx:b,theme:this})},$.toRuntimeSource=fk,$}function _C(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:Bw({...t===!0?{}:t.palette,mode:e})})}function A$(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:o=t==null?void 0:t.mode,...u}=n,h=o||"light",d=i==null?void 0:i[h],f={...i,...t?{[h]:{...typeof d!="boolean"&&d,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return OE(n,...e);let g=t;"palette"in n||f[h]&&(f[h]!==!0?g=f[h].palette:h==="dark"&&(g={mode:"dark"}));const _=OE({...n,palette:g},...e);return _.defaultColorScheme=h,_.colorSchemes=f,_.palette.mode==="light"&&(_.colorSchemes.light={...f.light!==!0&&f.light,palette:_.palette},_C(_,"dark",f.dark)),_.palette.mode==="dark"&&(_.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:_.palette},_C(_,"light",f.light)),_}return!t&&!("light"in f)&&h==="light"&&(f.light=!0),S$({...u,colorSchemes:f,defaultColorScheme:h,...typeof r!="boolean"&&r},...e)}const I$=A$(),R$="$$material";function gk(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const C$=n=>gk(n)&&n!=="classes",qf=C8({themeId:R$,defaultTheme:I$,rootShouldForwardProp:C$}),Fw=j8;function yk(n){return F8(n)}function x$(n){return Cw("MuiSvgIcon",n)}GN("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const P$=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${ro(e)}`,`fontSize${ro(t)}`]};return zN(i,x$,r)},O$=qf("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${ro(t.color)}`],e[`fontSize${ro(t.fontSize)}`]]}})(Fw(({theme:n})=>{var e,t,r,i,o,u,h,d,f,g,_,v,T,w;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=n.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:I=>!I.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((u=(o=n.typography)==null?void 0:o.pxToRem)==null?void 0:u.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((d=(h=n.typography)==null?void 0:h.pxToRem)==null?void 0:d.call(h,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((g=(f=n.typography)==null?void 0:f.pxToRem)==null?void 0:g.call(f,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,I])=>I&&I.main).map(([I])=>{var x,L;return{props:{color:I},style:{color:(L=(x=(n.vars??n).palette)==null?void 0:x[I])==null?void 0:L.main}}}),{props:{color:"action"},style:{color:(v=(_=(n.vars??n).palette)==null?void 0:_.action)==null?void 0:v.active}},{props:{color:"disabled"},style:{color:(w=(T=(n.vars??n).palette)==null?void 0:T.action)==null?void 0:w.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),DE=W.forwardRef(function(e,t){const r=yk({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:u="inherit",component:h="svg",fontSize:d="medium",htmlColor:f,inheritViewBox:g=!1,titleAccess:_,viewBox:v="0 0 24 24",...T}=r,w=W.isValidElement(i)&&i.type==="svg",I={...r,color:u,component:h,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:g,viewBox:v,hasSvgAsChild:w},x={};g||(x.viewBox=v);const L=P$(I);return q.jsxs(O$,{as:h,className:Ld(L.root,o),focusable:"false",color:f,"aria-hidden":_?void 0:!0,role:_?"img":void 0,ref:t,...x,...T,...w&&i.props,ownerState:I,children:[w?i.props.children:i,_?q.jsx("title",{children:_}):null]})});DE.muiName="SvgIcon";function _k(n,e){function t(r,i){return q.jsx(DE,{"data-testid":`${e}Icon`,ref:i,...r,children:n})}return t.muiName=DE.muiName,W.memo(W.forwardRef(t))}const D$=_k(q.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),N$=_k(q.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function k$(n){return Cw("MuiRating",n)}const pd=GN("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function V$(n){const e=n.toString().split(".")[1];return e?e.length:0}function C0(n,e){if(n==null)return n;const t=Math.round(n/e)*e;return Number(t.toFixed(V$(e)))}const M$=n=>{const{classes:e,size:t,readOnly:r,disabled:i,emptyValueFocused:o,focusVisible:u}=n,h={root:["root",`size${ro(t)}`,i&&"disabled",u&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[o&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return zN(h,k$,e)},L$=qf("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${pd.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${ro(t.size)}`],t.readOnly&&e.readOnly]}})(Fw(({theme:n})=>({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${pd.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${pd.focusVisible} .${pd.iconActive}`]:{outline:"1px solid #999"},[`& .${pd.visuallyHidden}`]:vH,variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),vk=qf("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},e)=>[e.label,n.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:n})=>n.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),U$=qf("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.iconEmpty&&e.iconEmpty,t.iconFilled&&e.iconFilled,t.iconHover&&e.iconHover,t.iconFocus&&e.iconFocus,t.iconActive&&e.iconActive]}})(Fw(({theme:n})=>({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(n.vars||n).palette.action.disabled}}]}))),B$=qf("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>gk(n)&&n!=="iconActive",overridesResolver:(n,e)=>{const{iconActive:t}=n;return[e.decimal,t&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:n})=>n,style:{transform:"scale(1.2)"}}]});function F$(n){const{value:e,...t}=n;return q.jsx("span",{...t})}function vC(n){const{classes:e,disabled:t,emptyIcon:r,focus:i,getLabelText:o,highlightSelectedOnly:u,hover:h,icon:d,IconContainerComponent:f,isActive:g,itemValue:_,labelProps:v,name:T,onBlur:w,onChange:I,onClick:x,onFocus:L,readOnly:M,ownerState:U,ratingValue:$,ratingValueRounded:j}=n,H=u?_===$:_<=$,V=_<=h,C=_<=i,R=_===j,b=`${T}-${$N()}`,P=q.jsx(U$,{as:f,value:_,className:Ld(e.icon,H?e.iconFilled:e.iconEmpty,V&&e.iconHover,C&&e.iconFocus,g&&e.iconActive),ownerState:{...U,iconEmpty:!H,iconFilled:H,iconHover:V,iconFocus:C,iconActive:g},children:r&&!H?r:d});return M?q.jsx("span",{...v,children:P}):q.jsxs(W.Fragment,{children:[q.jsxs(vk,{ownerState:{...U,emptyValueFocused:void 0},htmlFor:b,...v,children:[P,q.jsx("span",{className:e.visuallyHidden,children:o(_)})]}),q.jsx("input",{className:e.visuallyHidden,onFocus:L,onBlur:w,onChange:I,onClick:x,disabled:t,value:_,id:b,type:"radio",name:T,checked:R})]})}const j$=q.jsx(D$,{fontSize:"inherit"}),z$=q.jsx(N$,{fontSize:"inherit"});function q$(n){return`${n||"0"} Star${n!==1?"s":""}`}const H$=W.forwardRef(function(e,t){const r=yk({name:"MuiRating",props:e}),{component:i="span",className:o,defaultValue:u=null,disabled:h=!1,emptyIcon:d=z$,emptyLabelText:f="Empty",getLabelText:g=q$,highlightSelectedOnly:_=!1,icon:v=j$,IconContainerComponent:T=F$,max:w=5,name:I,onChange:x,onChangeActive:L,onMouseLeave:M,onMouseMove:U,precision:$=1,readOnly:j=!1,size:H="medium",value:V,...C}=r,R=$N(I),[b,P]=RH({controlled:V,default:u,name:"Rating"}),O=C0(b,$),D=bH(),[{hover:te,focus:B},ee]=W.useState({hover:-1,focus:-1});let ie=O;te!==-1&&(ie=te),B!==-1&&(ie=B);const[ue,Te]=W.useState(!1),z=W.useRef(),ae=CH(z,t),be=Je=>{U&&U(Je);const at=z.current,{right:Jt,left:fr,width:Mn}=at.getBoundingClientRect();let Or;D?Or=(Jt-Je.clientX)/Mn:Or=(Je.clientX-fr)/Mn;let Ln=C0(w*Or+$/2,$);Ln=jN(Ln,$,w),ee(rr=>rr.hover===Ln&&rr.focus===Ln?rr:{hover:Ln,focus:Ln}),Te(!1),L&&te!==Ln&&L(Je,Ln)},ve=Je=>{M&&M(Je);const at=-1;ee({hover:at,focus:at}),L&&te!==at&&L(Je,at)},ye=Je=>{let at=Je.target.value===""?null:parseFloat(Je.target.value);te!==-1&&(at=te),P(at),x&&x(Je,at)},Oe=Je=>{Je.clientX===0&&Je.clientY===0||(ee({hover:-1,focus:-1}),P(null),x&&parseFloat(Je.target.value)===O&&x(Je,null))},De=Je=>{K1(Je.target)&&Te(!0);const at=parseFloat(Je.target.value);ee(Jt=>({hover:Jt.hover,focus:at}))},Ct=Je=>{if(te!==-1)return;K1(Je.target)||Te(!1);const at=-1;ee(Jt=>({hover:Jt.hover,focus:at}))},[ze,_t]=W.useState(!1),$e={...r,component:i,defaultValue:u,disabled:h,emptyIcon:d,emptyLabelText:f,emptyValueFocused:ze,focusVisible:ue,getLabelText:g,icon:v,IconContainerComponent:T,max:w,precision:$,readOnly:j,size:H},Et=M$($e);return q.jsxs(L$,{as:i,ref:ae,onMouseMove:be,onMouseLeave:ve,className:Ld(Et.root,o,j&&"MuiRating-readOnly"),ownerState:$e,role:j?"img":null,"aria-label":j?g(ie):null,...C,children:[Array.from(new Array(w)).map((Je,at)=>{const Jt=at+1,fr={classes:Et,disabled:h,emptyIcon:d,focus:B,getLabelText:g,highlightSelectedOnly:_,hover:te,icon:v,IconContainerComponent:T,name:R,onBlur:Ct,onChange:ye,onClick:Oe,onFocus:De,ratingValue:ie,ratingValueRounded:O,readOnly:j,ownerState:$e},Mn=Jt===Math.ceil(ie)&&(te!==-1||B!==-1);if($<1){const Or=Array.from(new Array(1/$));return q.jsx(B$,{className:Ld(Et.decimal,Mn&&Et.iconActive),ownerState:$e,iconActive:Mn,children:Or.map((Ln,rr)=>{const Zr=C0(Jt-1+(rr+1)*$,$);return q.jsx(vC,{...fr,isActive:!1,itemValue:Zr,labelProps:{style:Or.length-1===rr?{}:{width:Zr===ie?`${(rr+1)*$*100}%`:"0%",overflow:"hidden",position:"absolute"}}},Zr)})},Jt)}return q.jsx(vC,{...fr,isActive:Mn,itemValue:Jt},Jt)}),!j&&!h&&q.jsxs(vk,{className:Ld(Et.label,Et.labelEmptyValue),ownerState:$e,children:[q.jsx("input",{className:Et.visuallyHidden,value:"",id:`${R}-empty`,type:"radio",name:R,checked:O==null,onFocus:()=>_t(!0),onBlur:()=>_t(!1),onChange:ye}),q.jsx("span",{className:Et.visuallyHidden,children:f})]})]})});var Xm={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */var $$=Xm.exports,EC;function G$(){return EC||(EC=1,function(n){(function(e,t){n.exports?n.exports=t():e.numeral=t()})($$,function(){var e,t,r="2.0.6",i={},o={},u={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},h={currentLocale:u.currentLocale,zeroFormat:u.zeroFormat,nullFormat:u.nullFormat,defaultFormat:u.defaultFormat,scalePercentBy100:u.scalePercentBy100};function d(f,g){this._input=f,this._value=g}return e=function(f){var g,_,v,T;if(e.isNumeral(f))g=f.value();else if(f===0||typeof f>"u")g=0;else if(f===null||t.isNaN(f))g=null;else if(typeof f=="string")if(h.zeroFormat&&f===h.zeroFormat)g=0;else if(h.nullFormat&&f===h.nullFormat||!f.replace(/[^0-9]+/g,"").length)g=null;else{for(_ in i)if(T=typeof i[_].regexps.unformat=="function"?i[_].regexps.unformat():i[_].regexps.unformat,T&&f.match(T)){v=i[_].unformat;break}v=v||e._.stringToNumber,g=v(f)}else g=Number(f)||null;return new d(f,g)},e.version=r,e.isNumeral=function(f){return f instanceof d},e._=t={numberToFormat:function(f,g,_){var v=o[e.options.currentLocale],T=!1,w=!1,I=0,x="",L=1e12,M=1e9,U=1e6,$=1e3,j="",H=!1,V,C,R,b,P,O,D;if(f=f||0,C=Math.abs(f),e._.includes(g,"(")?(T=!0,g=g.replace(/[\(|\)]/g,"")):(e._.includes(g,"+")||e._.includes(g,"-"))&&(P=e._.includes(g,"+")?g.indexOf("+"):f<0?g.indexOf("-"):-1,g=g.replace(/[\+|\-]/g,"")),e._.includes(g,"a")&&(V=g.match(/a(k|m|b|t)?/),V=V?V[1]:!1,e._.includes(g," a")&&(x=" "),g=g.replace(new RegExp(x+"a[kmbt]?"),""),C>=L&&!V||V==="t"?(x+=v.abbreviations.trillion,f=f/L):C<L&&C>=M&&!V||V==="b"?(x+=v.abbreviations.billion,f=f/M):C<M&&C>=U&&!V||V==="m"?(x+=v.abbreviations.million,f=f/U):(C<U&&C>=$&&!V||V==="k")&&(x+=v.abbreviations.thousand,f=f/$)),e._.includes(g,"[.]")&&(w=!0,g=g.replace("[.]",".")),R=f.toString().split(".")[0],b=g.split(".")[1],O=g.indexOf(","),I=(g.split(".")[0].split(",")[0].match(/0/g)||[]).length,b?(e._.includes(b,"[")?(b=b.replace("]",""),b=b.split("["),j=e._.toFixed(f,b[0].length+b[1].length,_,b[1].length)):j=e._.toFixed(f,b.length,_),R=j.split(".")[0],e._.includes(j,".")?j=v.delimiters.decimal+j.split(".")[1]:j="",w&&Number(j.slice(1))===0&&(j="")):R=e._.toFixed(f,0,_),x&&!V&&Number(R)>=1e3&&x!==v.abbreviations.trillion)switch(R=String(Number(R)/1e3),x){case v.abbreviations.thousand:x=v.abbreviations.million;break;case v.abbreviations.million:x=v.abbreviations.billion;break;case v.abbreviations.billion:x=v.abbreviations.trillion;break}if(e._.includes(R,"-")&&(R=R.slice(1),H=!0),R.length<I)for(var te=I-R.length;te>0;te--)R="0"+R;return O>-1&&(R=R.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+v.delimiters.thousands)),g.indexOf(".")===0&&(R=""),D=R+j+(x||""),T?D=(T&&H?"(":"")+D+(T&&H?")":""):P>=0?D=P===0?(H?"-":"+")+D:D+(H?"-":"+"):H&&(D="-"+D),D},stringToNumber:function(f){var g=o[h.currentLocale],_=f,v={thousand:3,million:6,billion:9,trillion:12},T,w,I;if(h.zeroFormat&&f===h.zeroFormat)w=0;else if(h.nullFormat&&f===h.nullFormat||!f.replace(/[^0-9]+/g,"").length)w=null;else{w=1,g.delimiters.decimal!=="."&&(f=f.replace(/\./g,"").replace(g.delimiters.decimal,"."));for(T in v)if(I=new RegExp("[^a-zA-Z]"+g.abbreviations[T]+"(?:\\)|(\\"+g.currency.symbol+")?(?:\\))?)?$"),_.match(I)){w*=Math.pow(10,v[T]);break}w*=(f.split("-").length+Math.min(f.split("(").length-1,f.split(")").length-1))%2?1:-1,f=f.replace(/[^0-9\.]+/g,""),w*=Number(f)}return w},isNaN:function(f){return typeof f=="number"&&isNaN(f)},includes:function(f,g){return f.indexOf(g)!==-1},insert:function(f,g,_){return f.slice(0,_)+g+f.slice(_)},reduce:function(f,g){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof g!="function")throw new TypeError(g+" is not a function");var _=Object(f),v=_.length>>>0,T=0,w;if(arguments.length===3)w=arguments[2];else{for(;T<v&&!(T in _);)T++;if(T>=v)throw new TypeError("Reduce of empty array with no initial value");w=_[T++]}for(;T<v;T++)T in _&&(w=g(w,_[T],T,_));return w},multiplier:function(f){var g=f.toString().split(".");return g.length<2?1:Math.pow(10,g[1].length)},correctionFactor:function(){var f=Array.prototype.slice.call(arguments);return f.reduce(function(g,_){var v=t.multiplier(_);return g>v?g:v},1)},toFixed:function(f,g,_,v){var T=f.toString().split("."),w=g-(v||0),I,x,L,M;return T.length===2?I=Math.min(Math.max(T[1].length,w),g):I=w,L=Math.pow(10,I),M=(_(f+"e+"+I)/L).toFixed(I),v>g-I&&(x=new RegExp("\\.?0{1,"+(v-(g-I))+"}$"),M=M.replace(x,"")),M}},e.options=h,e.formats=i,e.locales=o,e.locale=function(f){return f&&(h.currentLocale=f.toLowerCase()),h.currentLocale},e.localeData=function(f){if(!f)return o[h.currentLocale];if(f=f.toLowerCase(),!o[f])throw new Error("Unknown locale : "+f);return o[f]},e.reset=function(){for(var f in u)h[f]=u[f]},e.zeroFormat=function(f){h.zeroFormat=typeof f=="string"?f:null},e.nullFormat=function(f){h.nullFormat=typeof f=="string"?f:null},e.defaultFormat=function(f){h.defaultFormat=typeof f=="string"?f:"0.0"},e.register=function(f,g,_){if(g=g.toLowerCase(),this[f+"s"][g])throw new TypeError(g+" "+f+" already registered.");return this[f+"s"][g]=_,_},e.validate=function(f,g){var _,v,T,w,I,x,L,M;if(typeof f!="string"&&(f+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",f)),f=f.trim(),f.match(/^\d+$/))return!0;if(f==="")return!1;try{L=e.localeData(g)}catch{L=e.localeData(e.locale())}return T=L.currency.symbol,I=L.abbreviations,_=L.delimiters.decimal,L.delimiters.thousands==="."?v="\\.":v=L.delimiters.thousands,M=f.match(/^[^\d]+/),M!==null&&(f=f.substr(1),M[0]!==T)||(M=f.match(/[^\d]+$/),M!==null&&(f=f.slice(0,-1),M[0]!==I.thousand&&M[0]!==I.million&&M[0]!==I.billion&&M[0]!==I.trillion))?!1:(x=new RegExp(v+"{2}"),f.match(/[^\d.,]/g)?!1:(w=f.split(_),w.length>2?!1:w.length<2?!!w[0].match(/^\d+.*\d$/)&&!w[0].match(x):w[0].length===1?!!w[0].match(/^\d+$/)&&!w[0].match(x)&&!!w[1].match(/^\d+$/):!!w[0].match(/^\d+.*\d$/)&&!w[0].match(x)&&!!w[1].match(/^\d+$/)))},e.fn=d.prototype={clone:function(){return e(this)},format:function(f,g){var _=this._value,v=f||h.defaultFormat,T,w,I;if(g=g||Math.round,_===0&&h.zeroFormat!==null)w=h.zeroFormat;else if(_===null&&h.nullFormat!==null)w=h.nullFormat;else{for(T in i)if(v.match(i[T].regexps.format)){I=i[T].format;break}I=I||e._.numberToFormat,w=I(_,v,g)}return w},value:function(){return this._value},input:function(){return this._input},set:function(f){return this._value=Number(f),this},add:function(f){var g=t.correctionFactor.call(null,this._value,f);function _(v,T,w,I){return v+Math.round(g*T)}return this._value=t.reduce([this._value,f],_,0)/g,this},subtract:function(f){var g=t.correctionFactor.call(null,this._value,f);function _(v,T,w,I){return v-Math.round(g*T)}return this._value=t.reduce([f],_,Math.round(this._value*g))/g,this},multiply:function(f){function g(_,v,T,w){var I=t.correctionFactor(_,v);return Math.round(_*I)*Math.round(v*I)/Math.round(I*I)}return this._value=t.reduce([this._value,f],g,1),this},divide:function(f){function g(_,v,T,w){var I=t.correctionFactor(_,v);return Math.round(_*I)/Math.round(v*I)}return this._value=t.reduce([this._value,f],g),this},difference:function(f){return Math.abs(e(this._value).subtract(f).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(f){var g=f%10;return~~(f%100/10)===1?"th":g===1?"st":g===2?"nd":g===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(f,g,_){var v=e._.includes(g," BPS")?" ":"",T;return f=f*1e4,g=g.replace(/\s?BPS/,""),T=e._.numberToFormat(f,g,_),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,v+"BPS"),T=T.join("")):T=T+v+"BPS",T},unformat:function(f){return+(e._.stringToNumber(f)*1e-4).toFixed(15)}})}(),function(){var f={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},g={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},_=f.suffixes.concat(g.suffixes.filter(function(T){return f.suffixes.indexOf(T)<0})),v=_.join("|");v="("+v.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(v)},format:function(T,w,I){var x,L=e._.includes(w,"ib")?g:f,M=e._.includes(w," b")||e._.includes(w," ib")?" ":"",U,$,j;for(w=w.replace(/\s?i?b/,""),U=0;U<=L.suffixes.length;U++)if($=Math.pow(L.base,U),j=Math.pow(L.base,U+1),T===null||T===0||T>=$&&T<j){M+=L.suffixes[U],$>0&&(T=T/$);break}return x=e._.numberToFormat(T,w,I),x+M},unformat:function(T){var w=e._.stringToNumber(T),I,x;if(w){for(I=f.suffixes.length-1;I>=0;I--){if(e._.includes(T,f.suffixes[I])){x=Math.pow(f.base,I);break}if(e._.includes(T,g.suffixes[I])){x=Math.pow(g.base,I);break}}w*=x||1}return w}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(f,g,_){var v=e.locales[e.options.currentLocale],T={before:g.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:g.match(/([\+|\-|\)|\s|\$]*)$/)[0]},w,I,x;for(g=g.replace(/\s?\$\s?/,""),w=e._.numberToFormat(f,g,_),f>=0?(T.before=T.before.replace(/[\-\(]/,""),T.after=T.after.replace(/[\-\)]/,"")):f<0&&!e._.includes(T.before,"-")&&!e._.includes(T.before,"(")&&(T.before="-"+T.before),x=0;x<T.before.length;x++)switch(I=T.before[x],I){case"$":w=e._.insert(w,v.currency.symbol,x);break;case" ":w=e._.insert(w," ",x+v.currency.symbol.length-1);break}for(x=T.after.length-1;x>=0;x--)switch(I=T.after[x],I){case"$":w=x===T.after.length-1?w+v.currency.symbol:e._.insert(w,v.currency.symbol,-(T.after.length-(1+x)));break;case" ":w=x===T.after.length-1?w+" ":e._.insert(w," ",-(T.after.length-(1+x)+v.currency.symbol.length-1));break}return w}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(f,g,_){var v,T=typeof f=="number"&&!e._.isNaN(f)?f.toExponential():"0e+0",w=T.split("e");return g=g.replace(/e[\+|\-]{1}0/,""),v=e._.numberToFormat(Number(w[0]),g,_),v+"e"+w[1]},unformat:function(f){var g=e._.includes(f,"e+")?f.split("e+"):f.split("e-"),_=Number(g[0]),v=Number(g[1]);v=e._.includes(f,"e-")?v*=-1:v;function T(w,I,x,L){var M=e._.correctionFactor(w,I),U=w*M*(I*M)/(M*M);return U}return e._.reduce([_,Math.pow(10,v)],T,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(f,g,_){var v=e.locales[e.options.currentLocale],T,w=e._.includes(g," o")?" ":"";return g=g.replace(/\s?o/,""),w+=v.ordinal(f),T=e._.numberToFormat(f,g,_),T+w}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(f,g,_){var v=e._.includes(g," %")?" ":"",T;return e.options.scalePercentBy100&&(f=f*100),g=g.replace(/\s?\%/,""),T=e._.numberToFormat(f,g,_),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,v+"%"),T=T.join("")):T=T+v+"%",T},unformat:function(f){var g=e._.stringToNumber(f);return e.options.scalePercentBy100?g*.01:g}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(f,g,_){var v=Math.floor(f/60/60),T=Math.floor((f-v*60*60)/60),w=Math.round(f-v*60*60-T*60);return v+":"+(T<10?"0"+T:T)+":"+(w<10?"0"+w:w)},unformat:function(f){var g=f.split(":"),_=0;return g.length===3?(_=_+Number(g[0])*60*60,_=_+Number(g[1])*60,_=_+Number(g[2])):g.length===2&&(_=_+Number(g[0])*60,_=_+Number(g[1])),Number(_)}})}(),e})}(Xm)),Xm.exports}var K$=G$();const W$=ME(K$),jw=({amount:n})=>{const e=W$(n).format("$0,0.00");return q.jsx("div",{children:e})},Q$="_card_container_1cq75_1",Y$="_button_1cq75_17",X$="_rating_1cq75_69",J$="_products_container_1cq75_79",Z$="_product_flexed_1cq75_101",Vu={card_container:Q$,button:Y$,rating:X$,products_container:J$,product_flexed:Z$},Fc=({product:n,flex:e,renderDesc:t,renderAdd:r})=>{const{image:i,title:o,id:u,rating:h,price:d,description:f}=n,[g,_]=W.useContext(Fs),v=()=>{_({type:Ui.ADD_TO_BASKET,item:{image:i,title:o,id:u,rating:h,price:d,description:f}})};return q.jsxs("div",{className:`${Vu.card_container} ${e?Vu.product_flexed:""}`,children:[q.jsx(li,{to:`/products/${u}`,children:q.jsx("img",{src:i,alt:"",className:Vu.img_container})}),q.jsxs("div",{children:[q.jsx("h3",{children:o}),t&&q.jsx("div",{style:{maxWidth:"700px"},children:f}),q.jsxs("div",{className:Vu.rating,children:[q.jsx(H$,{value:h==null?void 0:h.rate,precision:.1}),q.jsx("small",{children:h==null?void 0:h.count})]}),q.jsx("div",{children:q.jsx(jw,{amount:d})}),r&&q.jsx("button",{className:Vu.button,onClick:v,children:"add to cart"})]})]})};var eG={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function Ek(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var r=(n.match(/[^0-9]*$/)||"").toString();return eG[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function Lu(n){var e=Ek(n);return"".concat(e.value).concat(e.unit)}var bk=function(n,e,t){var r="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var o=i.sheet,u=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return o&&o.insertRule(u,0),r},kg=function(){return kg=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},kg.apply(this,arguments)},tG=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},nG=bk("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function NE(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,u=o===void 0?1:o,h=n.cssOverride,d=h===void 0?{}:h,f=n.size,g=f===void 0?35:f,_=tG(n,["loading","color","speedMultiplier","cssOverride","size"]),v=kg({background:"transparent !important",width:Lu(g),height:Lu(g),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(nG," ").concat(.75/u,"s 0s infinite linear"),animationFillMode:"both"},d);return t?W.createElement("span",kg({style:v},_)):null}var nn=function(){return nn=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},nn.apply(this,arguments)},rG=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},iG=bk("FadeLoader","50% {opacity: 0.3} 100% {opacity: 1}","fade");function sG(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,u=o===void 0?1:o,h=n.cssOverride,d=h===void 0?{}:h,f=n.height,g=f===void 0?15:f,_=n.width,v=_===void 0?5:_,T=n.radius,w=T===void 0?2:T,I=n.margin,x=I===void 0?2:I,L=rG(n,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),M=Ek(x).value,U=M+18,$=U/2+U/5.5,j=nn({display:"inherit",position:"relative",fontSize:"0",top:U,left:U,width:"".concat(U*3,"px"),height:"".concat(U*3,"px")},d),H=function(B){return{position:"absolute",width:Lu(v),height:Lu(g),margin:Lu(x),backgroundColor:i,borderRadius:Lu(w),transition:"2s",animationFillMode:"both",animation:"".concat(iG," ").concat(1.2/u,"s ").concat(B*.12,"s infinite ease-in-out")}},V=nn(nn({},H(1)),{top:"".concat(U,"px"),left:"0"}),C=nn(nn({},H(2)),{top:"".concat($,"px"),left:"".concat($,"px"),transform:"rotate(-45deg)"}),R=nn(nn({},H(3)),{top:"0",left:"".concat(U,"px"),transform:"rotate(90deg)"}),b=nn(nn({},H(4)),{top:"".concat(-1*$,"px"),left:"".concat($,"px"),transform:"rotate(45deg)"}),P=nn(nn({},H(5)),{top:"".concat(-1*U,"px"),left:"0"}),O=nn(nn({},H(6)),{top:"".concat(-1*$,"px"),left:"".concat(-1*$,"px"),transform:"rotate(-45deg)"}),D=nn(nn({},H(7)),{top:"0",left:"".concat(-1*U,"px"),transform:"rotate(90deg)"}),te=nn(nn({},H(8)),{top:"".concat($,"px"),left:"".concat(-1*$,"px"),transform:"rotate(45deg)"});return t?W.createElement("span",nn({style:j},L),W.createElement("span",{style:V}),W.createElement("span",{style:C}),W.createElement("span",{style:R}),W.createElement("span",{style:b}),W.createElement("span",{style:P}),W.createElement("span",{style:O}),W.createElement("span",{style:D}),W.createElement("span",{style:te})):null}const zw=()=>q.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"50vh"},children:q.jsx(sG,{color:"#36d7b7"})}),aG=()=>{const[n,e]=W.useState(null),[t,r]=W.useState(!1);return W.useEffect(()=>{Rt.get("https://fakestoreapi.com/products").then(i=>{e(i.data),r(!1)}).catch(i=>{console.log(i),r(!1)})},[]),q.jsx(q.Fragment,{children:t?q.jsx(zw,{}):q.jsx("section",{className:Vu.products_container,children:n==null?void 0:n.map(i=>q.jsx(Fc,{renderAdd:!0,product:i},i.id))})})},oG=()=>q.jsxs(Mc,{children:[q.jsx(L9,{}),q.jsx(z9,{}),q.jsx(aG,{})]}),lG="_payment_header_c43b3_1",uG="_payment_c43b3_1",cG="_flex_c43b3_19",hG="_payment_card_container_c43b3_47",dG="_payment_price_c43b3_55",fG="_payment_details_c43b3_71",pG="_loading_c43b3_95",As={payment_header:lG,payment:uG,flex:cG,payment_card_container:hG,payment_price:dG,payment_details:fG,loading:pG};function bC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function wC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bC(Object(t),!0).forEach(function(r){wk(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Jm(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Jm=function(e){return typeof e}:Jm=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jm(n)}function wk(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Tk(n,e){return mG(n)||gG(n,e)||yG(n,e)||_G()}function mG(n){if(Array.isArray(n))return n}function gG(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],i=!0,o=!1,u,h;try{for(t=t.call(n);!(i=(u=t.next()).done)&&(r.push(u.value),!(e&&r.length===e));i=!0);}catch(d){o=!0,h=d}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw h}}return r}}function yG(n,e){if(n){if(typeof n=="string")return TC(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return TC(n,e)}}function TC(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function _G(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var wr=function(e,t,r){var i=!!r,o=Ke.useRef(r);Ke.useEffect(function(){o.current=r},[r]),Ke.useEffect(function(){if(!i||!e)return function(){};var u=function(){o.current&&o.current.apply(o,arguments)};return e.on(t,u),function(){e.off(t,u)}},[i,t,e,o])},kE=function(e){var t=Ke.useRef(e);return Ke.useEffect(function(){t.current=e},[e]),t.current},vc=function(e){return e!==null&&Jm(e)==="object"},vG=function(e){return vc(e)&&typeof e.then=="function"},EG=function(e){return vc(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},SC="[object Object]",bG=function n(e,t){if(!vc(e)||!vc(t))return e===t;var r=Array.isArray(e),i=Array.isArray(t);if(r!==i)return!1;var o=Object.prototype.toString.call(e)===SC,u=Object.prototype.toString.call(t)===SC;if(o!==u)return!1;if(!o&&!r)return e===t;var h=Object.keys(e),d=Object.keys(t);if(h.length!==d.length)return!1;for(var f={},g=0;g<h.length;g+=1)f[h[g]]=!0;for(var _=0;_<d.length;_+=1)f[d[_]]=!0;var v=Object.keys(f);if(v.length!==h.length)return!1;var T=e,w=t,I=function(L){return n(T[L],w[L])};return v.every(I)},Sk=function(e,t,r){return vc(e)?Object.keys(e).reduce(function(i,o){var u=!vc(t)||!bG(e[o],t[o]);return r.includes(o)?(u&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),i):u?wC(wC({},i||{}),{},wk({},o,e[o])):i},null):null},Ak="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",AC=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ak;if(e===null||EG(e))return e;throw new Error(t)},wG=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ak;if(vG(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return AC(i,t)})};var r=AC(e,t);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},TG=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.1.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.1.0",url:"https://stripe.com/docs/stripe-js/react"}))},qy=Ke.createContext(null);qy.displayName="ElementsContext";var Ik=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},Rk=function(e){var t=e.stripe,r=e.options,i=e.children,o=Ke.useMemo(function(){return wG(t)},[t]),u=Ke.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(r):null}}),h=Tk(u,2),d=h[0],f=h[1];Ke.useEffect(function(){var v=!0,T=function(I){f(function(x){return x.stripe?x:{stripe:I,elements:I.elements(r)}})};return o.tag==="async"&&!d.stripe?o.stripePromise.then(function(w){w&&v&&T(w)}):o.tag==="sync"&&!d.stripe&&T(o.stripe),function(){v=!1}},[o,d,r]);var g=kE(t);Ke.useEffect(function(){g!==null&&g!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[g,t]);var _=kE(r);return Ke.useEffect(function(){if(d.elements){var v=Sk(r,_,["clientSecret","fonts"]);v&&d.elements.update(v)}},[r,_,d.elements]),Ke.useEffect(function(){TG(d.stripe)},[d.stripe]),Ke.createElement(qy.Provider,{value:d},i)};Rk.propTypes={stripe:Dt.any,options:Dt.object};var SG=function(e){var t=Ke.useContext(qy);return Ik(t,e)},AG=function(){var e=SG("calls useElements()"),t=e.elements;return t};Dt.func.isRequired;var Ck=Ke.createContext(null);Ck.displayName="CheckoutSdkContext";var IG=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},RG=Ke.createContext(null);RG.displayName="CheckoutContext";Dt.any,Dt.shape({clientSecret:Dt.string.isRequired,elementsOptions:Dt.object}).isRequired;var VE=function(e){var t=Ke.useContext(Ck),r=Ke.useContext(qy);if(t&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?IG(t,e):Ik(r,e)},CG=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},on=function(e,t){var r="".concat(CG(e),"Element"),i=function(d){var f=d.id,g=d.className,_=d.options,v=_===void 0?{}:_,T=d.onBlur,w=d.onFocus,I=d.onReady,x=d.onChange,L=d.onEscape,M=d.onClick,U=d.onLoadError,$=d.onLoaderStart,j=d.onNetworksChange,H=d.onConfirm,V=d.onCancel,C=d.onShippingAddressChange,R=d.onShippingRateChange,b=VE("mounts <".concat(r,">")),P="elements"in b?b.elements:null,O="checkoutSdk"in b?b.checkoutSdk:null,D=Ke.useState(null),te=Tk(D,2),B=te[0],ee=te[1],ie=Ke.useRef(null),ue=Ke.useRef(null);wr(B,"blur",T),wr(B,"focus",w),wr(B,"escape",L),wr(B,"click",M),wr(B,"loaderror",U),wr(B,"loaderstart",$),wr(B,"networkschange",j),wr(B,"confirm",H),wr(B,"cancel",V),wr(B,"shippingaddresschange",C),wr(B,"shippingratechange",R),wr(B,"change",x);var Te;I&&(e==="expressCheckout"?Te=I:Te=function(){I(B)}),wr(B,"ready",Te),Ke.useLayoutEffect(function(){if(ie.current===null&&ue.current!==null&&(P||O)){var ae=null;O?ae=O.createElement(e,v):P&&(ae=P.create(e,v)),ie.current=ae,ee(ae),ae&&ae.mount(ue.current)}},[P,O,v]);var z=kE(v);return Ke.useEffect(function(){if(ie.current){var ae=Sk(v,z,["paymentRequest"]);ae&&"update"in ie.current&&ie.current.update(ae)}},[v,z]),Ke.useLayoutEffect(function(){return function(){if(ie.current&&typeof ie.current.destroy=="function")try{ie.current.destroy(),ie.current=null}catch{}}},[]),Ke.createElement("div",{id:f,className:g,ref:ue})},o=function(d){VE("mounts <".concat(r,">"));var f=d.id,g=d.className;return Ke.createElement("div",{id:f,className:g})},u=t?o:i;return u.propTypes={id:Dt.string,className:Dt.string,onChange:Dt.func,onBlur:Dt.func,onFocus:Dt.func,onReady:Dt.func,onEscape:Dt.func,onClick:Dt.func,onLoadError:Dt.func,onLoaderStart:Dt.func,onNetworksChange:Dt.func,onConfirm:Dt.func,onCancel:Dt.func,onShippingAddressChange:Dt.func,onShippingRateChange:Dt.func,options:Dt.object},u.displayName=r,u.__elementType=e,u},ln=typeof window>"u",xG=Ke.createContext(null);xG.displayName="EmbeddedCheckoutProviderContext";var PG=function(){var e=VE("calls useStripe()"),t=e.stripe;return t};on("auBankAccount",ln);var IC=on("card",ln);on("cardNumber",ln);on("cardExpiry",ln);on("cardCvc",ln);on("fpxBank",ln);on("iban",ln);on("idealBank",ln);on("p24Bank",ln);on("epsBank",ln);on("payment",ln);on("expressCheckout",ln);on("currencySelector",ln);on("paymentRequestButton",ln);on("linkAuthentication",ln);on("address",ln);on("shippingAddress",ln);on("paymentMethodMessaging",ln);on("affirmMessage",ln);on("afterpayClearpayMessage",ln);const OG=Rt.create({baseURL:"https://us-central1-clone-2025-ece77.cloudfunctions.net/api"}),DG=()=>{const[{user:n,basket:e},t]=W.useContext(Fs),r=e==null?void 0:e.reduce((w,I)=>I.amount+w,0),i=e.reduce((w,I)=>I.price*I.amount+w,0),[o,u]=W.useState(null),[h,d]=W.useState(!1),f=PG(),g=AG(),_=Mg(),v=w=>{var I,x;(I=w==null?void 0:w.error)!=null&&I.message?u((x=w==null?void 0:w.error)==null?void 0:x.message):u("")},T=async w=>{var I;w.preventDefault();try{d(!0);const L=(I=(await OG({method:"POST",url:`/payment/create?total=${i*100}`})).data)==null?void 0:I.clientSecret,{paymentIntent:M}=await f.confirmCardPayment(L,{payment_method:{card:g.getElement(IC)}});await lN.collection("users").doc(n==null?void 0:n.uid).collection("orders").doc(M==null?void 0:M.id).set({basket:e,amount:M==null?void 0:M.amount,created:M==null?void 0:M.created}),t({type:Ui.EMPTY_BASKET}),d(!1),_("/orders",{state:{msg:"You have placed new order"}})}catch(x){console.log(x),d(!1)}};return q.jsxs(Mc,{children:[q.jsxs("div",{className:As.payment_header,children:["Checkout(",r,") items"]}),q.jsxs("section",{className:As.payment,children:[q.jsxs("div",{className:As.flex,children:[q.jsx("h3",{children:"Delivery Address"}),q.jsxs("div",{children:[q.jsx("div",{children:n==null?void 0:n.email}),q.jsx("div",{children:"123 React Lane"}),q.jsx("div",{children:"Chicago, IL"})]})]}),q.jsx("hr",{}),q.jsxs("div",{className:As.flex,children:[q.jsx("h3",{children:"Review Items and Delivery"}),q.jsx("div",{children:e==null?void 0:e.map(w=>q.jsx(Fc,{product:w,flex:!0}))})]}),q.jsx("hr",{}),q.jsxs("div",{className:As.flex,children:[q.jsx("h3",{children:"Payment methods"}),q.jsx("div",{className:As.payment_card_container,children:q.jsx("div",{className:As.payment_details,children:q.jsxs("form",{onSubmit:T,children:[o&&q.jsx("small",{style:{color:"red"},children:o}),q.jsx(IC,{onChange:v}),q.jsxs("div",{className:As.payment_price,children:[q.jsx("div",{children:q.jsxs("span",{style:{display:"flex",gap:"10px"},children:[q.jsx("p",{children:"Total Order |"})," ",q.jsx(jw,{amount:i})]})}),q.jsx("button",{type:"submit",children:h?q.jsxs("div",{className:As.loading,children:[q.jsx(NE,{color:"gray",size:12}),q.jsx("p",{children:"Please wait..."})]}):" Pay Now"})]})]})})})]})]})]})},NG="_container_y41g7_1",kG="_orders_container_y41g7_9",RC={container:NG,orders_container:kG},VG=()=>{const[{user:n},e]=W.useContext(Fs),[t,r]=W.useState([]);return W.useEffect(()=>{n?lN.collection("users").doc(n.uid).collection("orders").orderBy("created","desc").onSnapshot(i=>{console.log(i),r(i.docs.map(o=>({id:o.id,data:o.data()})))}):r([])},[]),q.jsx(Mc,{children:q.jsx("section",{className:RC.container,children:q.jsxs("div",{className:RC.orders_container,children:[q.jsx("h2",{children:"Your Orders"}),(t==null?void 0:t.length)==0&&q.jsx("div",{style:{padding:"20px"},children:"You don't have orders yet."}),q.jsx("div",{children:t==null?void 0:t.map((i,o)=>{var u,h;return q.jsxs("div",{children:[q.jsx("hr",{}),q.jsxs("p",{children:["Order ID:",i==null?void 0:i.id]}),(h=(u=i==null?void 0:i.data)==null?void 0:u.basket)==null?void 0:h.map(d=>q.jsx(Fc,{flex:!0,product:d},d.id))]},o)})})]})})})},MG="_container_wfxl7_1",LG="_cart_product_wfxl7_19",UG="_btn_container_wfxl7_27",BG="_btn_wfxl7_27",FG="_subtotal_wfxl7_61",jG="_cart_container_wfxl7_67",Ko={container:MG,cart_product:LG,btn_container:UG,btn:BG,subtotal:FG,cart_container:jG},zG=()=>{const[{basket:n,user:e},t]=W.useContext(Fs),r=n.reduce((u,h)=>h.price*h.amount+u,0),i=u=>{t({type:Ui.ADD_TO_BASKET,item:u})},o=u=>{t({type:Ui.REMOVE_FROM_BASKET,id:u})};return q.jsx(Mc,{children:q.jsxs("section",{className:Ko.container,children:[q.jsxs("div",{className:Ko.cart_container,children:[q.jsx("h2",{children:"Hello"}),q.jsx("h3",{children:"Your shopping basket"}),q.jsx("hr",{}),(n==null?void 0:n.length)==0?q.jsx("p",{children:" Opps! No item in your cart"}):n==null?void 0:n.map((u,h)=>q.jsxs("section",{className:Ko.cart_product,children:[q.jsx(Fc,{product:u,renderDesc:!0,renderAdd:!1,flex:!0},h),q.jsxs("div",{className:Ko.btn_container,children:[q.jsx("button",{className:Ko.btn,onClick:()=>i(u),children:q.jsx(nL,{size:15})}),q.jsx("span",{children:u.amount}),q.jsx("button",{className:Ko.btn,onClick:()=>o(u.id),children:q.jsx(tL,{size:15})})]})]}))]}),(n==null?void 0:n.length)!==0&&q.jsxs("div",{className:Ko.subtotal,children:[q.jsxs("div",{children:[q.jsxs("p",{children:["Subtotal(",n==null?void 0:n.length,"items)"]}),q.jsx(jw,{amount:r})]}),q.jsxs("span",{children:[q.jsx("input",{type:"checkbox"}),q.jsx("small",{children:"This order contains a gift"})]}),q.jsx(li,{to:"/payments",children:"Continue to checkout"})]})]})})},qG="_login_1juy8_1",HG="_login_container_1juy8_23",$G="_login_signInButton_1juy8_91",GG="_login_registerbutton_1juy8_123",Am={login:qG,login_container:HG,login_signInButton:$G,login_registerbutton:GG},KG=()=>{var T,w;const[n,e]=W.useState(""),[t,r]=W.useState(""),[i,o]=W.useState(""),[u,h]=W.useState({signIn:!1,SignUp:!1}),[{user:d},f]=W.useContext(Fs),g=Mg(),_=ao();console.log(_);const v=async I=>{I.preventDefault(),console.log(I.target.name),I.target.name=="signin"?(h({...u,signIn:!0}),Qx(xg,n,t).then(x=>{var L;console.log(x),f({type:lI.SET_USER,user:x.user}),h({...u,signIn:!1}),g(((L=_==null?void 0:_.state)==null?void 0:L.redirect)||"/")}).catch(x=>{o(x.message),h({...u,signIn:!1})})):(h({...u,SignUp:!0}),Wx(xg,n,t).then(x=>{var L;f({type:lI.SET_USER,user:x.user}),h({...u,SignUp:!1}),g(((L=_==null?void 0:_.state)==null?void 0:L.redirect)||"/")}).catch(x=>{o(x.message),h({...u,SignUp:!1})}))};return q.jsxs("section",{className:Am.login,children:[q.jsx(li,{to:"/",children:q.jsx("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG8.png",alt:"amazon logo"})}),q.jsxs("div",{className:Am.login_container,children:[q.jsx("h1",{children:"Sign In"}),((T=_==null?void 0:_.state)==null?void 0:T.msg)&&q.jsx("small",{style:{padding:"5px",textAlign:"center",color:"red",fontWeight:"bold"},children:(w=_==null?void 0:_.state)==null?void 0:w.msg}),q.jsxs("form",{action:"",children:[q.jsxs("div",{children:[q.jsx("label",{htmlFor:"email",children:"Email"}),q.jsx("input",{value:n,onChange:I=>e(I.target.value),type:"email",name:"",id:"email"})]}),q.jsxs("div",{children:[q.jsx("label",{htmlFor:"password",children:"Password"}),q.jsx("input",{value:t,onChange:I=>r(I.target.value),type:"password",name:"",id:"password"})]}),q.jsx("button",{type:"submit",name:"signin",onClick:v,className:Am.login_signInButton,children:u.signIn?q.jsx(NE,{color:"#000",size:15}):"Sign In"})]}),q.jsx("p",{children:"By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use & Sale. Please see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice."}),q.jsx("button",{type:"submit",name:"signup",onClick:v,className:Am.login_registerbutton,children:u.SignUp?q.jsx(NE,{color:"#000",size:15}):"Create Your Amazon Account"}),i&&q.jsx("small",{style:{padding:"10px",color:"red"},children:i})]})]})},WG="_products_container_1s38g_1",QG={products_container:WG},xk="https://fakestoreapi.com",YG=()=>{const[n,e]=W.useState([]),[t,r]=W.useState(!1),{categoryName:i}=BC();return W.useEffect(()=>{r(!0),Rt.get(`${xk}/products/category/${i}`).then(o=>{console.log(o),e(o.data),r(!1)}).catch(o=>{console.log(o),r(!1)})},[]),q.jsx(Mc,{children:q.jsxs("section",{children:[q.jsx("h1",{style:{padding:"30px"},children:"Results"}),q.jsxs("p",{style:{padding:"30px"},children:["Category /",i]}),q.jsx("hr",{}),t?q.jsx(zw,{}):q.jsx("div",{className:QG.products_container,children:n==null?void 0:n.map(o=>q.jsx(Fc,{renderAdd:!0,renderDesc:!1,product:o},o.id))})]})})},XG=()=>{const{productId:n}=BC(),[e,t]=W.useState({}),[r,i]=W.useState(!1);return W.useEffect(()=>{i(!0),Rt.get(`${xk}/products/${n}`).then(o=>{t(o.data),i(!1)}).catch(o=>{console.log(o),i(!1)})},[]),q.jsx(Mc,{children:r?q.jsx(zw,{}):q.jsx(Fc,{product:e,flex:!0,renderDesc:!0,renderAdd:!0})})};var Pk="https://js.stripe.com",JG="".concat(Pk,"/v3"),ZG=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,eK=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var tK=function(e){return ZG.test(e)||eK.test(e)},nK=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Pk,'"]')),t=0;t<e.length;t++){var r=e[t];if(tK(r.src))return r}return null},CC=function(e){var t="",r=document.createElement("script");r.src="".concat(JG).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},rK=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"5.7.0",startTime:t})},md=null,Im=null,Rm=null,iK=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},sK=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},aK=function(e){return md!==null?md:(md=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var i=nK();if(!(i&&e)){if(!i)i=CC(e);else if(i&&Rm!==null&&Im!==null){var o;i.removeEventListener("load",Rm),i.removeEventListener("error",Im),(o=i.parentNode)===null||o===void 0||o.removeChild(i),i=CC(e)}}Rm=sK(t,r),Im=iK(r),i.addEventListener("load",Rm),i.addEventListener("error",Im)}catch(u){r(u);return}}),md.catch(function(t){return md=null,Promise.reject(t)}))},oK=function(e,t,r){if(e===null)return null;var i=e.apply(void 0,t);return rK(i,r),i},gd,Ok=!1,Dk=function(){return gd||(gd=aK(null).catch(function(e){return gd=null,Promise.reject(e)}),gd)};Promise.resolve().then(function(){return Dk()}).catch(function(n){Ok||console.warn(n)});var lK=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Ok=!0;var i=Date.now();return Dk().then(function(o){return oK(o,t,i)})};const xC=({children:n,msg:e,redirect:t})=>{const r=Mg(),[{user:i},o]=W.useContext(Fs);return W.useEffect(()=>{i||r("/auth",{state:{msg:e,redirect:t}})},[i]),n},uK=lK("pk_test_51Qx8DDJiOsWVgYUfJRtrvOWULdmiUnKHfZHUfFALENbPKw5m3dsNNO5savZPttl2WMsMr8LoCl62Ji98yuANRC6n00DDaKHpA9"),cK=()=>q.jsx(RM,{children:q.jsxs(rM,{children:[q.jsx(Na,{path:"/",element:q.jsx(oG,{})}),q.jsx(Na,{path:"/auth",element:q.jsx(KG,{})}),q.jsx(Na,{path:"/payments",element:q.jsx(xC,{msg:"You must log in to pay",redirect:"/payments",children:q.jsx(Rk,{stripe:uK,children:q.jsx(DG,{})})})}),q.jsx(Na,{path:"/orders",element:q.jsx(xC,{msg:"You must log in to access your orders",redirect:"/orders",children:q.jsx(VG,{})})}),q.jsx(Na,{path:"/category/:categoryName",element:q.jsx(YG,{})}),q.jsx(Na,{path:"/products/:productId",element:q.jsx(XG,{})}),q.jsx(Na,{path:"/cart",element:q.jsx(zG,{})})]})});function hK(){const[{user:n},e]=W.useContext(Fs);return W.useEffect(()=>{xg.onAuthStateChanged(t=>{e(t?{type:Ui.SET_USER,user:t}:{type:Ui.SET_USER,user:null})})},[]),q.jsx(cK,{})}fV.createRoot(document.getElementById("root")).render(q.jsx(W.StrictMode,{children:q.jsx(lL,{reducer:oL,initialState:aL,children:q.jsx(hK,{})})}));
